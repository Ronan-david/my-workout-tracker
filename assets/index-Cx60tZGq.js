(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function jc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Pe={},Zs=[],mn=()=>{},Tb=()=>!1,wa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yc=t=>t.startsWith("onUpdate:"),yt=Object.assign,Gc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ib=Object.prototype.hasOwnProperty,Se=(t,e)=>Ib.call(t,e),te=Array.isArray,ei=t=>Ur(t)==="[object Map]",Ca=t=>Ur(t)==="[object Set]",gh=t=>Ur(t)==="[object Date]",re=t=>typeof t=="function",Ye=t=>typeof t=="string",vn=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",sg=t=>(Ne(t)||re(t))&&re(t.then)&&re(t.catch),ig=Object.prototype.toString,Ur=t=>ig.call(t),Pb=t=>Ur(t).slice(8,-1),rg=t=>Ur(t)==="[object Object]",Kc=t=>Ye(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gi=jc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ea=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ab=/-(\w)/g,jt=Ea(t=>t.replace(Ab,(e,n)=>n?n.toUpperCase():"")),Rb=/\B([A-Z])/g,$s=Ea(t=>t.replace(Rb,"-$1").toLowerCase()),Sa=Ea(t=>t.charAt(0).toUpperCase()+t.slice(1)),ll=Ea(t=>t?`on${Sa(t)}`:""),Zn=(t,e)=>!Object.is(t,e),Po=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Kl=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Wo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let mh;const ka=()=>mh||(mh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ta(t){if(te(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ye(s)?Nb(s):Ta(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ye(t)||Ne(t))return t}const Ob=/;(?![^(]*\))/g,Mb=/:([^]+)/,Db=/\/\*[^]*?\*\//g;function Nb(t){const e={};return t.replace(Db,"").split(Ob).forEach(n=>{if(n){const s=n.split(Mb);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ms(t){let e="";if(Ye(t))e=t;else if(te(t))for(let n=0;n<t.length;n++){const s=Ms(t[n]);s&&(e+=s+" ")}else if(Ne(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Lb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fb=jc(Lb);function og(t){return!!t||t===""}function Wb(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ia(t[s],e[s]);return n}function Ia(t,e){if(t===e)return!0;let n=gh(t),s=gh(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=vn(t),s=vn(e),n||s)return t===e;if(n=te(t),s=te(e),n||s)return n&&s?Wb(t,e):!1;if(n=Ne(t),s=Ne(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ia(t[o],e[o]))return!1}}return String(t)===String(e)}function $b(t,e){return t.findIndex(n=>Ia(n,e))}const ag=t=>!!(t&&t.__v_isRef===!0),ue=t=>Ye(t)?t:t==null?"":te(t)||Ne(t)&&(t.toString===ig||!re(t.toString))?ag(t)?ue(t.value):JSON.stringify(t,lg,2):String(t),lg=(t,e)=>ag(e)?lg(t,e.value):ei(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[cl(s,r)+" =>"]=i,n),{})}:Ca(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>cl(n))}:vn(e)?cl(e):Ne(e)&&!te(e)&&!rg(e)?String(e):e,cl=(t,e="")=>{var n;return vn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tt;class cg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tt,!e&&Tt&&(this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Tt;try{return Tt=this,e()}finally{Tt=n}}}on(){++this._on===1&&(this.prevScope=Tt,Tt=this)}off(){this._on>0&&--this._on===0&&(Tt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Hb(t){return new cg(t)}function Bb(){return Tt}let Re;const ul=new WeakSet;class ug{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tt&&Tt.active&&Tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ul.has(this)&&(ul.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_h(this),dg(this);const e=Re,n=Zt;Re=this,Zt=!0;try{return this.fn()}finally{pg(this),Re=e,Zt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Qc(e);this.deps=this.depsTail=void 0,_h(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ul.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ql(this)&&this.run()}get dirty(){return ql(this)}}let hg=0,Ki,qi;function fg(t,e=!1){if(t.flags|=8,e){t.next=qi,qi=t;return}t.next=Ki,Ki=t}function qc(){hg++}function Xc(){if(--hg>0)return;if(qi){let e=qi;for(qi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ki;){let e=Ki;for(Ki=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function dg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function pg(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Qc(s),Vb(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function ql(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(gg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function gg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===pr)||(t.globalVersion=pr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ql(t))))return;t.flags|=2;const e=t.dep,n=Re,s=Zt;Re=t,Zt=!0;try{dg(t);const i=t.fn(t._value);(e.version===0||Zn(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Re=n,Zt=s,pg(t),t.flags&=-3}}function Qc(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Qc(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Vb(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Zt=!0;const mg=[];function Hn(){mg.push(Zt),Zt=!1}function Bn(){const t=mg.pop();Zt=t===void 0?!0:t}function _h(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Re;Re=void 0;try{e()}finally{Re=n}}}let pr=0;class Ub{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Re||!Zt||Re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Re)n=this.activeLink=new Ub(Re,this),Re.deps?(n.prevDep=Re.depsTail,Re.depsTail.nextDep=n,Re.depsTail=n):Re.deps=Re.depsTail=n,_g(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Re.depsTail,n.nextDep=void 0,Re.depsTail.nextDep=n,Re.depsTail=n,Re.deps===n&&(Re.deps=s)}return n}trigger(e){this.version++,pr++,this.notify(e)}notify(e){qc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xc()}}}function _g(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)_g(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Xl=new WeakMap,Rs=Symbol(""),Ql=Symbol(""),gr=Symbol("");function pt(t,e,n){if(Zt&&Re){let s=Xl.get(t);s||Xl.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Jc),i.map=s,i.key=n),i.track()}}function On(t,e,n,s,i,r){const o=Xl.get(t);if(!o){pr++;return}const a=l=>{l&&l.trigger()};if(qc(),e==="clear")o.forEach(a);else{const l=te(t),c=l&&Kc(n);if(l&&n==="length"){const u=Number(s);o.forEach((h,f)=>{(f==="length"||f===gr||!vn(f)&&f>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(gr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Rs)),ei(t)&&a(o.get(Ql)));break;case"delete":l||(a(o.get(Rs)),ei(t)&&a(o.get(Ql)));break;case"set":ei(t)&&a(o.get(Rs));break}}Xc()}function zs(t){const e=me(t);return e===t?e:(pt(e,"iterate",gr),zt(t)?e:e.map(ut))}function Pa(t){return pt(t=me(t),"iterate",gr),t}const zb={__proto__:null,[Symbol.iterator](){return hl(this,Symbol.iterator,ut)},concat(...t){return zs(this).concat(...t.map(e=>te(e)?zs(e):e))},entries(){return hl(this,"entries",t=>(t[1]=ut(t[1]),t))},every(t,e){return En(this,"every",t,e,void 0,arguments)},filter(t,e){return En(this,"filter",t,e,n=>n.map(ut),arguments)},find(t,e){return En(this,"find",t,e,ut,arguments)},findIndex(t,e){return En(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return En(this,"findLast",t,e,ut,arguments)},findLastIndex(t,e){return En(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return En(this,"forEach",t,e,void 0,arguments)},includes(...t){return fl(this,"includes",t)},indexOf(...t){return fl(this,"indexOf",t)},join(t){return zs(this).join(t)},lastIndexOf(...t){return fl(this,"lastIndexOf",t)},map(t,e){return En(this,"map",t,e,void 0,arguments)},pop(){return Ai(this,"pop")},push(...t){return Ai(this,"push",t)},reduce(t,...e){return yh(this,"reduce",t,e)},reduceRight(t,...e){return yh(this,"reduceRight",t,e)},shift(){return Ai(this,"shift")},some(t,e){return En(this,"some",t,e,void 0,arguments)},splice(...t){return Ai(this,"splice",t)},toReversed(){return zs(this).toReversed()},toSorted(t){return zs(this).toSorted(t)},toSpliced(...t){return zs(this).toSpliced(...t)},unshift(...t){return Ai(this,"unshift",t)},values(){return hl(this,"values",ut)}};function hl(t,e,n){const s=Pa(t),i=s[e]();return s!==t&&!zt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const jb=Array.prototype;function En(t,e,n,s,i,r){const o=Pa(t),a=o!==t&&!zt(t),l=o[e];if(l!==jb[e]){const h=l.apply(t,r);return a?ut(h):h}let c=n;o!==t&&(a?c=function(h,f){return n.call(this,ut(h),f,t)}:n.length>2&&(c=function(h,f){return n.call(this,h,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function yh(t,e,n,s){const i=Pa(t);let r=n;return i!==t&&(zt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,ut(a),l,t)}),i[e](r,...s)}function fl(t,e,n){const s=me(t);pt(s,"iterate",gr);const i=s[e](...n);return(i===-1||i===!1)&&zr(n[0])?(n[0]=me(n[0]),s[e](...n)):i}function Ai(t,e,n=[]){Hn(),qc();const s=me(t)[e].apply(t,n);return Xc(),Bn(),s}const Yb=jc("__proto__,__v_isRef,__isVue"),yg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vn));function Gb(t){vn(t)||(t=String(t));const e=me(this);return pt(e,"has",t),e.hasOwnProperty(t)}class bg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?sv:Cg:r?wg:xg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=te(e);if(!i){let l;if(o&&(l=zb[n]))return l;if(n==="hasOwnProperty")return Gb}const a=Reflect.get(e,n,ht(e)?e:s);return(vn(n)?yg.has(n):Yb(n))||(i||pt(e,"get",n),r)?a:ht(a)?o&&Kc(n)?a:a.value:Ne(a)?i?Sg(a):Aa(a):a}}class vg extends bg{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=os(r);if(!zt(s)&&!os(s)&&(r=me(r),s=me(s)),!te(e)&&ht(r)&&!ht(s))return l?!1:(r.value=s,!0)}const o=te(e)&&Kc(n)?Number(n)<e.length:Se(e,n),a=Reflect.set(e,n,s,ht(e)?e:i);return e===me(i)&&(o?Zn(s,r)&&On(e,"set",n,s):On(e,"add",n,s)),a}deleteProperty(e,n){const s=Se(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&On(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!vn(n)||!yg.has(n))&&pt(e,"has",n),s}ownKeys(e){return pt(e,"iterate",te(e)?"length":Rs),Reflect.ownKeys(e)}}class Kb extends bg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const qb=new vg,Xb=new Kb,Qb=new vg(!0);const Jl=t=>t,io=t=>Reflect.getPrototypeOf(t);function Jb(t,e,n){return function(...s){const i=this.__v_raw,r=me(i),o=ei(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Jl:e?$o:ut;return!e&&pt(r,"iterate",l?Ql:Rs),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function ro(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Zb(t,e){const n={get(i){const r=this.__v_raw,o=me(r),a=me(i);t||(Zn(i,a)&&pt(o,"get",i),pt(o,"get",a));const{has:l}=io(o),c=e?Jl:t?$o:ut;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&pt(me(i),"iterate",Rs),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=me(r),a=me(i);return t||(Zn(i,a)&&pt(o,"has",i),pt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=me(a),c=e?Jl:t?$o:ut;return!t&&pt(l,"iterate",Rs),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return yt(n,t?{add:ro("add"),set:ro("set"),delete:ro("delete"),clear:ro("clear")}:{add(i){!e&&!zt(i)&&!os(i)&&(i=me(i));const r=me(this);return io(r).has.call(r,i)||(r.add(i),On(r,"add",i,i)),this},set(i,r){!e&&!zt(r)&&!os(r)&&(r=me(r));const o=me(this),{has:a,get:l}=io(o);let c=a.call(o,i);c||(i=me(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Zn(r,u)&&On(o,"set",i,r):On(o,"add",i,r),this},delete(i){const r=me(this),{has:o,get:a}=io(r);let l=o.call(r,i);l||(i=me(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&On(r,"delete",i,void 0),c},clear(){const i=me(this),r=i.size!==0,o=i.clear();return r&&On(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Jb(i,t,e)}),n}function Zc(t,e){const n=Zb(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Se(n,i)&&i in s?n:s,i,r)}const ev={get:Zc(!1,!1)},tv={get:Zc(!1,!0)},nv={get:Zc(!0,!1)};const xg=new WeakMap,wg=new WeakMap,Cg=new WeakMap,sv=new WeakMap;function iv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rv(t){return t.__v_skip||!Object.isExtensible(t)?0:iv(Pb(t))}function Aa(t){return os(t)?t:eu(t,!1,qb,ev,xg)}function Eg(t){return eu(t,!1,Qb,tv,wg)}function Sg(t){return eu(t,!0,Xb,nv,Cg)}function eu(t,e,n,s,i){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=rv(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function ti(t){return os(t)?ti(t.__v_raw):!!(t&&t.__v_isReactive)}function os(t){return!!(t&&t.__v_isReadonly)}function zt(t){return!!(t&&t.__v_isShallow)}function zr(t){return t?!!t.__v_raw:!1}function me(t){const e=t&&t.__v_raw;return e?me(e):t}function ov(t){return!Se(t,"__v_skip")&&Object.isExtensible(t)&&Kl(t,"__v_skip",!0),t}const ut=t=>Ne(t)?Aa(t):t,$o=t=>Ne(t)?Sg(t):t;function ht(t){return t?t.__v_isRef===!0:!1}function Je(t){return kg(t,!1)}function Ra(t){return kg(t,!0)}function kg(t,e){return ht(t)?t:new av(t,e)}class av{constructor(e,n){this.dep=new Jc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:me(e),this._value=n?e:ut(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||zt(e)||os(e);e=s?e:me(e),Zn(e,n)&&(this._rawValue=e,this._value=s?e:ut(e),this.dep.trigger())}}function Q(t){return ht(t)?t.value:t}const lv={get:(t,e,n)=>e==="__v_raw"?t:Q(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return ht(i)&&!ht(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Tg(t){return ti(t)?t:new Proxy(t,lv)}class cv{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Jc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return fg(this,!0),!0}get value(){const e=this.dep.track();return gg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function uv(t,e,n=!1){let s,i;return re(t)?s=t:(s=t.get,i=t.set),new cv(s,i,n)}const oo={},Ho=new WeakMap;let vs;function hv(t,e=!1,n=vs){if(n){let s=Ho.get(n);s||Ho.set(n,s=[]),s.push(t)}}function fv(t,e,n=Pe){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=w=>i?w:zt(w)||i===!1||i===0?Mn(w,1):Mn(w);let u,h,f,d,g=!1,p=!1;if(ht(t)?(h=()=>t.value,g=zt(t)):ti(t)?(h=()=>c(t),g=!0):te(t)?(p=!0,g=t.some(w=>ti(w)||zt(w)),h=()=>t.map(w=>{if(ht(w))return w.value;if(ti(w))return c(w);if(re(w))return l?l(w,2):w()})):re(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Hn();try{f()}finally{Bn()}}const w=vs;vs=u;try{return l?l(t,3,[d]):t(d)}finally{vs=w}}:h=mn,e&&i){const w=h,k=i===!0?1/0:i;h=()=>Mn(w(),k)}const _=Bb(),m=()=>{u.stop(),_&&_.active&&Gc(_.effects,u)};if(r&&e){const w=e;e=(...k)=>{w(...k),m()}}let x=p?new Array(t.length).fill(oo):oo;const E=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const k=u.run();if(i||g||(p?k.some((A,I)=>Zn(A,x[I])):Zn(k,x))){f&&f();const A=vs;vs=u;try{const I=[k,x===oo?void 0:p&&x[0]===oo?[]:x,d];x=k,l?l(e,3,I):e(...I)}finally{vs=A}}}else u.run()};return a&&a(E),u=new ug(h),u.scheduler=o?()=>o(E,!1):E,d=w=>hv(w,!1,u),f=u.onStop=()=>{const w=Ho.get(u);if(w){if(l)l(w,4);else for(const k of w)k();Ho.delete(u)}},e?s?E(!0):x=u.run():o?o(E.bind(null,!0),!0):u.run(),m.pause=u.pause.bind(u),m.resume=u.resume.bind(u),m.stop=m,m}function Mn(t,e=1/0,n){if(e<=0||!Ne(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ht(t))Mn(t.value,e,n);else if(te(t))for(let s=0;s<t.length;s++)Mn(t[s],e,n);else if(Ca(t)||ei(t))t.forEach(s=>{Mn(s,e,n)});else if(rg(t)){for(const s in t)Mn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Mn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jr(t,e,n,s){try{return s?t(...s):t()}catch(i){Oa(i,e,n)}}function xn(t,e,n,s){if(re(t)){const i=jr(t,e,n,s);return i&&sg(i)&&i.catch(r=>{Oa(r,e,n)}),i}if(te(t)){const i=[];for(let r=0;r<t.length;r++)i.push(xn(t[r],e,n,s));return i}}function Oa(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Pe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(r){Hn(),jr(r,null,10,[t,l,c]),Bn();return}}dv(t,n,i,s,o)}function dv(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Ct=[];let hn=-1;const ni=[];let qn=null,Ks=0;const Ig=Promise.resolve();let Bo=null;function Ma(t){const e=Bo||Ig;return t?e.then(this?t.bind(this):t):e}function pv(t){let e=hn+1,n=Ct.length;for(;e<n;){const s=e+n>>>1,i=Ct[s],r=mr(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function tu(t){if(!(t.flags&1)){const e=mr(t),n=Ct[Ct.length-1];!n||!(t.flags&2)&&e>=mr(n)?Ct.push(t):Ct.splice(pv(e),0,t),t.flags|=1,Pg()}}function Pg(){Bo||(Bo=Ig.then(Rg))}function gv(t){te(t)?ni.push(...t):qn&&t.id===-1?qn.splice(Ks+1,0,t):t.flags&1||(ni.push(t),t.flags|=1),Pg()}function bh(t,e,n=hn+1){for(;n<Ct.length;n++){const s=Ct[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ct.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ag(t){if(ni.length){const e=[...new Set(ni)].sort((n,s)=>mr(n)-mr(s));if(ni.length=0,qn){qn.push(...e);return}for(qn=e,Ks=0;Ks<qn.length;Ks++){const n=qn[Ks];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qn=null,Ks=0}}const mr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Rg(t){try{for(hn=0;hn<Ct.length;hn++){const e=Ct[hn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),jr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;hn<Ct.length;hn++){const e=Ct[hn];e&&(e.flags&=-2)}hn=-1,Ct.length=0,Ag(),Bo=null,(Ct.length||ni.length)&&Rg()}}let Nt=null,Og=null;function Vo(t){const e=Nt;return Nt=t,Og=t&&t.type.__scopeId||null,e}function Dn(t,e=Nt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Oh(-1);const r=Vo(e);let o;try{o=t(...i)}finally{Vo(r),s._d&&Oh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ds(t,e){if(Nt===null)return t;const n=Fa(Nt),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Pe]=e[i];r&&(re(r)&&(r={mounted:r,updated:r}),r.deep&&Mn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function gs(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Hn(),xn(l,n,8,[t.el,a,t,e]),Bn())}}const Mg=Symbol("_vte"),mv=t=>t.__isTeleport,Xi=t=>t&&(t.disabled||t.disabled===""),vh=t=>t&&(t.defer||t.defer===""),xh=t=>typeof SVGElement<"u"&&t instanceof SVGElement,wh=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Zl=(t,e)=>{const n=t&&t.to;return Ye(n)?e?e(n):null:n},Dg={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:g,createText:p,createComment:_}}=c,m=Xi(e.props);let{shapeFlag:x,children:E,dynamicChildren:w}=e;if(t==null){const k=e.el=p(""),A=e.anchor=p("");d(k,n,s),d(A,n,s);const I=($,B)=>{x&16&&(i&&i.isCE&&(i.ce._teleportTarget=$),u(E,$,B,i,r,o,a,l))},H=()=>{const $=e.target=Zl(e.props,g),B=Ng($,e,p,d);$&&(o!=="svg"&&xh($)?o="svg":o!=="mathml"&&wh($)&&(o="mathml"),m||(I($,B),Ao(e,!1)))};m&&(I(n,A),Ao(e,!0)),vh(e.props)?(e.el.__isMounted=!1,wt(()=>{H(),delete e.el.__isMounted},r)):H()}else{if(vh(e.props)&&t.el.__isMounted===!1){wt(()=>{Dg.process(t,e,n,s,i,r,o,a,l,c)},r);return}e.el=t.el,e.targetStart=t.targetStart;const k=e.anchor=t.anchor,A=e.target=t.target,I=e.targetAnchor=t.targetAnchor,H=Xi(t.props),$=H?n:A,B=H?k:I;if(o==="svg"||xh(A)?o="svg":(o==="mathml"||wh(A))&&(o="mathml"),w?(f(t.dynamicChildren,w,$,i,r,o,a),ru(t,e,!0)):l||h(t,e,$,B,i,r,o,a,!1),m)H?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ao(e,n,k,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=Zl(e.props,g);V&&ao(e,V,null,c,0)}else H&&ao(e,A,I,c,1);Ao(e,m)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:f}=t;if(h&&(i(c),i(u)),r&&i(l),o&16){const d=r||!Xi(f);for(let g=0;g<a.length;g++){const p=a[g];s(p,e,n,d,!!p.dynamicChildren)}}},move:ao,hydrate:_v};function ao(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,h=r===2;if(h&&s(o,e,n),(!h||Xi(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);h&&s(a,e,n)}function _v(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},h){const f=e.target=Zl(e.props,l);if(f){const d=Xi(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(d)e.anchor=h(o(t),e,a(t),n,s,i,r),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let p=g;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}p=o(p)}e.targetAnchor||Ng(f,e,u,c),h(g&&o(g),e,f,n,s,i,r)}Ao(e,d)}return e.anchor&&o(e.anchor)}const yv=Dg;function Ao(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function Ng(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[Mg]=r,t&&(s(i,t),s(r,t)),r}function nu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,nu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function it(t,e){return re(t)?yt({name:t.name},e,{setup:t}):t}function Lg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Qi(t,e,n,s,i=!1){if(te(t)){t.forEach((g,p)=>Qi(g,e&&(te(e)?e[p]:e),n,s,i));return}if(Ji(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Qi(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Fa(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Pe?a.refs={}:a.refs,h=a.setupState,f=me(h),d=h===Pe?()=>!1:g=>Se(f,g);if(c!=null&&c!==l&&(Ye(c)?(u[c]=null,d(c)&&(h[c]=null)):ht(c)&&(c.value=null)),re(l))jr(l,a,12,[o,u]);else{const g=Ye(l),p=ht(l);if(g||p){const _=()=>{if(t.f){const m=g?d(l)?h[l]:u[l]:l.value;i?te(m)&&Gc(m,r):te(m)?m.includes(r)||m.push(r):g?(u[l]=[r],d(l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else g?(u[l]=o,d(l)&&(h[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,wt(_,n)):_()}}}ka().requestIdleCallback;ka().cancelIdleCallback;const Ji=t=>!!t.type.__asyncLoader,Fg=t=>t.type.__isKeepAlive;function bv(t,e){Wg(t,"a",e)}function vv(t,e){Wg(t,"da",e)}function Wg(t,e,n=mt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Da(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Fg(i.parent.vnode)&&xv(s,e,n,i),i=i.parent}}function xv(t,e,n,s){const i=Da(e,t,s,!0);Na(()=>{Gc(s[e],i)},n)}function Da(t,e,n=mt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Hn();const a=qr(n),l=xn(e,n,t,o);return a(),Bn(),l});return s?i.unshift(r):i.push(r),r}}const zn=t=>(e,n=mt)=>{(!yr||t==="sp")&&Da(t,(...s)=>e(...s),n)},wv=zn("bm"),Yr=zn("m"),Cv=zn("bu"),Ev=zn("u"),Sv=zn("bum"),Na=zn("um"),kv=zn("sp"),Tv=zn("rtg"),Iv=zn("rtc");function Pv(t,e=mt){Da("ec",t,e)}const Av="components";function Gr(t,e){return Ov(Av,t,!0,e)||t}const Rv=Symbol.for("v-ndc");function Ov(t,e,n=!0,s=!1){const i=Nt||mt;if(i){const r=i.type;{const a=y0(r,!1);if(a&&(a===e||a===jt(e)||a===Sa(jt(e))))return r}const o=Ch(i[t]||r[t],e)||Ch(i.appContext[t],e);return!o&&s?r:o}}function Ch(t,e){return t&&(t[e]||t[jt(e)]||t[Sa(jt(e))])}function es(t,e,n,s){let i;const r=n,o=te(t);if(o||Ye(t)){const a=o&&ti(t);let l=!1,c=!1;a&&(l=!zt(t),c=os(t),t=Pa(t)),i=new Array(t.length);for(let u=0,h=t.length;u<h;u++)i[u]=e(l?c?$o(ut(t[u])):ut(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Ne(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}const ec=t=>t?sm(t)?Fa(t):ec(t.parent):null,Zi=yt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ec(t.parent),$root:t=>ec(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Hg(t),$forceUpdate:t=>t.f||(t.f=()=>{tu(t.update)}),$nextTick:t=>t.n||(t.n=Ma.bind(t.proxy)),$watch:t=>Zv.bind(t)}),dl=(t,e)=>t!==Pe&&!t.__isScriptSetup&&Se(t,e),Mv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(dl(s,e))return o[e]=1,s[e];if(i!==Pe&&Se(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Se(c,e))return o[e]=3,r[e];if(n!==Pe&&Se(n,e))return o[e]=4,n[e];tc&&(o[e]=0)}}const u=Zi[e];let h,f;if(u)return e==="$attrs"&&pt(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Pe&&Se(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Se(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return dl(i,e)?(i[e]=n,!0):s!==Pe&&Se(s,e)?(s[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Pe&&Se(t,o)||dl(e,o)||(a=r[0])&&Se(a,o)||Se(s,o)||Se(Zi,o)||Se(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Eh(t){return te(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let tc=!0;function Dv(t){const e=Hg(t),n=t.proxy,s=t.ctx;tc=!1,e.beforeCreate&&Sh(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:g,activated:p,deactivated:_,beforeDestroy:m,beforeUnmount:x,destroyed:E,unmounted:w,render:k,renderTracked:A,renderTriggered:I,errorCaptured:H,serverPrefetch:$,expose:B,inheritAttrs:V,components:G,directives:_e,filters:Ge}=e;if(c&&Nv(c,s,null),o)for(const se in o){const ae=o[se];re(ae)&&(s[se]=ae.bind(n))}if(i){const se=i.call(n,n);Ne(se)&&(t.data=Aa(se))}if(tc=!0,r)for(const se in r){const ae=r[se],He=re(ae)?ae.bind(n,n):re(ae.get)?ae.get.bind(n,n):mn,Ke=!re(ae)&&re(ae.set)?ae.set.bind(n):mn,qe=we({get:He,set:Ke});Object.defineProperty(s,se,{enumerable:!0,configurable:!0,get:()=>qe.value,set:Le=>qe.value=Le})}if(a)for(const se in a)$g(a[se],s,n,se);if(l){const se=re(l)?l.call(n):l;Reflect.ownKeys(se).forEach(ae=>{Ro(ae,se[ae])})}u&&Sh(u,t,"c");function oe(se,ae){te(ae)?ae.forEach(He=>se(He.bind(n))):ae&&se(ae.bind(n))}if(oe(wv,h),oe(Yr,f),oe(Cv,d),oe(Ev,g),oe(bv,p),oe(vv,_),oe(Pv,H),oe(Iv,A),oe(Tv,I),oe(Sv,x),oe(Na,w),oe(kv,$),te(B))if(B.length){const se=t.exposed||(t.exposed={});B.forEach(ae=>{Object.defineProperty(se,ae,{get:()=>n[ae],set:He=>n[ae]=He,enumerable:!0})})}else t.exposed||(t.exposed={});k&&t.render===mn&&(t.render=k),V!=null&&(t.inheritAttrs=V),G&&(t.components=G),_e&&(t.directives=_e),$&&Lg(t)}function Nv(t,e,n=mn){te(t)&&(t=nc(t));for(const s in t){const i=t[s];let r;Ne(i)?"default"in i?r=en(i.from||s,i.default,!0):r=en(i.from||s):r=en(i),ht(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Sh(t,e,n){xn(te(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function $g(t,e,n,s){let i=s.includes(".")?Jg(n,s):()=>n[s];if(Ye(t)){const r=e[t];re(r)&&_n(i,r)}else if(re(t))_n(i,t.bind(n));else if(Ne(t))if(te(t))t.forEach(r=>$g(r,e,n,s));else{const r=re(t.handler)?t.handler.bind(n):e[t.handler];re(r)&&_n(i,r,t)}}function Hg(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>Uo(l,c,o,!0)),Uo(l,e,o)),Ne(e)&&r.set(e,l),l}function Uo(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Uo(t,r,n,!0),i&&i.forEach(o=>Uo(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Lv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Lv={data:kh,props:Th,emits:Th,methods:Ui,computed:Ui,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:Ui,directives:Ui,watch:Wv,provide:kh,inject:Fv};function kh(t,e){return e?t?function(){return yt(re(t)?t.call(this,this):t,re(e)?e.call(this,this):e)}:e:t}function Fv(t,e){return Ui(nc(t),nc(e))}function nc(t){if(te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function vt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ui(t,e){return t?yt(Object.create(null),t,e):e}function Th(t,e){return t?te(t)&&te(e)?[...new Set([...t,...e])]:yt(Object.create(null),Eh(t),Eh(e??{})):e}function Wv(t,e){if(!t)return e;if(!e)return t;const n=yt(Object.create(null),t);for(const s in e)n[s]=vt(t[s],e[s]);return n}function Bg(){return{app:null,config:{isNativeTag:Tb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $v=0;function Hv(t,e){return function(s,i=null){re(s)||(s=yt({},s)),i!=null&&!Ne(i)&&(i=null);const r=Bg(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:$v++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:rm,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&re(u.install)?(o.add(u),u.install(c,...h)):re(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,f){if(!l){const d=c._ceVNode||Z(s,i);return d.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(d,u,f),l=!0,c._container=u,u.__vue_app__=c,Fa(d.component)}},onUnmount(u){a.push(u)},unmount(){l&&(xn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=si;si=c;try{return u()}finally{si=h}}};return c}}let si=null;function Ro(t,e){if(mt){let n=mt.provides;const s=mt.parent&&mt.parent.provides;s===n&&(n=mt.provides=Object.create(s)),n[t]=e}}function en(t,e,n=!1){const s=ui();if(s||si){let i=si?si._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&re(e)?e.call(s&&s.proxy):e}}const Vg={},Ug=()=>Object.create(Vg),zg=t=>Object.getPrototypeOf(t)===Vg;function Bv(t,e,n,s=!1){const i={},r=Ug();t.propsDefaults=Object.create(null),jg(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Eg(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Vv(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=me(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(La(t.emitsOptions,f))continue;const d=e[f];if(l)if(Se(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const g=jt(f);i[g]=sc(l,a,g,d,t,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{jg(t,e,i,r)&&(c=!0);let u;for(const h in a)(!e||!Se(e,h)&&((u=$s(h))===h||!Se(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=sc(l,a,h,void 0,t,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!Se(e,h))&&(delete r[h],c=!0)}c&&On(t.attrs,"set","")}function jg(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Gi(l))continue;const c=e[l];let u;i&&Se(i,u=jt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:La(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=me(n),c=a||Pe;for(let u=0;u<r.length;u++){const h=r[u];n[h]=sc(i,l,h,c[h],t,!Se(c,h))}}return o}function sc(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&re(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=qr(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===$s(n))&&(s=!0))}return s}const Uv=new WeakMap;function Yg(t,e,n=!1){const s=n?Uv:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!re(t)){const u=h=>{l=!0;const[f,d]=Yg(h,e,!0);yt(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ne(t)&&s.set(t,Zs),Zs;if(te(r))for(let u=0;u<r.length;u++){const h=jt(r[u]);Ih(h)&&(o[h]=Pe)}else if(r)for(const u in r){const h=jt(u);if(Ih(h)){const f=r[u],d=o[h]=te(f)||re(f)?{type:f}:yt({},f),g=d.type;let p=!1,_=!0;if(te(g))for(let m=0;m<g.length;++m){const x=g[m],E=re(x)&&x.name;if(E==="Boolean"){p=!0;break}else E==="String"&&(_=!1)}else p=re(g)&&g.name==="Boolean";d[0]=p,d[1]=_,(p||Se(d,"default"))&&a.push(h)}}const c=[o,a];return Ne(t)&&s.set(t,c),c}function Ih(t){return t[0]!=="$"&&!Gi(t)}const su=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",iu=t=>te(t)?t.map(pn):[pn(t)],zv=(t,e,n)=>{if(e._n)return e;const s=Dn((...i)=>iu(e(...i)),n);return s._c=!1,s},Gg=(t,e,n)=>{const s=t._ctx;for(const i in t){if(su(i))continue;const r=t[i];if(re(r))e[i]=zv(i,r,s);else if(r!=null){const o=iu(r);e[i]=()=>o}}},Kg=(t,e)=>{const n=iu(e);t.slots.default=()=>n},qg=(t,e,n)=>{for(const s in e)(n||!su(s))&&(t[s]=e[s])},jv=(t,e,n)=>{const s=t.slots=Ug();if(t.vnode.shapeFlag&32){const i=e.__;i&&Kl(s,"__",i,!0);const r=e._;r?(qg(s,e,n),n&&Kl(s,"_",r,!0)):Gg(e,s)}else e&&Kg(t,e)},Yv=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Pe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:qg(i,e,n):(r=!e.$stable,Gg(e,i)),o=e}else e&&(Kg(t,e),o={default:1});if(r)for(const a in i)!su(a)&&o[a]==null&&delete i[a]},wt=o0;function Gv(t){return Kv(t)}function Kv(t,e){const n=ka();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=mn,insertStaticContent:g}=t,p=(v,C,P,M=null,F=null,N=null,y=void 0,b=null,T=!!C.dynamicChildren)=>{if(v===C)return;v&&!Ri(v,C)&&(M=D(v),Le(v,F,N,!0),v=null),C.patchFlag===-2&&(T=!1,C.dynamicChildren=null);const{type:R,ref:j,shapeFlag:W}=C;switch(R){case Kr:_(v,C,P,M);break;case as:m(v,C,P,M);break;case gl:v==null&&x(C,P,M,y);break;case Ze:G(v,C,P,M,F,N,y,b,T);break;default:W&1?k(v,C,P,M,F,N,y,b,T):W&6?_e(v,C,P,M,F,N,y,b,T):(W&64||W&128)&&R.process(v,C,P,M,F,N,y,b,T,X)}j!=null&&F?Qi(j,v&&v.ref,N,C||v,!C):j==null&&v&&v.ref!=null&&Qi(v.ref,null,N,v,!0)},_=(v,C,P,M)=>{if(v==null)s(C.el=a(C.children),P,M);else{const F=C.el=v.el;C.children!==v.children&&c(F,C.children)}},m=(v,C,P,M)=>{v==null?s(C.el=l(C.children||""),P,M):C.el=v.el},x=(v,C,P,M)=>{[v.el,v.anchor]=g(v.children,C,P,M,v.el,v.anchor)},E=({el:v,anchor:C},P,M)=>{let F;for(;v&&v!==C;)F=f(v),s(v,P,M),v=F;s(C,P,M)},w=({el:v,anchor:C})=>{let P;for(;v&&v!==C;)P=f(v),i(v),v=P;i(C)},k=(v,C,P,M,F,N,y,b,T)=>{C.type==="svg"?y="svg":C.type==="math"&&(y="mathml"),v==null?A(C,P,M,F,N,y,b,T):$(v,C,F,N,y,b,T)},A=(v,C,P,M,F,N,y,b)=>{let T,R;const{props:j,shapeFlag:W,transition:S,dirs:O}=v;if(T=v.el=o(v.type,N,j&&j.is,j),W&8?u(T,v.children):W&16&&H(v.children,T,null,M,F,pl(v,N),y,b),O&&gs(v,null,M,"created"),I(T,v,v.scopeId,y,M),j){for(const ne in j)ne!=="value"&&!Gi(ne)&&r(T,ne,null,j[ne],N,M);"value"in j&&r(T,"value",null,j.value,N),(R=j.onVnodeBeforeMount)&&an(R,M,v)}O&&gs(v,null,M,"beforeMount");const q=qv(F,S);q&&S.beforeEnter(T),s(T,C,P),((R=j&&j.onVnodeMounted)||q||O)&&wt(()=>{R&&an(R,M,v),q&&S.enter(T),O&&gs(v,null,M,"mounted")},F)},I=(v,C,P,M,F)=>{if(P&&d(v,P),M)for(let N=0;N<M.length;N++)d(v,M[N]);if(F){let N=F.subTree;if(C===N||em(N.type)&&(N.ssContent===C||N.ssFallback===C)){const y=F.vnode;I(v,y,y.scopeId,y.slotScopeIds,F.parent)}}},H=(v,C,P,M,F,N,y,b,T=0)=>{for(let R=T;R<v.length;R++){const j=v[R]=b?Xn(v[R]):pn(v[R]);p(null,j,C,P,M,F,N,y,b)}},$=(v,C,P,M,F,N,y)=>{const b=C.el=v.el;let{patchFlag:T,dynamicChildren:R,dirs:j}=C;T|=v.patchFlag&16;const W=v.props||Pe,S=C.props||Pe;let O;if(P&&ms(P,!1),(O=S.onVnodeBeforeUpdate)&&an(O,P,C,v),j&&gs(C,v,P,"beforeUpdate"),P&&ms(P,!0),(W.innerHTML&&S.innerHTML==null||W.textContent&&S.textContent==null)&&u(b,""),R?B(v.dynamicChildren,R,b,P,M,pl(C,F),N):y||ae(v,C,b,null,P,M,pl(C,F),N,!1),T>0){if(T&16)V(b,W,S,P,F);else if(T&2&&W.class!==S.class&&r(b,"class",null,S.class,F),T&4&&r(b,"style",W.style,S.style,F),T&8){const q=C.dynamicProps;for(let ne=0;ne<q.length;ne++){const ce=q[ne],Qe=W[ce],ze=S[ce];(ze!==Qe||ce==="value")&&r(b,ce,Qe,ze,F,P)}}T&1&&v.children!==C.children&&u(b,C.children)}else!y&&R==null&&V(b,W,S,P,F);((O=S.onVnodeUpdated)||j)&&wt(()=>{O&&an(O,P,C,v),j&&gs(C,v,P,"updated")},M)},B=(v,C,P,M,F,N,y)=>{for(let b=0;b<C.length;b++){const T=v[b],R=C[b],j=T.el&&(T.type===Ze||!Ri(T,R)||T.shapeFlag&198)?h(T.el):P;p(T,R,j,null,M,F,N,y,!0)}},V=(v,C,P,M,F)=>{if(C!==P){if(C!==Pe)for(const N in C)!Gi(N)&&!(N in P)&&r(v,N,C[N],null,F,M);for(const N in P){if(Gi(N))continue;const y=P[N],b=C[N];y!==b&&N!=="value"&&r(v,N,b,y,F,M)}"value"in P&&r(v,"value",C.value,P.value,F)}},G=(v,C,P,M,F,N,y,b,T)=>{const R=C.el=v?v.el:a(""),j=C.anchor=v?v.anchor:a("");let{patchFlag:W,dynamicChildren:S,slotScopeIds:O}=C;O&&(b=b?b.concat(O):O),v==null?(s(R,P,M),s(j,P,M),H(C.children||[],P,j,F,N,y,b,T)):W>0&&W&64&&S&&v.dynamicChildren?(B(v.dynamicChildren,S,P,F,N,y,b),(C.key!=null||F&&C===F.subTree)&&ru(v,C,!0)):ae(v,C,P,j,F,N,y,b,T)},_e=(v,C,P,M,F,N,y,b,T)=>{C.slotScopeIds=b,v==null?C.shapeFlag&512?F.ctx.activate(C,P,M,y,T):Ge(C,P,M,F,N,y,T):ye(v,C,T)},Ge=(v,C,P,M,F,N,y)=>{const b=v.component=d0(v,M,F);if(Fg(v)&&(b.ctx.renderer=X),p0(b,!1,y),b.asyncDep){if(F&&F.registerDep(b,oe,y),!v.el){const T=b.subTree=Z(as);m(null,T,C,P),v.placeholder=T.el}}else oe(b,v,C,P,F,N,y)},ye=(v,C,P)=>{const M=C.component=v.component;if(i0(v,C,P))if(M.asyncDep&&!M.asyncResolved){se(M,C,P);return}else M.next=C,M.update();else C.el=v.el,M.vnode=C},oe=(v,C,P,M,F,N,y)=>{const b=()=>{if(v.isMounted){let{next:W,bu:S,u:O,parent:q,vnode:ne}=v;{const Gt=Xg(v);if(Gt){W&&(W.el=ne.el,se(v,W,y)),Gt.asyncDep.then(()=>{v.isUnmounted||b()});return}}let ce=W,Qe;ms(v,!1),W?(W.el=ne.el,se(v,W,y)):W=ne,S&&Po(S),(Qe=W.props&&W.props.onVnodeBeforeUpdate)&&an(Qe,q,W,ne),ms(v,!0);const ze=Ah(v),$t=v.subTree;v.subTree=ze,p($t,ze,h($t.el),D($t),v,F,N),W.el=ze.el,ce===null&&r0(v,ze.el),O&&wt(O,F),(Qe=W.props&&W.props.onVnodeUpdated)&&wt(()=>an(Qe,q,W,ne),F)}else{let W;const{el:S,props:O}=C,{bm:q,m:ne,parent:ce,root:Qe,type:ze}=v,$t=Ji(C);ms(v,!1),q&&Po(q),!$t&&(W=O&&O.onVnodeBeforeMount)&&an(W,ce,C),ms(v,!0);{Qe.ce&&Qe.ce._def.shadowRoot!==!1&&Qe.ce._injectChildStyle(ze);const Gt=v.subTree=Ah(v);p(null,Gt,P,M,v,F,N),C.el=Gt.el}if(ne&&wt(ne,F),!$t&&(W=O&&O.onVnodeMounted)){const Gt=C;wt(()=>an(W,ce,Gt),F)}(C.shapeFlag&256||ce&&Ji(ce.vnode)&&ce.vnode.shapeFlag&256)&&v.a&&wt(v.a,F),v.isMounted=!0,C=P=M=null}};v.scope.on();const T=v.effect=new ug(b);v.scope.off();const R=v.update=T.run.bind(T),j=v.job=T.runIfDirty.bind(T);j.i=v,j.id=v.uid,T.scheduler=()=>tu(j),ms(v,!0),R()},se=(v,C,P)=>{C.component=v;const M=v.vnode.props;v.vnode=C,v.next=null,Vv(v,C.props,M,P),Yv(v,C.children,P),Hn(),bh(v),Bn()},ae=(v,C,P,M,F,N,y,b,T=!1)=>{const R=v&&v.children,j=v?v.shapeFlag:0,W=C.children,{patchFlag:S,shapeFlag:O}=C;if(S>0){if(S&128){Ke(R,W,P,M,F,N,y,b,T);return}else if(S&256){He(R,W,P,M,F,N,y,b,T);return}}O&8?(j&16&&Be(R,F,N),W!==R&&u(P,W)):j&16?O&16?Ke(R,W,P,M,F,N,y,b,T):Be(R,F,N,!0):(j&8&&u(P,""),O&16&&H(W,P,M,F,N,y,b,T))},He=(v,C,P,M,F,N,y,b,T)=>{v=v||Zs,C=C||Zs;const R=v.length,j=C.length,W=Math.min(R,j);let S;for(S=0;S<W;S++){const O=C[S]=T?Xn(C[S]):pn(C[S]);p(v[S],O,P,null,F,N,y,b,T)}R>j?Be(v,F,N,!0,!1,W):H(C,P,M,F,N,y,b,T,W)},Ke=(v,C,P,M,F,N,y,b,T)=>{let R=0;const j=C.length;let W=v.length-1,S=j-1;for(;R<=W&&R<=S;){const O=v[R],q=C[R]=T?Xn(C[R]):pn(C[R]);if(Ri(O,q))p(O,q,P,null,F,N,y,b,T);else break;R++}for(;R<=W&&R<=S;){const O=v[W],q=C[S]=T?Xn(C[S]):pn(C[S]);if(Ri(O,q))p(O,q,P,null,F,N,y,b,T);else break;W--,S--}if(R>W){if(R<=S){const O=S+1,q=O<j?C[O].el:M;for(;R<=S;)p(null,C[R]=T?Xn(C[R]):pn(C[R]),P,q,F,N,y,b,T),R++}}else if(R>S)for(;R<=W;)Le(v[R],F,N,!0),R++;else{const O=R,q=R,ne=new Map;for(R=q;R<=S;R++){const Dt=C[R]=T?Xn(C[R]):pn(C[R]);Dt.key!=null&&ne.set(Dt.key,R)}let ce,Qe=0;const ze=S-q+1;let $t=!1,Gt=0;const Pi=new Array(ze);for(R=0;R<ze;R++)Pi[R]=0;for(R=O;R<=W;R++){const Dt=v[R];if(Qe>=ze){Le(Dt,F,N,!0);continue}let on;if(Dt.key!=null)on=ne.get(Dt.key);else for(ce=q;ce<=S;ce++)if(Pi[ce-q]===0&&Ri(Dt,C[ce])){on=ce;break}on===void 0?Le(Dt,F,N,!0):(Pi[on-q]=R+1,on>=Gt?Gt=on:$t=!0,p(Dt,C[on],P,null,F,N,y,b,T),Qe++)}const fh=$t?Xv(Pi):Zs;for(ce=fh.length-1,R=ze-1;R>=0;R--){const Dt=q+R,on=C[Dt],dh=C[Dt+1],ph=Dt+1<j?dh.el||dh.placeholder:M;Pi[R]===0?p(null,on,P,ph,F,N,y,b,T):$t&&(ce<0||R!==fh[ce]?qe(on,P,ph,2):ce--)}}},qe=(v,C,P,M,F=null)=>{const{el:N,type:y,transition:b,children:T,shapeFlag:R}=v;if(R&6){qe(v.component.subTree,C,P,M);return}if(R&128){v.suspense.move(C,P,M);return}if(R&64){y.move(v,C,P,X);return}if(y===Ze){s(N,C,P);for(let W=0;W<T.length;W++)qe(T[W],C,P,M);s(v.anchor,C,P);return}if(y===gl){E(v,C,P);return}if(M!==2&&R&1&&b)if(M===0)b.beforeEnter(N),s(N,C,P),wt(()=>b.enter(N),F);else{const{leave:W,delayLeave:S,afterLeave:O}=b,q=()=>{v.ctx.isUnmounted?i(N):s(N,C,P)},ne=()=>{W(N,()=>{q(),O&&O()})};S?S(N,q,ne):ne()}else s(N,C,P)},Le=(v,C,P,M=!1,F=!1)=>{const{type:N,props:y,ref:b,children:T,dynamicChildren:R,shapeFlag:j,patchFlag:W,dirs:S,cacheIndex:O}=v;if(W===-2&&(F=!1),b!=null&&(Hn(),Qi(b,null,P,v,!0),Bn()),O!=null&&(C.renderCache[O]=void 0),j&256){C.ctx.deactivate(v);return}const q=j&1&&S,ne=!Ji(v);let ce;if(ne&&(ce=y&&y.onVnodeBeforeUnmount)&&an(ce,C,v),j&6)Mt(v.component,P,M);else{if(j&128){v.suspense.unmount(P,M);return}q&&gs(v,null,C,"beforeUnmount"),j&64?v.type.remove(v,C,P,X,M):R&&!R.hasOnce&&(N!==Ze||W>0&&W&64)?Be(R,C,P,!1,!0):(N===Ze&&W&384||!F&&j&16)&&Be(T,C,P),M&&ft(v)}(ne&&(ce=y&&y.onVnodeUnmounted)||q)&&wt(()=>{ce&&an(ce,C,v),q&&gs(v,null,C,"unmounted")},P)},ft=v=>{const{type:C,el:P,anchor:M,transition:F}=v;if(C===Ze){rt(P,M);return}if(C===gl){w(v);return}const N=()=>{i(P),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(v.shapeFlag&1&&F&&!F.persisted){const{leave:y,delayLeave:b}=F,T=()=>y(P,N);b?b(v.el,N,T):T()}else N()},rt=(v,C)=>{let P;for(;v!==C;)P=f(v),i(v),v=P;i(C)},Mt=(v,C,P)=>{const{bum:M,scope:F,job:N,subTree:y,um:b,m:T,a:R,parent:j,slots:{__:W}}=v;Ph(T),Ph(R),M&&Po(M),j&&te(W)&&W.forEach(S=>{j.renderCache[S]=void 0}),F.stop(),N&&(N.flags|=8,Le(y,v,C,P)),b&&wt(b,C),wt(()=>{v.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},Be=(v,C,P,M=!1,F=!1,N=0)=>{for(let y=N;y<v.length;y++)Le(v[y],C,P,M,F)},D=v=>{if(v.shapeFlag&6)return D(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const C=f(v.anchor||v.el),P=C&&C[Mg];return P?f(P):C};let Y=!1;const z=(v,C,P)=>{v==null?C._vnode&&Le(C._vnode,null,null,!0):p(C._vnode||null,v,C,null,null,null,P),C._vnode=v,Y||(Y=!0,bh(),Ag(),Y=!1)},X={p,um:Le,m:qe,r:ft,mt:Ge,mc:H,pc:ae,pbc:B,n:D,o:t};return{render:z,hydrate:void 0,createApp:Hv(z)}}function pl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ms({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function qv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ru(t,e,n=!1){const s=t.children,i=e.children;if(te(s)&&te(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Xn(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&ru(o,a)),a.type===Kr&&(a.el=o.el),a.type===as&&!a.el&&(a.el=o.el)}}function Xv(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Xg(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Xg(e)}function Ph(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Qv=Symbol.for("v-scx"),Jv=()=>en(Qv);function _n(t,e,n){return Qg(t,e,n)}function Qg(t,e,n=Pe){const{immediate:s,deep:i,flush:r,once:o}=n,a=yt({},n),l=e&&s||!e&&r!=="post";let c;if(yr){if(r==="sync"){const d=Jv();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=mn,d.resume=mn,d.pause=mn,d}}const u=mt;a.call=(d,g,p)=>xn(d,u,g,p);let h=!1;r==="post"?a.scheduler=d=>{wt(d,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(d,g)=>{g?d():tu(d)}),a.augmentJob=d=>{e&&(d.flags|=4),h&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const f=fv(t,e,a);return yr&&(c?c.push(f):l&&f()),f}function Zv(t,e,n){const s=this.proxy,i=Ye(t)?t.includes(".")?Jg(s,t):()=>s[t]:t.bind(s,s);let r;re(e)?r=e:(r=e.handler,n=e);const o=qr(this),a=Qg(i,r.bind(s),n);return o(),a}function Jg(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const e0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${jt(e)}Modifiers`]||t[`${$s(e)}Modifiers`];function t0(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Pe;let i=n;const r=e.startsWith("update:"),o=r&&e0(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Ye(u)?u.trim():u)),o.number&&(i=n.map(Wo)));let a,l=s[a=ll(e)]||s[a=ll(jt(e))];!l&&r&&(l=s[a=ll($s(e))]),l&&xn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xn(c,t,6,i)}}function Zg(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!re(t)){const l=c=>{const u=Zg(c,e,!0);u&&(a=!0,yt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ne(t)&&s.set(t,null),null):(te(r)?r.forEach(l=>o[l]=null):yt(o,r),Ne(t)&&s.set(t,o),o)}function La(t,e){return!t||!wa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,$s(e))||Se(t,e))}function Ah(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:d,ctx:g,inheritAttrs:p}=t,_=Vo(t);let m,x;try{if(n.shapeFlag&4){const w=i||s,k=w;m=pn(c.call(k,w,u,h,d,f,g)),x=a}else{const w=e;m=pn(w.length>1?w(h,{attrs:a,slots:o,emit:l}):w(h,null)),x=e.props?a:n0(a)}}catch(w){er.length=0,Oa(w,t,1),m=Z(as)}let E=m;if(x&&p!==!1){const w=Object.keys(x),{shapeFlag:k}=E;w.length&&k&7&&(r&&w.some(Yc)&&(x=s0(x,r)),E=ci(E,x,!1,!0))}return n.dirs&&(E=ci(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&nu(E,n.transition),m=E,Vo(_),m}const n0=t=>{let e;for(const n in t)(n==="class"||n==="style"||wa(n))&&((e||(e={}))[n]=t[n]);return e},s0=(t,e)=>{const n={};for(const s in t)(!Yc(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function i0(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Rh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!La(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Rh(s,o,c):!0:!!o;return!1}function Rh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!La(n,r))return!0}return!1}function r0({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const em=t=>t.__isSuspense;function o0(t,e){e&&e.pendingBranch?te(t)?e.effects.push(...t):e.effects.push(t):gv(t)}const Ze=Symbol.for("v-fgt"),Kr=Symbol.for("v-txt"),as=Symbol.for("v-cmt"),gl=Symbol.for("v-stc"),er=[];let Lt=null;function J(t=!1){er.push(Lt=t?null:[])}function a0(){er.pop(),Lt=er[er.length-1]||null}let _r=1;function Oh(t,e=!1){_r+=t,t<0&&Lt&&e&&(Lt.hasOnce=!0)}function tm(t){return t.dynamicChildren=_r>0?Lt||Zs:null,a0(),_r>0&&Lt&&Lt.push(t),t}function ie(t,e,n,s,i,r){return tm(L(t,e,n,s,i,r,!0))}function yn(t,e,n,s,i){return tm(Z(t,e,n,s,i,!0))}function zo(t){return t?t.__v_isVNode===!0:!1}function Ri(t,e){return t.type===e.type&&t.key===e.key}const nm=({key:t})=>t??null,Oo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ye(t)||ht(t)||re(t)?{i:Nt,r:t,k:e,f:!!n}:t:null);function L(t,e=null,n=null,s=0,i=null,r=t===Ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&nm(e),ref:e&&Oo(e),scopeId:Og,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Nt};return a?(ou(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ye(n)?8:16),_r>0&&!o&&Lt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Lt.push(l),l}const Z=l0;function l0(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Rv)&&(t=as),zo(t)){const a=ci(t,e,!0);return n&&ou(a,n),_r>0&&!r&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(t)]=a:Lt.push(a)),a.patchFlag=-2,a}if(b0(t)&&(t=t.__vccOpts),e){e=c0(e);let{class:a,style:l}=e;a&&!Ye(a)&&(e.class=Ms(a)),Ne(l)&&(zr(l)&&!te(l)&&(l=yt({},l)),e.style=Ta(l))}const o=Ye(t)?1:em(t)?128:mv(t)?64:Ne(t)?4:re(t)?2:0;return L(t,e,n,s,i,o,r,!0)}function c0(t){return t?zr(t)||zg(t)?yt({},t):t:null}function ci(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?u0(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&nm(c),ref:e&&e.ref?n&&r?te(r)?r.concat(Oo(e)):[r,Oo(e)]:Oo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ci(t.ssContent),ssFallback:t.ssFallback&&ci(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&nu(u,l.clone(u)),u}function Et(t=" ",e=0){return Z(Kr,null,t,e)}function Wn(t="",e=!1){return e?(J(),yn(as,null,t)):Z(as,null,t)}function pn(t){return t==null||typeof t=="boolean"?Z(as):te(t)?Z(Ze,null,t.slice()):zo(t)?Xn(t):Z(Kr,null,String(t))}function Xn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ci(t)}function ou(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(te(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),ou(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!zg(e)?e._ctx=Nt:i===3&&Nt&&(Nt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else re(e)?(e={default:e,_ctx:Nt},n=32):(e=String(e),s&64?(n=16,e=[Et(e)]):n=8);t.children=e,t.shapeFlag|=n}function u0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ms([e.class,s.class]));else if(i==="style")e.style=Ta([e.style,s.style]);else if(wa(i)){const r=e[i],o=s[i];o&&r!==o&&!(te(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function an(t,e,n,s=null){xn(t,e,7,[n,s])}const h0=Bg();let f0=0;function d0(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||h0,r={uid:f0++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yg(s,i),emitsOptions:Zg(s,i),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:s.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=t0.bind(null,r),t.ce&&t.ce(r),r}let mt=null;const ui=()=>mt||Nt;let jo,ic;{const t=ka(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};jo=e("__VUE_INSTANCE_SETTERS__",n=>mt=n),ic=e("__VUE_SSR_SETTERS__",n=>yr=n)}const qr=t=>{const e=mt;return jo(t),t.scope.on(),()=>{t.scope.off(),jo(e)}},Mh=()=>{mt&&mt.scope.off(),jo(null)};function sm(t){return t.vnode.shapeFlag&4}let yr=!1;function p0(t,e=!1,n=!1){e&&ic(e);const{props:s,children:i}=t.vnode,r=sm(t);Bv(t,s,r,e),jv(t,i,n||e);const o=r?g0(t,e):void 0;return e&&ic(!1),o}function g0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Mv);const{setup:s}=n;if(s){Hn();const i=t.setupContext=s.length>1?_0(t):null,r=qr(t),o=jr(s,t,0,[t.props,i]),a=sg(o);if(Bn(),r(),(a||t.sp)&&!Ji(t)&&Lg(t),a){if(o.then(Mh,Mh),e)return o.then(l=>{Dh(t,l)}).catch(l=>{Oa(l,t,0)});t.asyncDep=o}else Dh(t,o)}else im(t)}function Dh(t,e,n){re(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=Tg(e)),im(t)}function im(t,e,n){const s=t.type;t.render||(t.render=s.render||mn);{const i=qr(t);Hn();try{Dv(t)}finally{Bn(),i()}}}const m0={get(t,e){return pt(t,"get",""),t[e]}};function _0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,m0),slots:t.slots,emit:t.emit,expose:e}}function Fa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Tg(ov(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Zi)return Zi[n](t)},has(e,n){return n in e||n in Zi}})):t.proxy}function y0(t,e=!0){return re(t)?t.displayName||t.name:t.name||e&&t.__name}function b0(t){return re(t)&&"__vccOpts"in t}const we=(t,e)=>uv(t,e,yr);function wn(t,e,n){const s=arguments.length;return s===2?Ne(e)&&!te(e)?zo(e)?Z(t,null,[e]):Z(t,e):Z(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&zo(n)&&(n=[n]),Z(t,e,n))}const rm="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rc;const Nh=typeof window<"u"&&window.trustedTypes;if(Nh)try{rc=Nh.createPolicy("vue",{createHTML:t=>t})}catch{}const om=rc?t=>rc.createHTML(t):t=>t,v0="http://www.w3.org/2000/svg",x0="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,Lh=An&&An.createElement("template"),w0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?An.createElementNS(v0,t):e==="mathml"?An.createElementNS(x0,t):n?An.createElement(t,{is:n}):An.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>An.createTextNode(t),createComment:t=>An.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>An.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Lh.innerHTML=om(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Lh.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},C0=Symbol("_vtc");function E0(t,e,n){const s=t[C0];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Fh=Symbol("_vod"),S0=Symbol("_vsh"),k0=Symbol(""),T0=/(^|;)\s*display\s*:/;function I0(t,e,n){const s=t.style,i=Ye(n);let r=!1;if(n&&!i){if(e)if(Ye(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Mo(s,a,"")}else for(const o in e)n[o]==null&&Mo(s,o,"");for(const o in n)o==="display"&&(r=!0),Mo(s,o,n[o])}else if(i){if(e!==n){const o=s[k0];o&&(n+=";"+o),s.cssText=n,r=T0.test(n)}}else e&&t.removeAttribute("style");Fh in t&&(t[Fh]=r?s.display:"",t[S0]&&(s.display="none"))}const Wh=/\s*!important$/;function Mo(t,e,n){if(te(n))n.forEach(s=>Mo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=P0(t,e);Wh.test(n)?t.setProperty($s(s),n.replace(Wh,""),"important"):t[s]=n}}const $h=["Webkit","Moz","ms"],ml={};function P0(t,e){const n=ml[e];if(n)return n;let s=jt(e);if(s!=="filter"&&s in t)return ml[e]=s;s=Sa(s);for(let i=0;i<$h.length;i++){const r=$h[i]+s;if(r in t)return ml[e]=r}return e}const Hh="http://www.w3.org/1999/xlink";function Bh(t,e,n,s,i,r=Fb(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hh,e.slice(6,e.length)):t.setAttributeNS(Hh,e,n):n==null||r&&!og(n)?t.removeAttribute(e):t.setAttribute(e,r?"":vn(n)?String(n):n)}function Vh(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?om(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=og(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Ss(t,e,n,s){t.addEventListener(e,n,s)}function A0(t,e,n,s){t.removeEventListener(e,n,s)}const Uh=Symbol("_vei");function R0(t,e,n,s,i=null){const r=t[Uh]||(t[Uh]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=O0(e);if(s){const c=r[e]=N0(s,i);Ss(t,a,c,l)}else o&&(A0(t,a,o,l),r[e]=void 0)}}const zh=/(?:Once|Passive|Capture)$/;function O0(t){let e;if(zh.test(t)){e={};let s;for(;s=t.match(zh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$s(t.slice(2)),e]}let _l=0;const M0=Promise.resolve(),D0=()=>_l||(M0.then(()=>_l=0),_l=Date.now());function N0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;xn(L0(s,n.value),e,5,[s])};return n.value=t,n.attached=D0(),n}function L0(t,e){if(te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const jh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,F0=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?E0(t,s,o):e==="style"?I0(t,n,s):wa(e)?Yc(e)||R0(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):W0(t,e,s,o))?(Vh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bh(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ye(s))?Vh(t,jt(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Bh(t,e,s,o))};function W0(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&jh(e)&&re(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return jh(e)&&Ye(n)?!1:e in t}const Yo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return te(e)?n=>Po(e,n):e};function $0(t){t.target.composing=!0}function Yh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ii=Symbol("_assign"),oc={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[ii]=Yo(i);const r=s||i.props&&i.props.type==="number";Ss(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Wo(a)),t[ii](a)}),n&&Ss(t,"change",()=>{t.value=t.value.trim()}),e||(Ss(t,"compositionstart",$0),Ss(t,"compositionend",Yh),Ss(t,"change",Yh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[ii]=Yo(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?Wo(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Go={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Ca(e);Ss(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Wo(Ko(o)):Ko(o));t[ii](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,Ma(()=>{t._assigning=!1})}),t[ii]=Yo(s)},mounted(t,{value:e}){Gh(t,e)},beforeUpdate(t,e,n){t[ii]=Yo(n)},updated(t,{value:e}){t._assigning||Gh(t,e)}};function Gh(t,e){const n=t.multiple,s=te(e);if(!(n&&!s&&!Ca(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=Ko(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=$b(e,a)>-1}else o.selected=e.has(a);else if(Ia(Ko(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ko(t){return"_value"in t?t._value:t.value}const H0=yt({patchProp:F0},w0);let Kh;function B0(){return Kh||(Kh=Gv(H0))}const V0=(...t)=>{const e=B0().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=z0(s);if(!i)return;const r=e._component;!re(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,U0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function U0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function z0(t){return Ye(t)?document.querySelector(t):t}/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),j0=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Y0=t=>{const e=j0(t);return e.charAt(0).toUpperCase()+e.slice(1)},G0=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:s,iconNode:i,name:r,class:o,...a},{slots:l})=>wn("svg",{...lo,width:t||lo.width,height:t||lo.height,stroke:s||lo.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:G0("lucide",...r?[`lucide-${qh(Y0(r))}-icon`,`lucide-${qh(r)}`]:["lucide-icon"]),...a},[...i.map(c=>wn(...c)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(t,e)=>(n,{slots:s})=>wn(K0,{...n,iconNode:e,name:t},s);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Wt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Wt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Wt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Wt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Wt("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Wt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Wt("dumbbell",[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Wt("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Wt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Wt("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Wt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Wt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Wt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/*!
  * shared v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function sx(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Xo=typeof window<"u",fs=(t,e=!1)=>e?Symbol.for(t):Symbol(t),ix=(t,e,n)=>rx({l:t,k:e,s:n}),rx=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Xe=t=>typeof t=="number"&&isFinite(t),ox=t=>cu(t)==="[object Date]",hi=t=>cu(t)==="[object RegExp]",Wa=t=>fe(t)&&Object.keys(t).length===0,st=Object.assign,ax=Object.create,Ie=(t=null)=>ax(t);let Xh;const ks=()=>Xh||(Xh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ie());function Qh(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Jh(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lx(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(s,i,r)=>`${i}="${Jh(r)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(s,i,r)=>`${i}='${Jh(r)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(s=>{t=t.replace(s,"$1javascript&#58;")}),t}const cx=Object.prototype.hasOwnProperty;function qt(t,e){return cx.call(t,e)}const Ve=Array.isArray,$e=t=>typeof t=="function",K=t=>typeof t=="string",be=t=>typeof t=="boolean",Ce=t=>t!==null&&typeof t=="object",ux=t=>Ce(t)&&$e(t.then)&&$e(t.catch),cm=Object.prototype.toString,cu=t=>cm.call(t),fe=t=>cu(t)==="[object Object]",hx=t=>t==null?"":Ve(t)||fe(t)&&t.toString===cm?JSON.stringify(t,null,2):String(t);function uu(t,e=""){return t.reduce((n,s,i)=>i===0?n+s:n+e+s,"")}const co=t=>!Ce(t)||Ve(t);function Do(t,e){if(co(t)||co(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:s,des:i}=n.pop();Object.keys(s).forEach(r=>{r!=="__proto__"&&(Ce(s[r])&&!Ce(i[r])&&(i[r]=Array.isArray(s[r])?[]:Ie()),co(i[r])||co(s[r])?i[r]=s[r]:n.push({src:s[r],des:i[r]}))})}}/*!
  * message-compiler v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function fx(t,e,n){return{line:t,column:e,offset:n}}function ac(t,e,n){return{start:t,end:e}}const ke={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},dx=17;function $a(t,e,n={}){const{domain:s,messages:i,args:r}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=s,a}function px(t){throw t}const Sn=" ",gx="\r",xt=`
`,mx="\u2028",_x="\u2029";function yx(t){const e=t;let n=0,s=1,i=1,r=0;const o=I=>e[I]===gx&&e[I+1]===xt,a=I=>e[I]===xt,l=I=>e[I]===_x,c=I=>e[I]===mx,u=I=>o(I)||a(I)||l(I)||c(I),h=()=>n,f=()=>s,d=()=>i,g=()=>r,p=I=>o(I)||l(I)||c(I)?xt:e[I],_=()=>p(n),m=()=>p(n+r);function x(){return r=0,u(n)&&(s++,i=0),o(n)&&n++,n++,i++,e[n]}function E(){return o(n+r)&&r++,r++,e[n+r]}function w(){n=0,s=1,i=1,r=0}function k(I=0){r=I}function A(){const I=n+r;for(;I!==n;)x();r=0}return{index:h,line:f,column:d,peekOffset:g,charAt:p,currentChar:_,currentPeek:m,next:x,peek:E,reset:w,resetPeek:k,skipToPeek:A}}const Gn=void 0,bx=".",Zh="'",vx="tokenizer";function xx(t,e={}){const n=e.location!==!1,s=yx(t),i=()=>s.index(),r=()=>fx(s.line(),s.column(),s.index()),o=r(),a=i(),l={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function h(y,b,T,...R){const j=c();if(b.column+=T,b.offset+=T,u){const W=n?ac(j.startLoc,b):null,S=$a(y,W,{domain:vx,args:R});u(S)}}function f(y,b,T){y.endLoc=r(),y.currentType=b;const R={type:b};return n&&(R.loc=ac(y.startLoc,y.endLoc)),T!=null&&(R.value=T),R}const d=y=>f(y,13);function g(y,b){return y.currentChar()===b?(y.next(),b):(h(ke.EXPECTED_TOKEN,r(),0,b),"")}function p(y){let b="";for(;y.currentPeek()===Sn||y.currentPeek()===xt;)b+=y.currentPeek(),y.peek();return b}function _(y){const b=p(y);return y.skipToPeek(),b}function m(y){if(y===Gn)return!1;const b=y.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b===95}function x(y){if(y===Gn)return!1;const b=y.charCodeAt(0);return b>=48&&b<=57}function E(y,b){const{currentType:T}=b;if(T!==2)return!1;p(y);const R=m(y.currentPeek());return y.resetPeek(),R}function w(y,b){const{currentType:T}=b;if(T!==2)return!1;p(y);const R=y.currentPeek()==="-"?y.peek():y.currentPeek(),j=x(R);return y.resetPeek(),j}function k(y,b){const{currentType:T}=b;if(T!==2)return!1;p(y);const R=y.currentPeek()===Zh;return y.resetPeek(),R}function A(y,b){const{currentType:T}=b;if(T!==7)return!1;p(y);const R=y.currentPeek()===".";return y.resetPeek(),R}function I(y,b){const{currentType:T}=b;if(T!==8)return!1;p(y);const R=m(y.currentPeek());return y.resetPeek(),R}function H(y,b){const{currentType:T}=b;if(!(T===7||T===11))return!1;p(y);const R=y.currentPeek()===":";return y.resetPeek(),R}function $(y,b){const{currentType:T}=b;if(T!==9)return!1;const R=()=>{const W=y.currentPeek();return W==="{"?m(y.peek()):W==="@"||W==="|"||W===":"||W==="."||W===Sn||!W?!1:W===xt?(y.peek(),R()):V(y,!1)},j=R();return y.resetPeek(),j}function B(y){p(y);const b=y.currentPeek()==="|";return y.resetPeek(),b}function V(y,b=!0){const T=(j=!1,W="")=>{const S=y.currentPeek();return S==="{"||S==="@"||!S?j:S==="|"?!(W===Sn||W===xt):S===Sn?(y.peek(),T(!0,Sn)):S===xt?(y.peek(),T(!0,xt)):!0},R=T();return b&&y.resetPeek(),R}function G(y,b){const T=y.currentChar();return T===Gn?Gn:b(T)?(y.next(),T):null}function _e(y){const b=y.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===95||b===36}function Ge(y){return G(y,_e)}function ye(y){const b=y.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===95||b===36||b===45}function oe(y){return G(y,ye)}function se(y){const b=y.charCodeAt(0);return b>=48&&b<=57}function ae(y){return G(y,se)}function He(y){const b=y.charCodeAt(0);return b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102}function Ke(y){return G(y,He)}function qe(y){let b="",T="";for(;b=ae(y);)T+=b;return T}function Le(y){let b="";for(;;){const T=y.currentChar();if(T==="{"||T==="}"||T==="@"||T==="|"||!T)break;if(T===Sn||T===xt)if(V(y))b+=T,y.next();else{if(B(y))break;b+=T,y.next()}else b+=T,y.next()}return b}function ft(y){_(y);let b="",T="";for(;b=oe(y);)T+=b;return y.currentChar()===Gn&&h(ke.UNTERMINATED_CLOSING_BRACE,r(),0),T}function rt(y){_(y);let b="";return y.currentChar()==="-"?(y.next(),b+=`-${qe(y)}`):b+=qe(y),y.currentChar()===Gn&&h(ke.UNTERMINATED_CLOSING_BRACE,r(),0),b}function Mt(y){return y!==Zh&&y!==xt}function Be(y){_(y),g(y,"'");let b="",T="";for(;b=G(y,Mt);)b==="\\"?T+=D(y):T+=b;const R=y.currentChar();return R===xt||R===Gn?(h(ke.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),R===xt&&(y.next(),g(y,"'")),T):(g(y,"'"),T)}function D(y){const b=y.currentChar();switch(b){case"\\":case"'":return y.next(),`\\${b}`;case"u":return Y(y,b,4);case"U":return Y(y,b,6);default:return h(ke.UNKNOWN_ESCAPE_SEQUENCE,r(),0,b),""}}function Y(y,b,T){g(y,b);let R="";for(let j=0;j<T;j++){const W=Ke(y);if(!W){h(ke.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,`\\${b}${R}${y.currentChar()}`);break}R+=W}return`\\${b}${R}`}function z(y){return y!=="{"&&y!=="}"&&y!==Sn&&y!==xt}function X(y){_(y);let b="",T="";for(;b=G(y,z);)T+=b;return T}function xe(y){let b="",T="";for(;b=Ge(y);)T+=b;return T}function v(y){const b=T=>{const R=y.currentChar();return R==="{"||R==="@"||R==="|"||R==="("||R===")"||!R||R===Sn?T:(T+=R,y.next(),b(T))};return b("")}function C(y){_(y);const b=g(y,"|");return _(y),b}function P(y,b){let T=null;switch(y.currentChar()){case"{":return b.braceNest>=1&&h(ke.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),y.next(),T=f(b,2,"{"),_(y),b.braceNest++,T;case"}":return b.braceNest>0&&b.currentType===2&&h(ke.EMPTY_PLACEHOLDER,r(),0),y.next(),T=f(b,3,"}"),b.braceNest--,b.braceNest>0&&_(y),b.inLinked&&b.braceNest===0&&(b.inLinked=!1),T;case"@":return b.braceNest>0&&h(ke.UNTERMINATED_CLOSING_BRACE,r(),0),T=M(y,b)||d(b),b.braceNest=0,T;default:{let j=!0,W=!0,S=!0;if(B(y))return b.braceNest>0&&h(ke.UNTERMINATED_CLOSING_BRACE,r(),0),T=f(b,1,C(y)),b.braceNest=0,b.inLinked=!1,T;if(b.braceNest>0&&(b.currentType===4||b.currentType===5||b.currentType===6))return h(ke.UNTERMINATED_CLOSING_BRACE,r(),0),b.braceNest=0,F(y,b);if(j=E(y,b))return T=f(b,4,ft(y)),_(y),T;if(W=w(y,b))return T=f(b,5,rt(y)),_(y),T;if(S=k(y,b))return T=f(b,6,Be(y)),_(y),T;if(!j&&!W&&!S)return T=f(b,12,X(y)),h(ke.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,T.value),_(y),T;break}}return T}function M(y,b){const{currentType:T}=b;let R=null;const j=y.currentChar();switch((T===7||T===8||T===11||T===9)&&(j===xt||j===Sn)&&h(ke.INVALID_LINKED_FORMAT,r(),0),j){case"@":return y.next(),R=f(b,7,"@"),b.inLinked=!0,R;case".":return _(y),y.next(),f(b,8,".");case":":return _(y),y.next(),f(b,9,":");default:return B(y)?(R=f(b,1,C(y)),b.braceNest=0,b.inLinked=!1,R):A(y,b)||H(y,b)?(_(y),M(y,b)):I(y,b)?(_(y),f(b,11,xe(y))):$(y,b)?(_(y),j==="{"?P(y,b)||R:f(b,10,v(y))):(T===7&&h(ke.INVALID_LINKED_FORMAT,r(),0),b.braceNest=0,b.inLinked=!1,F(y,b))}}function F(y,b){let T={type:13};if(b.braceNest>0)return P(y,b)||d(b);if(b.inLinked)return M(y,b)||d(b);switch(y.currentChar()){case"{":return P(y,b)||d(b);case"}":return h(ke.UNBALANCED_CLOSING_BRACE,r(),0),y.next(),f(b,3,"}");case"@":return M(y,b)||d(b);default:{if(B(y))return T=f(b,1,C(y)),b.braceNest=0,b.inLinked=!1,T;if(V(y))return f(b,0,Le(y));break}}return T}function N(){const{currentType:y,offset:b,startLoc:T,endLoc:R}=l;return l.lastType=y,l.lastOffset=b,l.lastStartLoc=T,l.lastEndLoc=R,l.offset=i(),l.startLoc=r(),s.currentChar()===Gn?f(l,13):F(s,l)}return{nextToken:N,currentOffset:i,currentPosition:r,context:c}}const wx="parser",Cx=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Ex(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(e||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):""}}}function Sx(t={}){const e=t.location!==!1,{onError:n}=t;function s(m,x,E,w,...k){const A=m.currentPosition();if(A.offset+=w,A.column+=w,n){const I=e?ac(E,A):null,H=$a(x,I,{domain:wx,args:k});n(H)}}function i(m,x,E){const w={type:m};return e&&(w.start=x,w.end=x,w.loc={start:E,end:E}),w}function r(m,x,E,w){e&&(m.end=x,m.loc&&(m.loc.end=E))}function o(m,x){const E=m.context(),w=i(3,E.offset,E.startLoc);return w.value=x,r(w,m.currentOffset(),m.currentPosition()),w}function a(m,x){const E=m.context(),{lastOffset:w,lastStartLoc:k}=E,A=i(5,w,k);return A.index=parseInt(x,10),m.nextToken(),r(A,m.currentOffset(),m.currentPosition()),A}function l(m,x){const E=m.context(),{lastOffset:w,lastStartLoc:k}=E,A=i(4,w,k);return A.key=x,m.nextToken(),r(A,m.currentOffset(),m.currentPosition()),A}function c(m,x){const E=m.context(),{lastOffset:w,lastStartLoc:k}=E,A=i(9,w,k);return A.value=x.replace(Cx,Ex),m.nextToken(),r(A,m.currentOffset(),m.currentPosition()),A}function u(m){const x=m.nextToken(),E=m.context(),{lastOffset:w,lastStartLoc:k}=E,A=i(8,w,k);return x.type!==11?(s(m,ke.UNEXPECTED_EMPTY_LINKED_MODIFIER,E.lastStartLoc,0),A.value="",r(A,w,k),{nextConsumeToken:x,node:A}):(x.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,ln(x)),A.value=x.value||"",r(A,m.currentOffset(),m.currentPosition()),{node:A})}function h(m,x){const E=m.context(),w=i(7,E.offset,E.startLoc);return w.value=x,r(w,m.currentOffset(),m.currentPosition()),w}function f(m){const x=m.context(),E=i(6,x.offset,x.startLoc);let w=m.nextToken();if(w.type===8){const k=u(m);E.modifier=k.node,w=k.nextConsumeToken||m.nextToken()}switch(w.type!==9&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln(w)),w=m.nextToken(),w.type===2&&(w=m.nextToken()),w.type){case 10:w.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln(w)),E.key=h(m,w.value||"");break;case 4:w.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln(w)),E.key=l(m,w.value||"");break;case 5:w.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln(w)),E.key=a(m,w.value||"");break;case 6:w.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln(w)),E.key=c(m,w.value||"");break;default:{s(m,ke.UNEXPECTED_EMPTY_LINKED_KEY,x.lastStartLoc,0);const k=m.context(),A=i(7,k.offset,k.startLoc);return A.value="",r(A,k.offset,k.startLoc),E.key=A,r(E,k.offset,k.startLoc),{nextConsumeToken:w,node:E}}}return r(E,m.currentOffset(),m.currentPosition()),{node:E}}function d(m){const x=m.context(),E=x.currentType===1?m.currentOffset():x.offset,w=x.currentType===1?x.endLoc:x.startLoc,k=i(2,E,w);k.items=[];let A=null;do{const $=A||m.nextToken();switch(A=null,$.type){case 0:$.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln($)),k.items.push(o(m,$.value||""));break;case 5:$.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln($)),k.items.push(a(m,$.value||""));break;case 4:$.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln($)),k.items.push(l(m,$.value||""));break;case 6:$.value==null&&s(m,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ln($)),k.items.push(c(m,$.value||""));break;case 7:{const B=f(m);k.items.push(B.node),A=B.nextConsumeToken||null;break}}}while(x.currentType!==13&&x.currentType!==1);const I=x.currentType===1?x.lastOffset:m.currentOffset(),H=x.currentType===1?x.lastEndLoc:m.currentPosition();return r(k,I,H),k}function g(m,x,E,w){const k=m.context();let A=w.items.length===0;const I=i(1,x,E);I.cases=[],I.cases.push(w);do{const H=d(m);A||(A=H.items.length===0),I.cases.push(H)}while(k.currentType!==13);return A&&s(m,ke.MUST_HAVE_MESSAGES_IN_PLURAL,E,0),r(I,m.currentOffset(),m.currentPosition()),I}function p(m){const x=m.context(),{offset:E,startLoc:w}=x,k=d(m);return x.currentType===13?k:g(m,E,w,k)}function _(m){const x=xx(m,st({},t)),E=x.context(),w=i(0,E.offset,E.startLoc);return e&&w.loc&&(w.loc.source=m),w.body=p(x),t.onCacheKey&&(w.cacheKey=t.onCacheKey(m)),E.currentType!==13&&s(x,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,m[E.offset]||""),r(w,x.currentOffset(),x.currentPosition()),w}return{parse:_}}function ln(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function kx(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function ef(t,e){for(let n=0;n<t.length;n++)hu(t[n],e)}function hu(t,e){switch(t.type){case 1:ef(t.cases,e),e.helper("plural");break;case 2:ef(t.items,e);break;case 6:{hu(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Tx(t,e={}){const n=kx(t);n.helper("normalize"),t.body&&hu(t.body,n);const s=n.context();t.helpers=Array.from(s.helpers)}function Ix(t){const e=t.body;return e.type===2?tf(e):e.cases.forEach(n=>tf(n)),t}function tf(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const s=t.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;e.push(s.value)}if(e.length===t.items.length){t.static=uu(e);for(let n=0;n<t.items.length;n++){const s=t.items[n];(s.type===3||s.type===9)&&delete s.value}}}}function qs(t){switch(t.t=t.type,t.type){case 0:{const e=t;qs(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let s=0;s<n.length;s++)qs(n[s]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let s=0;s<n.length;s++)qs(n[s]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;qs(e.key),e.k=e.key,delete e.key,e.modifier&&(qs(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function Px(t,e){const{filename:n,breakLineCode:s,needIndent:i}=e,r=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:i,indentLevel:0};r&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(p,_){o.code+=p}function c(p,_=!0){const m=_?s:"";l(i?m+"  ".repeat(p):m)}function u(p=!0){const _=++o.indentLevel;p&&c(_)}function h(p=!0){const _=--o.indentLevel;p&&c(_)}function f(){c(o.indentLevel)}return{context:a,push:l,indent:u,deindent:h,newline:f,helper:p=>`_${p}`,needIndent:()=>o.needIndent}}function Ax(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),fi(t,e.key),e.modifier?(t.push(", "),fi(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Rx(t,e){const{helper:n,needIndent:s}=t;t.push(`${n("normalize")}([`),t.indent(s());const i=e.items.length;for(let r=0;r<i&&(fi(t,e.items[r]),r!==i-1);r++)t.push(", ");t.deindent(s()),t.push("])")}function Ox(t,e){const{helper:n,needIndent:s}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(s());const i=e.cases.length;for(let r=0;r<i&&(fi(t,e.cases[r]),r!==i-1);r++)t.push(", ");t.deindent(s()),t.push("])")}}function Mx(t,e){e.body?fi(t,e.body):t.push("null")}function fi(t,e){const{helper:n}=t;switch(e.type){case 0:Mx(t,e);break;case 1:Ox(t,e);break;case 2:Rx(t,e);break;case 6:Ax(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const Dx=(t,e={})=>{const n=K(e.mode)?e.mode:"normal",s=K(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,r=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=Px(t,{filename:s,breakLineCode:i,needIndent:r});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(r),o.length>0&&(a.push(`const { ${uu(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),fi(a,t),a.deindent(r),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function Nx(t,e={}){const n=st({},e),s=!!n.jit,i=!!n.minify,r=n.optimize==null?!0:n.optimize,a=Sx(n).parse(t);return s?(r&&Ix(a),i&&qs(a),{ast:a,code:""}):(Tx(a,n),Dx(a,n))}/*!
  * core-base v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Lx(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ks().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ks().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function bn(t){return Ce(t)&&fu(t)===0&&(qt(t,"b")||qt(t,"body"))}const um=["b","body"];function Fx(t){return ds(t,um)}const hm=["c","cases"];function Wx(t){return ds(t,hm,[])}const fm=["s","static"];function $x(t){return ds(t,fm)}const dm=["i","items"];function Hx(t){return ds(t,dm,[])}const pm=["t","type"];function fu(t){return ds(t,pm)}const gm=["v","value"];function uo(t,e){const n=ds(t,gm);if(n!=null)return n;throw br(e)}const mm=["m","modifier"];function Bx(t){return ds(t,mm)}const _m=["k","key"];function Vx(t){const e=ds(t,_m);if(e)return e;throw br(6)}function ds(t,e,n){for(let s=0;s<e.length;s++){const i=e[s];if(qt(t,i)&&t[i]!=null)return t[i]}return n}const ym=[...um,...hm,...fm,...dm,..._m,...mm,...gm,...pm];function br(t){return new Error(`unhandled node type: ${t}`)}function yl(t){return n=>Ux(n,t)}function Ux(t,e){const n=Fx(e);if(n==null)throw br(0);if(fu(n)===1){const r=Wx(n);return t.plural(r.reduce((o,a)=>[...o,nf(t,a)],[]))}else return nf(t,n)}function nf(t,e){const n=$x(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const s=Hx(e).reduce((i,r)=>[...i,lc(t,r)],[]);return t.normalize(s)}}function lc(t,e){const n=fu(e);switch(n){case 3:return uo(e,n);case 9:return uo(e,n);case 4:{const s=e;if(qt(s,"k")&&s.k)return t.interpolate(t.named(s.k));if(qt(s,"key")&&s.key)return t.interpolate(t.named(s.key));throw br(n)}case 5:{const s=e;if(qt(s,"i")&&Xe(s.i))return t.interpolate(t.list(s.i));if(qt(s,"index")&&Xe(s.index))return t.interpolate(t.list(s.index));throw br(n)}case 6:{const s=e,i=Bx(s),r=Vx(s);return t.linked(lc(t,r),i?lc(t,i):void 0,t.type)}case 7:return uo(e,n);case 8:return uo(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const zx=t=>t;let ho=Ie();function jx(t,e={}){let n=!1;const s=e.onError||px;return e.onError=i=>{n=!0,s(i)},{...Nx(t,e),detectError:n}}function Yx(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&K(t)){be(e.warnHtmlMessage)&&e.warnHtmlMessage;const s=(e.onCacheKey||zx)(t),i=ho[s];if(i)return i;const{ast:r,detectError:o}=jx(t,{...e,location:!1,jit:!0}),a=yl(r);return o?a:ho[s]=a}else{const n=t.cacheKey;if(n){const s=ho[n];return s||(ho[n]=yl(t))}else return yl(t)}}let vr=null;function Gx(t){vr=t}function Kx(t,e,n){vr&&vr.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const qx=Xx("function:translate");function Xx(t){return e=>vr&&vr.emit(t,e)}const Nn={INVALID_ARGUMENT:dx,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Qx=24;function Ln(t){return $a(t,null,void 0)}function du(t,e){return e.locale!=null?sf(e.locale):sf(t.locale)}let bl;function sf(t){if(K(t))return t;if($e(t)){if(t.resolvedOnce&&bl!=null)return bl;if(t.constructor.name==="Function"){const e=t();if(ux(e))throw Ln(Nn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return bl=e}else throw Ln(Nn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Ln(Nn.NOT_SUPPORT_LOCALE_TYPE)}function Jx(t,e,n){return[...new Set([n,...Ve(e)?e:Ce(e)?Object.keys(e):K(e)?[e]:[n]])]}function bm(t,e,n){const s=K(n)?n:xr,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let r=i.__localeChainCache.get(s);if(!r){r=[];let o=[n];for(;Ve(o);)o=rf(r,o,e);const a=Ve(e)||!fe(e)?e:e.default?e.default:null;o=K(a)?[a]:a,Ve(o)&&rf(r,o,!1),i.__localeChainCache.set(s,r)}return r}function rf(t,e,n){let s=!0;for(let i=0;i<e.length&&be(s);i++){const r=e[i];K(r)&&(s=Zx(t,e[i],n))}return s}function Zx(t,e,n){let s;const i=e.split("-");do{const r=i.join("-");s=ew(t,r,n),i.splice(-1,1)}while(i.length&&s===!0);return s}function ew(t,e,n){let s=!1;if(!t.includes(e)&&(s=!0,e)){s=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Ve(n)||fe(n))&&n[i]&&(s=n[i])}return s}const ps=[];ps[0]={w:[0],i:[3,0],"[":[4],o:[7]};ps[1]={w:[1],".":[2],"[":[4],o:[7]};ps[2]={w:[2],i:[3,0],0:[3,0]};ps[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ps[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ps[5]={"'":[4,0],o:8,l:[5,0]};ps[6]={'"':[4,0],o:8,l:[6,0]};const tw=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function nw(t){return tw.test(t)}function sw(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function iw(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function rw(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:nw(e)?sw(e):"*"+e}function ow(t){const e=[];let n=-1,s=0,i=0,r,o,a,l,c,u,h;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),i++},f[3]=()=>{if(i>0)i--,s=4,f[0]();else{if(i=0,o===void 0||(o=rw(o),o===!1))return!1;f[1]()}};function d(){const g=t[n+1];if(s===5&&g==="'"||s===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;s!==null;)if(n++,r=t[n],!(r==="\\"&&d())){if(l=iw(r),h=ps[s],c=h[l]||h.l||8,c===8||(s=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=r,u()===!1))))return;if(s===7)return e}}const of=new Map;function aw(t,e){return Ce(t)?t[e]:null}function lw(t,e){if(!Ce(t))return null;let n=of.get(e);if(n||(n=ow(e),n&&of.set(e,n)),!n)return null;const s=n.length;let i=t,r=0;for(;r<s;){const o=n[r];if(ym.includes(o)&&bn(i))return null;const a=i[o];if(a===void 0||$e(i))return null;i=a,r++}return i}const cw="11.1.11",Ha=-1,xr="en-US",af="",lf=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function uw(){return{upper:(t,e)=>e==="text"&&K(t)?t.toUpperCase():e==="vnode"&&Ce(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&K(t)?t.toLowerCase():e==="vnode"&&Ce(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&K(t)?lf(t):e==="vnode"&&Ce(t)&&"__v_isVNode"in t?lf(t.children):t}}let vm;function hw(t){vm=t}let xm;function fw(t){xm=t}let wm;function dw(t){wm=t}let Cm=null;const pw=t=>{Cm=t},gw=()=>Cm;let Em=null;const cf=t=>{Em=t},mw=()=>Em;let uf=0;function _w(t={}){const e=$e(t.onWarn)?t.onWarn:sx,n=K(t.version)?t.version:cw,s=K(t.locale)||$e(t.locale)?t.locale:xr,i=$e(s)?xr:s,r=Ve(t.fallbackLocale)||fe(t.fallbackLocale)||K(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=fe(t.messages)?t.messages:vl(i),a=fe(t.datetimeFormats)?t.datetimeFormats:vl(i),l=fe(t.numberFormats)?t.numberFormats:vl(i),c=st(Ie(),t.modifiers,uw()),u=t.pluralRules||Ie(),h=$e(t.missing)?t.missing:null,f=be(t.missingWarn)||hi(t.missingWarn)?t.missingWarn:!0,d=be(t.fallbackWarn)||hi(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,p=!!t.unresolving,_=$e(t.postTranslation)?t.postTranslation:null,m=fe(t.processor)?t.processor:null,x=be(t.warnHtmlMessage)?t.warnHtmlMessage:!0,E=!!t.escapeParameter,w=$e(t.messageCompiler)?t.messageCompiler:vm,k=$e(t.messageResolver)?t.messageResolver:xm||aw,A=$e(t.localeFallbacker)?t.localeFallbacker:wm||Jx,I=Ce(t.fallbackContext)?t.fallbackContext:void 0,H=t,$=Ce(H.__datetimeFormatters)?H.__datetimeFormatters:new Map,B=Ce(H.__numberFormatters)?H.__numberFormatters:new Map,V=Ce(H.__meta)?H.__meta:{};uf++;const G={version:n,cid:uf,locale:s,fallbackLocale:r,messages:o,modifiers:c,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:d,fallbackFormat:g,unresolving:p,postTranslation:_,processor:m,warnHtmlMessage:x,escapeParameter:E,messageCompiler:w,messageResolver:k,localeFallbacker:A,fallbackContext:I,onWarn:e,__meta:V};return G.datetimeFormats=a,G.numberFormats=l,G.__datetimeFormatters=$,G.__numberFormatters=B,__INTLIFY_PROD_DEVTOOLS__&&Kx(G,n,V),G}const vl=t=>({[t]:Ie()});function pu(t,e,n,s,i){const{missing:r,onWarn:o}=t;if(r!==null){const a=r(t,n,e,i);return K(a)?a:e}else return e}function Oi(t,e,n){const s=t;s.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function yw(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function bw(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let s=n+1;s<e.length;s++)if(yw(t,e[s]))return!0;return!1}function hf(t,...e){const{datetimeFormats:n,unresolving:s,fallbackLocale:i,onWarn:r,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,u,h]=cc(...e),f=be(u.missingWarn)?u.missingWarn:t.missingWarn;be(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const d=!!u.part,g=du(t,u),p=o(t,i,g);if(!K(l)||l==="")return new Intl.DateTimeFormat(g,h).format(c);let _={},m,x=null;const E="datetime format";for(let A=0;A<p.length&&(m=p[A],_=n[m]||{},x=_[l],!fe(x));A++)pu(t,l,m,f,E);if(!fe(x)||!K(m))return s?Ha:l;let w=`${m}__${l}`;Wa(h)||(w=`${w}__${JSON.stringify(h)}`);let k=a.get(w);return k||(k=new Intl.DateTimeFormat(m,st({},x,h)),a.set(w,k)),d?k.formatToParts(c):k.format(c)}const Sm=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function cc(...t){const[e,n,s,i]=t,r=Ie();let o=Ie(),a;if(K(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Ln(Nn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Ln(Nn.INVALID_ISO_DATE_ARGUMENT)}}else if(ox(e)){if(isNaN(e.getTime()))throw Ln(Nn.INVALID_DATE_ARGUMENT);a=e}else if(Xe(e))a=e;else throw Ln(Nn.INVALID_ARGUMENT);return K(n)?r.key=n:fe(n)&&Object.keys(n).forEach(l=>{Sm.includes(l)?o[l]=n[l]:r[l]=n[l]}),K(s)?r.locale=s:fe(s)&&(o=s),fe(i)&&(o=i),[r.key||"",a,r,o]}function ff(t,e,n){const s=t;for(const i in n){const r=`${e}__${i}`;s.__datetimeFormatters.has(r)&&s.__datetimeFormatters.delete(r)}}function df(t,...e){const{numberFormats:n,unresolving:s,fallbackLocale:i,onWarn:r,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,u,h]=uc(...e),f=be(u.missingWarn)?u.missingWarn:t.missingWarn;be(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const d=!!u.part,g=du(t,u),p=o(t,i,g);if(!K(l)||l==="")return new Intl.NumberFormat(g,h).format(c);let _={},m,x=null;const E="number format";for(let A=0;A<p.length&&(m=p[A],_=n[m]||{},x=_[l],!fe(x));A++)pu(t,l,m,f,E);if(!fe(x)||!K(m))return s?Ha:l;let w=`${m}__${l}`;Wa(h)||(w=`${w}__${JSON.stringify(h)}`);let k=a.get(w);return k||(k=new Intl.NumberFormat(m,st({},x,h)),a.set(w,k)),d?k.formatToParts(c):k.format(c)}const km=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function uc(...t){const[e,n,s,i]=t,r=Ie();let o=Ie();if(!Xe(e))throw Ln(Nn.INVALID_ARGUMENT);const a=e;return K(n)?r.key=n:fe(n)&&Object.keys(n).forEach(l=>{km.includes(l)?o[l]=n[l]:r[l]=n[l]}),K(s)?r.locale=s:fe(s)&&(o=s),fe(i)&&(o=i),[r.key||"",a,r,o]}function pf(t,e,n){const s=t;for(const i in n){const r=`${e}__${i}`;s.__numberFormatters.has(r)&&s.__numberFormatters.delete(r)}}const vw=t=>t,xw=t=>"",ww="text",Cw=t=>t.length===0?"":uu(t),Ew=hx;function gf(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Sw(t){const e=Xe(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Xe(t.named.count)||Xe(t.named.n))?Xe(t.named.count)?t.named.count:Xe(t.named.n)?t.named.n:e:e}function kw(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Tw(t={}){const e=t.locale,n=Sw(t),s=Ce(t.pluralRules)&&K(e)&&$e(t.pluralRules[e])?t.pluralRules[e]:gf,i=Ce(t.pluralRules)&&K(e)&&$e(t.pluralRules[e])?gf:void 0,r=m=>m[s(n,m.length,i)],o=t.list||[],a=m=>o[m],l=t.named||Ie();Xe(t.pluralIndex)&&kw(n,l);const c=m=>l[m];function u(m,x){const E=$e(t.messages)?t.messages(m,!!x):Ce(t.messages)?t.messages[m]:!1;return E||(t.parent?t.parent.message(m):xw)}const h=m=>t.modifiers?t.modifiers[m]:vw,f=fe(t.processor)&&$e(t.processor.normalize)?t.processor.normalize:Cw,d=fe(t.processor)&&$e(t.processor.interpolate)?t.processor.interpolate:Ew,g=fe(t.processor)&&K(t.processor.type)?t.processor.type:ww,_={list:a,named:c,plural:r,linked:(m,...x)=>{const[E,w]=x;let k="text",A="";x.length===1?Ce(E)?(A=E.modifier||A,k=E.type||k):K(E)&&(A=E||A):x.length===2&&(K(E)&&(A=E||A),K(w)&&(k=w||k));const I=u(m,!0)(_),H=k==="vnode"&&Ve(I)&&A?I[0]:I;return A?h(A)(H,k):H},message:u,type:g,interpolate:d,normalize:f,values:st(Ie(),o,l)};return _}const mf=()=>"",Bt=t=>$e(t);function _f(t,...e){const{fallbackFormat:n,postTranslation:s,unresolving:i,messageCompiler:r,fallbackLocale:o,messages:a}=t,[l,c]=hc(...e),u=be(c.missingWarn)?c.missingWarn:t.missingWarn,h=be(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=be(c.escapeParameter)?c.escapeParameter:t.escapeParameter,d=!!c.resolvedMessage,g=K(c.default)||be(c.default)?be(c.default)?r?l:()=>l:c.default:n?r?l:()=>l:null,p=n||g!=null&&(K(g)||$e(g)),_=du(t,c);f&&Iw(c);let[m,x,E]=d?[l,_,a[_]||Ie()]:Tm(t,l,_,o,h,u),w=m,k=l;if(!d&&!(K(w)||bn(w)||Bt(w))&&p&&(w=g,k=w),!d&&(!(K(w)||bn(w)||Bt(w))||!K(x)))return i?Ha:l;let A=!1;const I=()=>{A=!0},H=Bt(w)?w:Im(t,l,x,w,k,I);if(A)return w;const $=Rw(t,x,E,c),B=Tw($),V=Pw(t,H,B);let G=s?s(V,l):V;if(f&&K(G)&&(G=lx(G)),__INTLIFY_PROD_DEVTOOLS__){const _e={timestamp:Date.now(),key:K(l)?l:Bt(w)?w.key:"",locale:x||(Bt(w)?w.locale:""),format:K(w)?w:Bt(w)?w.source:"",message:G};_e.meta=st({},t.__meta,gw()||{}),qx(_e)}return G}function Iw(t){Ve(t.list)?t.list=t.list.map(e=>K(e)?Qh(e):e):Ce(t.named)&&Object.keys(t.named).forEach(e=>{K(t.named[e])&&(t.named[e]=Qh(t.named[e]))})}function Tm(t,e,n,s,i,r){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,s,n);let h=Ie(),f,d=null;const g="translate";for(let p=0;p<u.length&&(f=u[p],h=o[f]||Ie(),(d=l(h,e))===null&&(d=h[e]),!(K(d)||bn(d)||Bt(d)));p++)if(!bw(f,u)){const _=pu(t,e,f,r,g);_!==e&&(d=_)}return[d,f,h]}function Im(t,e,n,s,i,r){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Bt(s)){const c=s;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>s;return c.locale=n,c.key=e,c}const l=o(s,Aw(t,n,i,s,a,r));return l.locale=n,l.key=e,l.source=s,l}function Pw(t,e,n){return e(n)}function hc(...t){const[e,n,s]=t,i=Ie();if(!K(e)&&!Xe(e)&&!Bt(e)&&!bn(e))throw Ln(Nn.INVALID_ARGUMENT);const r=Xe(e)?String(e):(Bt(e),e);return Xe(n)?i.plural=n:K(n)?i.default=n:fe(n)&&!Wa(n)?i.named=n:Ve(n)&&(i.list=n),Xe(s)?i.plural=s:K(s)?i.default=s:fe(s)&&st(i,s),[r,i]}function Aw(t,e,n,s,i,r){return{locale:e,key:n,warnHtmlMessage:i,onError:o=>{throw r&&r(o),o},onCacheKey:o=>ix(e,n,o)}}function Rw(t,e,n,s){const{modifiers:i,pluralRules:r,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:i,pluralRules:r,messages:(d,g)=>{let p=o(n,d);if(p==null&&(u||g)){const[,,_]=Tm(u||t,d,e,a,l,c);p=o(_,d)}if(K(p)||bn(p)){let _=!1;const x=Im(t,d,e,p,d,()=>{_=!0});return _?mf:x}else return Bt(p)?p:mf}};return t.processor&&(f.processor=t.processor),s.list&&(f.list=s.list),s.named&&(f.named=s.named),Xe(s.plural)&&(f.pluralIndex=s.plural),f}Lx();/*!
  * vue-i18n v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Ow="11.1.11";function Mw(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ks().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ks().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ks().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ks().__INTLIFY_PROD_DEVTOOLS__=!1)}const Rt={UNEXPECTED_RETURN_TYPE:Qx,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Ft(t,...e){return $a(t,null,void 0)}const fc=fs("__translateVNode"),dc=fs("__datetimeParts"),pc=fs("__numberParts"),Pm=fs("__setPluralRules"),Am=fs("__injectWithOption"),gc=fs("__dispose");function wr(t){if(!Ce(t)||bn(t))return t;for(const e in t)if(qt(t,e))if(!e.includes("."))Ce(t[e])&&wr(t[e]);else{const n=e.split("."),s=n.length-1;let i=t,r=!1;for(let o=0;o<s;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in i||(i[n[o]]=Ie()),!Ce(i[n[o]])){r=!0;break}i=i[n[o]]}if(r||(bn(i)?ym.includes(n[s])||delete t[e]:(i[n[s]]=t[e],delete t[e])),!bn(i)){const o=i[n[s]];Ce(o)&&wr(o)}}return t}function gu(t,e){const{messages:n,__i18n:s,messageResolver:i,flatJson:r}=e,o=fe(n)?n:Ve(s)?Ie():{[t]:Ie()};if(Ve(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Ie(),Do(c,o[l])):Do(c,o)}else K(a)&&Do(JSON.parse(a),o)}),i==null&&r)for(const a in o)qt(o,a)&&wr(o[a]);return o}function Rm(t){return t.type}function Om(t,e,n){let s=Ce(e.messages)?e.messages:Ie();"__i18nGlobal"in n&&(s=gu(t.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const i=Object.keys(s);i.length&&i.forEach(r=>{t.mergeLocaleMessage(r,s[r])});{if(Ce(e.datetimeFormats)){const r=Object.keys(e.datetimeFormats);r.length&&r.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Ce(e.numberFormats)){const r=Object.keys(e.numberFormats);r.length&&r.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function yf(t){return Z(Kr,null,t,0)}const bf="__INTLIFY_META__",vf=()=>[],Dw=()=>!1;let xf=0;function wf(t){return(e,n,s,i)=>t(n,s,ui()||void 0,i)}const Nw=()=>{const t=ui();let e=null;return t&&(e=Rm(t)[bf])?{[bf]:e}:null};function mu(t={}){const{__root:e,__injectWithOption:n}=t,s=e===void 0,i=t.flatJson,r=Xo?Je:Ra;let o=be(t.inheritLocale)?t.inheritLocale:!0;const a=r(e&&o?e.locale.value:K(t.locale)?t.locale:xr),l=r(e&&o?e.fallbackLocale.value:K(t.fallbackLocale)||Ve(t.fallbackLocale)||fe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),c=r(gu(a.value,t)),u=r(fe(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),h=r(fe(t.numberFormats)?t.numberFormats:{[a.value]:{}});let f=e?e.missingWarn:be(t.missingWarn)||hi(t.missingWarn)?t.missingWarn:!0,d=e?e.fallbackWarn:be(t.fallbackWarn)||hi(t.fallbackWarn)?t.fallbackWarn:!0,g=e?e.fallbackRoot:be(t.fallbackRoot)?t.fallbackRoot:!0,p=!!t.fallbackFormat,_=$e(t.missing)?t.missing:null,m=$e(t.missing)?wf(t.missing):null,x=$e(t.postTranslation)?t.postTranslation:null,E=e?e.warnHtmlMessage:be(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter;const k=e?e.modifiers:fe(t.modifiers)?t.modifiers:{};let A=t.pluralRules||e&&e.pluralRules,I;I=(()=>{s&&cf(null);const S={version:Ow,locale:a.value,fallbackLocale:l.value,messages:c.value,modifiers:k,pluralRules:A,missing:m===null?void 0:m,missingWarn:f,fallbackWarn:d,fallbackFormat:p,unresolving:!0,postTranslation:x===null?void 0:x,warnHtmlMessage:E,escapeParameter:w,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};S.datetimeFormats=u.value,S.numberFormats=h.value,S.__datetimeFormatters=fe(I)?I.__datetimeFormatters:void 0,S.__numberFormatters=fe(I)?I.__numberFormatters:void 0;const O=_w(S);return s&&cf(O),O})(),Oi(I,a.value,l.value);function $(){return[a.value,l.value,c.value,u.value,h.value]}const B=we({get:()=>a.value,set:S=>{I.locale=S,a.value=S}}),V=we({get:()=>l.value,set:S=>{I.fallbackLocale=S,l.value=S,Oi(I,a.value,S)}}),G=we(()=>c.value),_e=we(()=>u.value),Ge=we(()=>h.value);function ye(){return $e(x)?x:null}function oe(S){x=S,I.postTranslation=S}function se(){return _}function ae(S){S!==null&&(m=wf(S)),_=S,I.missing=m}const He=(S,O,q,ne,ce,Qe)=>{$();let ze;try{__INTLIFY_PROD_DEVTOOLS__,s||(I.fallbackContext=e?mw():void 0),ze=S(I)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(I.fallbackContext=void 0)}if(q!=="translate exists"&&Xe(ze)&&ze===Ha||q==="translate exists"&&!ze){const[$t,Gt]=O();return e&&g?ne(e):ce($t)}else{if(Qe(ze))return ze;throw Ft(Rt.UNEXPECTED_RETURN_TYPE)}};function Ke(...S){return He(O=>Reflect.apply(_f,null,[O,...S]),()=>hc(...S),"translate",O=>Reflect.apply(O.t,O,[...S]),O=>O,O=>K(O))}function qe(...S){const[O,q,ne]=S;if(ne&&!Ce(ne))throw Ft(Rt.INVALID_ARGUMENT);return Ke(O,q,st({resolvedMessage:!0},ne||{}))}function Le(...S){return He(O=>Reflect.apply(hf,null,[O,...S]),()=>cc(...S),"datetime format",O=>Reflect.apply(O.d,O,[...S]),()=>af,O=>K(O)||Ve(O))}function ft(...S){return He(O=>Reflect.apply(df,null,[O,...S]),()=>uc(...S),"number format",O=>Reflect.apply(O.n,O,[...S]),()=>af,O=>K(O)||Ve(O))}function rt(S){return S.map(O=>K(O)||Xe(O)||be(O)?yf(String(O)):O)}const Be={normalize:rt,interpolate:S=>S,type:"vnode"};function D(...S){return He(O=>{let q;const ne=O;try{ne.processor=Be,q=Reflect.apply(_f,null,[ne,...S])}finally{ne.processor=null}return q},()=>hc(...S),"translate",O=>O[fc](...S),O=>[yf(O)],O=>Ve(O))}function Y(...S){return He(O=>Reflect.apply(df,null,[O,...S]),()=>uc(...S),"number format",O=>O[pc](...S),vf,O=>K(O)||Ve(O))}function z(...S){return He(O=>Reflect.apply(hf,null,[O,...S]),()=>cc(...S),"datetime format",O=>O[dc](...S),vf,O=>K(O)||Ve(O))}function X(S){A=S,I.pluralRules=A}function xe(S,O){return He(()=>{if(!S)return!1;const q=K(O)?O:a.value,ne=P(q),ce=I.messageResolver(ne,S);return bn(ce)||Bt(ce)||K(ce)},()=>[S],"translate exists",q=>Reflect.apply(q.te,q,[S,O]),Dw,q=>be(q))}function v(S){let O=null;const q=bm(I,l.value,a.value);for(let ne=0;ne<q.length;ne++){const ce=c.value[q[ne]]||{},Qe=I.messageResolver(ce,S);if(Qe!=null){O=Qe;break}}return O}function C(S){const O=v(S);return O??(e?e.tm(S)||{}:{})}function P(S){return c.value[S]||{}}function M(S,O){if(i){const q={[S]:O};for(const ne in q)qt(q,ne)&&wr(q[ne]);O=q[S]}c.value[S]=O,I.messages=c.value}function F(S,O){c.value[S]=c.value[S]||{};const q={[S]:O};if(i)for(const ne in q)qt(q,ne)&&wr(q[ne]);O=q[S],Do(O,c.value[S]),I.messages=c.value}function N(S){return u.value[S]||{}}function y(S,O){u.value[S]=O,I.datetimeFormats=u.value,ff(I,S,O)}function b(S,O){u.value[S]=st(u.value[S]||{},O),I.datetimeFormats=u.value,ff(I,S,O)}function T(S){return h.value[S]||{}}function R(S,O){h.value[S]=O,I.numberFormats=h.value,pf(I,S,O)}function j(S,O){h.value[S]=st(h.value[S]||{},O),I.numberFormats=h.value,pf(I,S,O)}xf++,e&&Xo&&(_n(e.locale,S=>{o&&(a.value=S,I.locale=S,Oi(I,a.value,l.value))}),_n(e.fallbackLocale,S=>{o&&(l.value=S,I.fallbackLocale=S,Oi(I,a.value,l.value))}));const W={id:xf,locale:B,fallbackLocale:V,get inheritLocale(){return o},set inheritLocale(S){o=S,S&&e&&(a.value=e.locale.value,l.value=e.fallbackLocale.value,Oi(I,a.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:G,get modifiers(){return k},get pluralRules(){return A||{}},get isGlobal(){return s},get missingWarn(){return f},set missingWarn(S){f=S,I.missingWarn=f},get fallbackWarn(){return d},set fallbackWarn(S){d=S,I.fallbackWarn=d},get fallbackRoot(){return g},set fallbackRoot(S){g=S},get fallbackFormat(){return p},set fallbackFormat(S){p=S,I.fallbackFormat=p},get warnHtmlMessage(){return E},set warnHtmlMessage(S){E=S,I.warnHtmlMessage=S},get escapeParameter(){return w},set escapeParameter(S){w=S,I.escapeParameter=S},t:Ke,getLocaleMessage:P,setLocaleMessage:M,mergeLocaleMessage:F,getPostTranslationHandler:ye,setPostTranslationHandler:oe,getMissingHandler:se,setMissingHandler:ae,[Pm]:X};return W.datetimeFormats=_e,W.numberFormats=Ge,W.rt=qe,W.te=xe,W.tm=C,W.d=Le,W.n=ft,W.getDateTimeFormat=N,W.setDateTimeFormat=y,W.mergeDateTimeFormat=b,W.getNumberFormat=T,W.setNumberFormat=R,W.mergeNumberFormat=j,W[Am]=n,W[fc]=D,W[dc]=z,W[pc]=Y,W}function Lw(t){const e=K(t.locale)?t.locale:xr,n=K(t.fallbackLocale)||Ve(t.fallbackLocale)||fe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,s=$e(t.missing)?t.missing:void 0,i=be(t.silentTranslationWarn)||hi(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,r=be(t.silentFallbackWarn)||hi(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=be(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=fe(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=$e(t.postTranslation)?t.postTranslation:void 0,h=K(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,d=be(t.sync)?t.sync:!0;let g=t.messages;if(fe(t.sharedMessages)){const k=t.sharedMessages;g=Object.keys(k).reduce((I,H)=>{const $=I[H]||(I[H]={});return st($,k[H]),I},g||{})}const{__i18n:p,__root:_,__injectWithOption:m}=t,x=t.datetimeFormats,E=t.numberFormats,w=t.flatJson;return{locale:e,fallbackLocale:n,messages:g,flatJson:w,datetimeFormats:x,numberFormats:E,missing:s,missingWarn:i,fallbackWarn:r,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:d,__i18n:p,__root:_,__injectWithOption:m}}function mc(t={}){const e=mu(Lw(t)),{__extender:n}=t,s={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return be(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=be(i)?!i:i},get silentFallbackWarn(){return be(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=be(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){return Reflect.apply(e.t,e,[...i])},rt(...i){return Reflect.apply(e.rt,e,[...i])},te(i,r){return e.te(i,r)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,r){e.setLocaleMessage(i,r)},mergeLocaleMessage(i,r){e.mergeLocaleMessage(i,r)},d(...i){return Reflect.apply(e.d,e,[...i])},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,r){e.setDateTimeFormat(i,r)},mergeDateTimeFormat(i,r){e.mergeDateTimeFormat(i,r)},n(...i){return Reflect.apply(e.n,e,[...i])},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,r){e.setNumberFormat(i,r)},mergeNumberFormat(i,r){e.mergeNumberFormat(i,r)}};return s.__extender=n,s}function Fw(t,e,n){return{beforeCreate(){const s=ui();if(!s)throw Ft(Rt.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const r=i.i18n;if(i.__i18n&&(r.__i18n=i.__i18n),r.__root=e,this===this.$root)this.$i18n=Cf(t,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=mc(r);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=Cf(t,i);else{this.$i18n=mc({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&Om(e,i,i),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$te=(r,o)=>this.$i18n.te(r,o),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=ui();if(!s)throw Ft(Rt.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(s),delete this.$i18n}}}function Cf(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[Pm](e.pluralizationRules||t.pluralizationRules);const n=gu(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(s=>t.mergeLocaleMessage(s,n[s])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(s=>t.mergeDateTimeFormat(s,e.datetimeFormats[s])),e.numberFormats&&Object.keys(e.numberFormats).forEach(s=>t.mergeNumberFormat(s,e.numberFormats[s])),t}const _u={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function Ww({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((s,i)=>[...s,...i.type===Ze?i.children:[i]],[]):e.reduce((n,s)=>{const i=t[s];return i&&(n[s]=i()),n},Ie())}function Mm(){return Ze}const $w=it({name:"i18n-t",props:st({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Xe(t)||!isNaN(t)}},_u),setup(t,e){const{slots:n,attrs:s}=e,i=t.i18n||Ci({useScope:t.scope,__useComponent:!0});return()=>{const r=Object.keys(n).filter(h=>h[0]!=="_"),o=Ie();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=K(t.plural)?+t.plural:t.plural);const a=Ww(e,r),l=i[fc](t.keypath,a,o),c=st(Ie(),s),u=K(t.tag)||Ce(t.tag)?t.tag:Mm();return wn(u,c,l)}}}),Ef=$w;function Hw(t){return Ve(t)&&!K(t[0])}function Dm(t,e,n,s){const{slots:i,attrs:r}=e;return()=>{const o={part:!0};let a=Ie();t.locale&&(o.locale=t.locale),K(t.format)?o.key=t.format:Ce(t.format)&&(K(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,d)=>n.includes(d)?st(Ie(),f,{[d]:t.format[d]}):f,Ie()));const l=s(t.value,o,a);let c=[o.key];Ve(l)?c=l.map((f,d)=>{const g=i[f.type],p=g?g({[f.type]:f.value,index:d,parts:l}):[f.value];return Hw(p)&&(p[0].key=`${f.type}-${d}`),p}):K(l)&&(c=[l]);const u=st(Ie(),r),h=K(t.tag)||Ce(t.tag)?t.tag:Mm();return wn(h,u,c)}}const Bw=it({name:"i18n-n",props:st({value:{type:Number,required:!0},format:{type:[String,Object]}},_u),setup(t,e){const n=t.i18n||Ci({useScope:t.scope,__useComponent:!0});return Dm(t,e,km,(...s)=>n[pc](...s))}}),Sf=Bw;function Vw(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const s=n.__getInstance(e);return s!=null?s.__composer:t.global.__composer}}function Uw(t){const e=o=>{const{instance:a,value:l}=o;if(!a||!a.$)throw Ft(Rt.UNEXPECTED_ERROR);const c=Vw(t,a.$),u=kf(l);return[Reflect.apply(c.t,c,[...Tf(u)]),c]};return{created:(o,a)=>{const[l,c]=e(a);Xo&&t.global===c&&(o.__i18nWatcher=_n(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Xo&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=kf(a);o.textContent=Reflect.apply(l.t,l,[...Tf(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function kf(t){if(K(t))return{path:t};if(fe(t)){if(!("path"in t))throw Ft(Rt.REQUIRED_VALUE,"path");return t}else throw Ft(Rt.INVALID_VALUE)}function Tf(t){const{path:e,locale:n,args:s,choice:i,plural:r}=t,o={},a=s||{};return K(n)&&(o.locale=n),Xe(i)&&(o.plural=i),Xe(r)&&(o.plural=r),[e,a,o]}function zw(t,e,...n){const s=fe(n[0])?n[0]:{};(be(s.globalInstall)?s.globalInstall:!0)&&([Ef.name,"I18nT"].forEach(r=>t.component(r,Ef)),[Sf.name,"I18nN"].forEach(r=>t.component(r,Sf)),[Pf.name,"I18nD"].forEach(r=>t.component(r,Pf))),t.directive("t",Uw(e))}const jw=fs("global-vue-i18n");function Yw(t={}){const e=__VUE_I18N_LEGACY_API__&&be(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=be(t.globalInjection)?t.globalInjection:!0,s=new Map,[i,r]=Gw(t,e),o=fs("");function a(h){return s.get(h)||null}function l(h,f){s.set(h,f)}function c(h){s.delete(h)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(h,...f){if(h.__VUE_I18N_SYMBOL__=o,h.provide(h.__VUE_I18N_SYMBOL__,u),fe(f[0])){const p=f[0];u.__composerExtend=p.__composerExtend,u.__vueI18nExtend=p.__vueI18nExtend}let d=null;!e&&n&&(d=tC(h,u.global)),__VUE_I18N_FULL_INSTALL__&&zw(h,u,...f),__VUE_I18N_LEGACY_API__&&e&&h.mixin(Fw(r,r.__composer,u));const g=h.unmount;h.unmount=()=>{d&&d(),u.dispose(),g()}},get global(){return r},dispose(){i.stop()},__instances:s,__getInstance:a,__setInstance:l,__deleteInstance:c};return u}function Ci(t={}){const e=ui();if(e==null)throw Ft(Rt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Ft(Rt.NOT_INSTALLED);const n=Kw(e),s=Xw(n),i=Rm(e),r=qw(t,i);if(r==="global")return Om(s,t,i),s;if(r==="parent"){let l=Qw(n,e,t.__useComponent);return l==null&&(l=s),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=st({},t);"__i18n"in i&&(l.__i18n=i.__i18n),s&&(l.__root=s),a=mu(l),o.__composerExtend&&(a[gc]=o.__composerExtend(a)),Zw(o,e,a),o.__setInstance(e,a)}return a}function Gw(t,e){const n=Hb(),s=__VUE_I18N_LEGACY_API__&&e?n.run(()=>mc(t)):n.run(()=>mu(t));if(s==null)throw Ft(Rt.UNEXPECTED_ERROR);return[n,s]}function Kw(t){const e=en(t.isCE?jw:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Ft(t.isCE?Rt.NOT_INSTALLED_WITH_PROVIDE:Rt.UNEXPECTED_ERROR);return e}function qw(t,e){return Wa(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function Xw(t){return t.mode==="composition"?t.global:t.global.__composer}function Qw(t,e,n=!1){let s=null;const i=e.root;let r=Jw(e,n);for(;r!=null;){const o=t;if(t.mode==="composition")s=o.__getInstance(r);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(r);a!=null&&(s=a.__composer,n&&s&&!s[Am]&&(s=null))}if(s!=null||i===r)break;r=r.parent}return s}function Jw(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function Zw(t,e,n){Yr(()=>{},e),Na(()=>{const s=n;t.__deleteInstance(e);const i=s[gc];i&&(i(),delete s[gc])},e)}const eC=["locale","fallbackLocale","availableLocales"],If=["t","rt","d","n","tm","te"];function tC(t,e){const n=Object.create(null);return eC.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r)throw Ft(Rt.UNEXPECTED_ERROR);const o=ht(r.value)?{get(){return r.value.value},set(a){r.value.value=a}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,i,o)}),t.config.globalProperties.$i18n=n,If.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r||!r.value)throw Ft(Rt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,r)}),()=>{delete t.config.globalProperties.$i18n,If.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}const nC=it({name:"i18n-d",props:st({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},_u),setup(t,e){const n=t.i18n||Ci({useScope:t.scope,__useComponent:!0});return Dm(t,e,Sm,(...s)=>n[dc](...s))}}),Pf=nC;Mw();hw(Yx);fw(lw);dw(bm);if(__INTLIFY_PROD_DEVTOOLS__){const t=ks();t.__INTLIFY__=!0,Gx(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const sC={class:"main-nav"},iC={class:"nav-container"},rC={class:"nav-links"},oC=it({__name:"NavigationComp",setup(t){const{t:e}=Ci(),n=we(()=>new Date().toISOString().split("T")[0]);return(s,i)=>{const r=Gr("router-link");return J(),ie("nav",sC,[L("div",iC,[Z(r,{to:"/my-workout-tracker",class:"nav-brand"},{default:Dn(()=>[Z(Q(lm),{size:24}),i[0]||(i[0]=L("span",null,"FitTracker",-1))]),_:1,__:[0]}),L("div",rC,[Z(r,{to:"/my-workout-tracker",class:"nav-link","active-class":"active",exact:""},{default:Dn(()=>[Z(Q(Z0),{size:18}),L("span",null,ue(Q(e)("nav.dashboard")),1)]),_:1}),Z(r,{to:`/my-workout-tracker/workout/${n.value}`,class:"nav-link","active-class":"active"},{default:Dn(()=>[Z(Q(lu),{size:18}),L("span",null,ue(Q(e)("nav.workout")),1)]),_:1},8,["to"]),Z(r,{to:"/my-workout-tracker/history",class:"nav-link","active-class":"active"},{default:Dn(()=>[Z(Q(q0),{size:18}),L("span",null,ue(Q(e)("nav.history")),1)]),_:1})])])])}}}),rn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},aC=rn(oC,[["__scopeId","data-v-33e91b07"]]);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>{};var Af={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw Ei(e)},Ei=function(t){return new Error("Firebase Database ("+Nm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),s.push(n[u],n[h],n[f],n[d])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||h==null)throw new uC;const f=r<<2|a>>4;if(s.push(f),c!==64){const d=a<<4&240|c>>2;if(s.push(d),h!==64){const g=c<<6&192|h;s.push(g)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fm=function(t){const e=Lm(t);return yu.encodeByteArray(e,!0)},Qo=function(t){return Fm(t).replace(/\./g,"")},_c=function(t){try{return yu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){return Wm(void 0,t)}function Wm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!fC(n)||(t[n]=Wm(t[n],e[n]));return t}function fC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=()=>dC().__FIREBASE_DEFAULTS__,gC=()=>{if(typeof process>"u"||typeof Af>"u")return;const t=Af.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_c(t[1]);return e&&JSON.parse(e)},$m=()=>{try{return lC()||pC()||gC()||mC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_C=t=>$m()?.emulatorHosts?.[t],yC=t=>{const e=_C(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Hm=()=>$m()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qo(JSON.stringify(n)),Qo(JSON.stringify(o)),""].join(".")}const tr={};function xC(){const t={prod:[],emulator:[]};for(const e of Object.keys(tr))tr[e]?t.emulator.push(e):t.prod.push(e);return t}function wC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Rf=!1;function CC(t,e){if(typeof window>"u"||typeof document>"u"||!bu(window.location.host)||tr[t]===e||tr[t]||Rf)return;tr[t]=e;function n(f){return`__firebase__banner__${f}`}const s="__firebase__banner",r=xC().prod.length>0;function o(){const f=document.getElementById(s);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,d){f.setAttribute("width","24"),f.setAttribute("id",d),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Rf=!0,o()},f}function u(f,d){f.setAttribute("id",d),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=wC(s),d=n("text"),g=document.getElementById(d)||document.createElement("span"),p=n("learnmore"),_=document.getElementById(p)||document.createElement("a"),m=n("preprendIcon"),x=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),u(_,p);const w=c();l(x,m),E.append(x,g,_,w),document.body.appendChild(E)}r?(g.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(EC())}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kC(){return Nm.NODE_ADMIN===!0}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="FirebaseError";class Xr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=PC,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vm.prototype.create)}}class Vm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?AC(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xr(i,a,s)}}function AC(t,e){return t.replace(RC,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const RC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return JSON.parse(t)}function et(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=Cr(_c(r[0])||""),n=Cr(_c(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},OC=function(t){const e=Um(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MC=function(t){const e=Um(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function di(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Of(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jo(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Zo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Mf(r)&&Mf(o)){if(!Zo(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Mf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)s[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)s[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):h<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[h]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function vu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,U(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Va=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){return t&&t._delegate?t._delegate:t}class Er{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ba;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($C(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WC(t){return t===xs?void 0:t}function $C(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const BC={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},VC=Oe.INFO,UC={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},zC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=UC[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=VC,this._logHandler=zC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const jC=(t,e)=>e.some(n=>t instanceof n);let Df,Nf;function YC(){return Df||(Df=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GC(){return Nf||(Nf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jm=new WeakMap,yc=new WeakMap,Ym=new WeakMap,xl=new WeakMap,xu=new WeakMap;function KC(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(ts(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jm.set(n,t)}).catch(()=>{}),xu.set(e,t),e}function qC(t){if(yc.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});yc.set(t,e)}let bc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ym.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XC(t){bc=t(bc)}function QC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(wl(this),e,...n);return Ym.set(s,e.sort?e.sort():[e]),ts(s)}:GC().includes(t)?function(...e){return t.apply(wl(this),e),ts(jm.get(this))}:function(...e){return ts(t.apply(wl(this),e))}}function JC(t){return typeof t=="function"?QC(t):(t instanceof IDBTransaction&&qC(t),jC(t,YC())?new Proxy(t,bc):t)}function ts(t){if(t instanceof IDBRequest)return KC(t);if(xl.has(t))return xl.get(t);const e=JC(t);return e!==t&&(xl.set(t,e),xu.set(e,t)),e}const wl=t=>xu.get(t);function ZC(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=ts(o);return s&&o.addEventListener("upgradeneeded",l=>{s(ts(o.result),l.oldVersion,l.newVersion,ts(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eE=["get","getKey","getAll","getAllKeys","count"],tE=["put","add","delete","clear"],Cl=new Map;function Lf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cl.get(e))return Cl.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=tE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||eE.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Cl.set(e,r),r}XC(t=>({...t,get:(e,n,s)=>Lf(e,n)||t.get(e,n,s),has:(e,n)=>!!Lf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function sE(t){return t.getComponent()?.type==="VERSION"}const vc="@firebase/app",Ff="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new zm("@firebase/app"),iE="@firebase/app-compat",rE="@firebase/analytics-compat",oE="@firebase/analytics",aE="@firebase/app-check-compat",lE="@firebase/app-check",cE="@firebase/auth",uE="@firebase/auth-compat",hE="@firebase/database",fE="@firebase/data-connect",dE="@firebase/database-compat",pE="@firebase/functions",gE="@firebase/functions-compat",mE="@firebase/installations",_E="@firebase/installations-compat",yE="@firebase/messaging",bE="@firebase/messaging-compat",vE="@firebase/performance",xE="@firebase/performance-compat",wE="@firebase/remote-config",CE="@firebase/remote-config-compat",EE="@firebase/storage",SE="@firebase/storage-compat",kE="@firebase/firestore",TE="@firebase/ai",IE="@firebase/firestore-compat",PE="firebase",AE="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="[DEFAULT]",RE={[vc]:"fire-core",[iE]:"fire-core-compat",[oE]:"fire-analytics",[rE]:"fire-analytics-compat",[lE]:"fire-app-check",[aE]:"fire-app-check-compat",[cE]:"fire-auth",[uE]:"fire-auth-compat",[hE]:"fire-rtdb",[fE]:"fire-data-connect",[dE]:"fire-rtdb-compat",[pE]:"fire-fn",[gE]:"fire-fn-compat",[mE]:"fire-iid",[_E]:"fire-iid-compat",[yE]:"fire-fcm",[bE]:"fire-fcm-compat",[vE]:"fire-perf",[xE]:"fire-perf-compat",[wE]:"fire-rc",[CE]:"fire-rc-compat",[EE]:"fire-gcs",[SE]:"fire-gcs-compat",[kE]:"fire-fst",[IE]:"fire-fst-compat",[TE]:"fire-vertex","fire-js":"fire-js",[PE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Map,OE=new Map,wc=new Map;function Wf(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ta(t){const e=t.name;if(wc.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;wc.set(e,t);for(const n of ea.values())Wf(n,t);for(const n of OE.values())Wf(n,t);return!0}function ME(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function DE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Vm("app","Firebase",NE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=AE;function Gm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:xc,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw ns.create("bad-app-name",{appName:String(i)});if(n||(n=Hm()),!n)throw ns.create("no-options");const r=ea.get(i);if(r){if(Zo(n,r.options)&&Zo(s,r.config))return r;throw ns.create("duplicate-app",{appName:i})}const o=new HC(i);for(const l of wc.values())o.addComponent(l);const a=new LE(n,s,o);return ea.set(i,a),a}function WE(t=xc){const e=ea.get(t);if(!e&&t===xc&&Hm())return Gm();if(!e)throw ns.create("no-app",{appName:t});return e}function ri(t,e,n){let s=RE[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(o.join(" "));return}ta(new Er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="firebase-heartbeat-database",HE=1,Sr="firebase-heartbeat-store";let El=null;function Km(){return El||(El=ZC($E,HE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sr)}catch(n){console.warn(n)}}}}).catch(t=>{throw ns.create("idb-open",{originalErrorMessage:t.message})})),El}async function BE(t){try{const n=(await Km()).transaction(Sr),s=await n.objectStore(Sr).get(qm(t));return await n.done,s}catch(e){if(e instanceof Xr)Vn.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});Vn.warn(n.message)}}}async function $f(t,e){try{const s=(await Km()).transaction(Sr,"readwrite");await s.objectStore(Sr).put(e,qm(t)),await s.done}catch(n){if(n instanceof Xr)Vn.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});Vn.warn(s.message)}}}function qm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=1024,UE=30;class zE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hf();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>UE){const i=GE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hf(),{heartbeatsToSend:n,unsentEntries:s}=jE(this._heartbeatsCache.heartbeats),i=Qo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Vn.warn(e),""}}}function Hf(){return new Date().toISOString().substring(0,10)}function jE(t,e=VE){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Bf(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bf(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class YE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?IC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BE(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $f(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $f(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bf(t){return Qo(JSON.stringify({version:2,heartbeats:t})).length}function GE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){ta(new Er("platform-logger",e=>new nE(e),"PRIVATE")),ta(new Er("heartbeat",e=>new zE(e),"PRIVATE")),ri(vc,Ff,t),ri(vc,Ff,"esm2020"),ri("fire-js","")}KE("");var Vf={};const Uf="@firebase/database",zf="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm="";function qE(t){Xm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Cr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new XE(e)}}catch{}return new QE},Ts=Qm("localStorage"),JE=Qm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new zm("@firebase/database"),ZE=function(){let t=1;return function(){return t++}}(),Jm=function(t){const e=LC(t),n=new NC;n.update(e);const s=n.digest();return yu.encodeByteArray(s)},Qr=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Qr.apply(null,s):typeof s=="object"?e+=et(s):e+=s,e+=" "}return e};let nr=null,jf=!0;const eS=function(t,e){U(!0,"Can't turn on custom loggers persistently."),oi.logLevel=Oe.VERBOSE,nr=oi.log.bind(oi)},gt=function(...t){if(jf===!0&&(jf=!1,nr===null&&JE.get("logging_enabled")===!0&&eS()),nr){const e=Qr.apply(null,t);nr(e)}},Jr=function(t){return function(...e){gt(t,...e)}},Cc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qr(...t);oi.error(e)},Un=function(...t){const e=`FIREBASE FATAL ERROR: ${Qr(...t)}`;throw oi.error(e),new Error(e)},At=function(...t){const e="FIREBASE WARNING: "+Qr(...t);oi.warn(e)},tS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&At("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},nS=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pi="[MIN_NAME]",Ns="[MAX_NAME]",Si=function(t,e){if(t===e)return 0;if(t===pi||e===Ns)return-1;if(e===pi||t===Ns)return 1;{const n=Yf(t),s=Yf(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},sS=function(t,e){return t===e?0:t<e?-1:1},Mi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+et(e))},wu=function(t){if(typeof t!="object"||t===null)return et(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=et(e[s]),n+=":",n+=wu(t[e[s]]);return n+="}",n},e_=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const t_=function(t){U(!Zm(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},iS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function oS(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const aS=new RegExp("^-?(0*)\\d{1,10}$"),lS=-2147483648,cS=2147483647,Yf=function(t){if(aS.test(t)){const e=Number(t);if(e>=lS&&e<=cS)return e}return null},ki=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw At("Exception was thrown by user callback.",n),e},Math.floor(0))}},uS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},sr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,DE(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){At(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',At(e)}}class No{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}No.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu="5",n_="v",s_="s",i_="r",r_="f",o_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,a_="ls",l_="p",Ec="ac",c_="websocket",u_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ts.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ts.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function dS(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function f_(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let s;if(e===c_)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===u_)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dS(t)&&(n.ns=t.namespace);const i=[];return Ot(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.counters_={}}incrementCounter(e,n=1){jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return hC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl={},kl={};function Eu(t){const e=t.toString();return Sl[e]||(Sl[e]=new pS),Sl[e]}function gS(t,e){const n=t.toString();return kl[n]||(kl[n]=e()),kl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&ki(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="start",_S="close",yS="pLPCommand",bS="pRTLPCB",d_="id",p_="pw",g_="ser",vS="cb",xS="seg",wS="ts",CS="d",ES="dframe",m_=1870,__=30,SS=m_-__,kS=25e3,TS=3e4;class Qs{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jr(e),this.stats_=Eu(n),this.urlFn=l=>(this.appCheckToken&&(l[Ec]=this.appCheckToken),f_(n,u_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TS)),nS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Su((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Gf)this.id=a,this.password=l;else if(o===_S)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Gf]="t",s[g_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[vS]=this.scriptTagHolder.uniqueCallbackIdentifier),s[n_]=Cu,this.transportSessionId&&(s[s_]=this.transportSessionId),this.lastSessionId&&(s[a_]=this.lastSessionId),this.applicationId&&(s[l_]=this.applicationId),this.appCheckToken&&(s[Ec]=this.appCheckToken),typeof location<"u"&&location.hostname&&o_.test(location.hostname)&&(s[i_]=r_);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qs.forceAllow_=!0}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){return Qs.forceAllow_?!0:!Qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!iS()&&!rS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Fm(n),i=e_(s,SS);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[ES]="t",s[d_]=e,s[p_]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Su{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZE(),window[yS+this.uniqueCallbackIdentifier]=e,window[bS+this.uniqueCallbackIdentifier]=n,this.myIFrame=Su.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){gt("frame writing exception"),a.stack&&gt(a.stack),gt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[d_]=this.myID,e[p_]=this.myPW,e[g_]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+__+s.length<=m_;){const o=this.pendingSegs.shift();s=s+"&"+xS+i+"="+o.seg+"&"+wS+i+"="+o.ts+"&"+CS+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(kS)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=16384,PS=45e3;let na=null;typeof MozWebSocket<"u"?na=MozWebSocket:typeof WebSocket<"u"&&(na=WebSocket);class Kt{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jr(this.connId),this.stats_=Eu(n),this.connURL=Kt.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[n_]=Cu,typeof location<"u"&&location.hostname&&o_.test(location.hostname)&&(o[i_]=r_),n&&(o[s_]=n),s&&(o[a_]=s),i&&(o[Ec]=i),r&&(o[l_]=r),f_(e,c_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ts.set("previous_websocket_failure",!0);try{let s;kC(),this.mySock=new na(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&na!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Ts.isInMemoryStorage||Ts.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ts.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Cr(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=e_(n,IS);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PS))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static get ALL_TRANSPORTS(){return[Qs,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Kt&&Kt.isAvailable();let s=n&&!Kt.previouslyFailed();if(e.webSocketOnly&&(n||At("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Kt];else{const i=this.transports_=[];for(const r of kr.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);kr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}kr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=6e4,RS=5e3,OS=10*1024,MS=100*1024,Tl="t",Kf="d",DS="s",qf="r",NS="e",Xf="o",Qf="a",Jf="n",Zf="p",LS="h";class FS{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jr("c:"+this.id+":"),this.transportManager_=new kr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=sr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>MS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>OS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tl in e){const n=e[Tl];n===Qf?this.upgradeIfSecondaryHealthy_():n===qf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Xf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mi("t",e),s=Mi("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Qf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mi("t",e),s=Mi("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mi(Tl,e);if(Kf in e){const s=e[Kf];if(n===LS){const i={...s};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Jf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===DS?this.onConnectionShutdown_(s):n===qf?this.onReset_(s):n===NS?Cc("Server Error: "+s):n===Xf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cu!==s&&At("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),sr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(AS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(RS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ts.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends b_{static getInstance(){return new sa}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Bm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=32,td=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ve(){return new Ae("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ls(t){return t.pieces_.length-t.pieceNum_}function Me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function v_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function WS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function x_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function w_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function tt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ae)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Ae(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function St(t,e){const n=de(t),s=de(e);if(n===null)return e;if(n===s)return St(Me(t),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function C_(t,e){if(ls(t)!==ls(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Xt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(ls(t)>ls(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class $S{constructor(e,n){this.errorPrefix_=n,this.parts_=x_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Va(this.parts_[s]);E_(this)}}function HS(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Va(e),E_(t)}function BS(t){const e=t.parts_.pop();t.byteLength_-=Va(e),t.parts_.length>0&&(t.byteLength_-=1)}function E_(t){if(t.byteLength_>td)throw new Error(t.errorPrefix_+"has a key path longer than "+td+" bytes ("+t.byteLength_+").");if(t.parts_.length>ed)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ed+") or object contains a cycle "+ws(t))}function ws(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends b_{static getInstance(){return new ku}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=1e3,VS=300*1e3,nd=30*1e3,US=1.3,zS=3e4,jS="server_kill",sd=3;class $n extends y_{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=$n.nextPersistentConnectionId_++,this.log_=Jr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Di,this.maxReconnectDelay_=VS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ku.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(et(r)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new Ba,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;$n.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&jn(e,"w")){const s=di(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();At(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||MC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=OC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+et(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Cc("Unrecognized action received from server: "+et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zS&&(this.reconnectDelay_=Di),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*US)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+$n.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(h){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new FS(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,d=>{At(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(jS)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&At(h),l())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Of(this.interruptReasons_)&&(this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>wu(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Ae(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sd&&(this.reconnectDelay_=nd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Xm.replace(/\./g,"-")]=1,Bm()?e["framework.cordova"]=1:SC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sa.getInstance().currentlyOnline();return Of(this.interruptReasons_)&&e}}$n.nextPersistentConnectionId_=0;$n.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new le(pi,e),i=new le(pi,n);return this.compare(s,i)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class S_ extends Ua{static get __EMPTY_NODE(){return fo}static set __EMPTY_NODE(e){fo=e}compare(e,n){return Si(e.name,n.name)}isDefinedOn(e){throw Ei("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(Ns,fo)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,fo)}toString(){return".key"}}const ai=new S_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??at.RED,this.left=i??Pt.EMPTY_NODE,this.right=r??Pt.EMPTY_NODE}copy(e,n,s,i,r){return new at(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class YS{copy(e,n,s,i,r){return this}insert(e,n,s){return new at(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,n=Pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new po(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new po(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new po(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new po(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new YS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){return Si(t.name,e.name)}function Tu(t,e){return Si(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc;function KS(t){Sc=t}const k_=function(t){return typeof t=="number"?"number:"+t_(t):"string:"+t},T_=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jn(e,".sv"),"Priority must be a string or number.")}else U(t===Sc||t.isEmpty(),"priority of unexpected type.");U(t===Sc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id;class ot{static set __childrenNodeConstructor(e){id=e}static get __childrenNodeConstructor(){return id}constructor(e,n=ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),T_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:de(e)===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=de(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(U(s!==".priority"||ls(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+k_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=t_(this.value_):e+=this.value_,this.lazyHash_=Jm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ot.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=ot.VALUE_TYPE_ORDER.indexOf(n),r=ot.VALUE_TYPE_ORDER.indexOf(s);return U(i>=0,"Unknown leaf type: "+n),U(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I_,P_;function qS(t){I_=t}function XS(t){P_=t}class QS extends Ua{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?Si(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(Ns,new ot("[PRIORITY-POST]",P_))}makePost(e,n){const s=I_(e);return new le(n,new ot("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ue=new QS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=Math.log(2);class ZS{constructor(e){const n=r=>parseInt(Math.log(r)/JS,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ia=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new at(f,h.node,at.BLACK,null,null);{const d=parseInt(u/2,10)+l,g=i(l,d),p=i(d+1,c);return h=t[d],f=n?n(h):h,new at(f,h.node,at.BLACK,g,p)}},r=function(l){let c=null,u=null,h=t.length;const f=function(g,p){const _=h-g,m=h;h-=g;const x=i(_+1,m),E=t[_],w=n?n(E):E;d(new at(w,E.node,p,null,x))},d=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const p=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));p?f(_,at.BLACK):(f(_,at.BLACK),f(_,at.RED))}return u},o=new ZS(t.length),a=r(o);return new Pt(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;const js={};class Fn{static get Default(){return U(js&&Ue,"ChildrenNode.ts has not been loaded"),Il=Il||new Fn({".priority":js},{".priority":Ue}),Il}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=di(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pt?n:null}hasIndex(e){return jn(this.indexSet_,e.toString())}addIndex(e,n){U(e!==ai,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(le.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=ia(s,e.getCompare()):a=js;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new Fn(u,c)}addToIndexes(e,n){const s=Jo(this.indexes_,(i,r)=>{const o=di(this.indexSet_,r);if(U(o,"Missing index implementation for "+r),i===js)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(le.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ia(a,o.getCompare())}else return js;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new le(e.name,a))),l.insert(e,e.node)}});return new Fn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Jo(this.indexes_,i=>{if(i===js)return i;{const r=n.get(e.name);return r?i.remove(new le(e.name,r)):i}});return new Fn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ni;class ee{static get EMPTY_NODE(){return Ni||(Ni=new ee(new Pt(Tu),null,Fn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&T_(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ni}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ni:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new le(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?Ni:this.priorityNode_;return new ee(i,o,r)}}updateChild(e,n){const s=de(e);if(s===null)return n;{U(de(e)!==".priority"||ls(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(Me(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(Ue,(o,a)=>{n[o]=a.val(e),s++,r&&ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+k_(this.getPriority().val())+":"),this.forEachChild(Ue,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Jm(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new le(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new le(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,le.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zr?-1:0}withIndex(e){if(e===ai||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ai||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ue),i=n.getIterator(Ue);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ai?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class e1 extends ee{constructor(){super(new Pt(Tu),ee.EMPTY_NODE,Fn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const Zr=new e1;Object.defineProperties(le,{MIN:{value:new le(pi,ee.EMPTY_NODE)},MAX:{value:new le(Ns,Zr)}});S_.__EMPTY_NODE=ee.EMPTY_NODE;ot.__childrenNodeConstructor=ee;KS(Zr);XS(Zr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=!0;function lt(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ot(n,lt(e))}if(!(t instanceof Array)&&t1){const n=[];let s=!1;if(Ot(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=lt(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new le(o,l)))}}),n.length===0)return ee.EMPTY_NODE;const r=ia(n,GS,o=>o.name,Tu);if(s){const o=ia(n,Ue.getCompare());return new ee(r,lt(e),new Fn({".priority":o},{".priority":Ue}))}else return new ee(r,lt(e),Fn.Default)}else{let n=ee.EMPTY_NODE;return Ot(t,(s,i)=>{if(jn(t,s)&&s.substring(0,1)!=="."){const r=lt(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(lt(e))}}qS(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends Ua{constructor(e){super(),this.indexPath_=e,U(!he(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?Si(e.name,n.name):r}makePost(e,n){const s=lt(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,s);return new le(n,i)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,Zr);return new le(Ns,e)}toString(){return x_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends Ua{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Si(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const s=lt(e);return new le(n,s)}toString(){return".value"}}const i1=new s1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){return{type:"value",snapshotNode:t}}function gi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Tr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ir(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function r1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(Tr(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(gi(n,s)):o.trackChildChange(Ir(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ue,(i,r)=>{n.hasChild(i)||s.trackChildChange(Tr(i,r))}),n.isLeafNode()||n.forEachChild(Ue,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(Ir(i,r,o))}else s.trackChildChange(gi(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.indexedFilter_=new Iu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pr.getStartPost_(e),this.endPost_=Pr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new le(n,s))||(s=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ee.EMPTY_NODE);const r=this;return n.forEachChild(Ue,(o,a)=>{r.matches(new le(o,a))||(i=i.updateImmediateChild(o,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Pr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new le(n,s))||(s=ee.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ee.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ee.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,d)=>h(d,f)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new le(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const d=f==null?1:o(f,l);if(u&&!s.isEmpty()&&d>=0)return r?.trackChildChange(Ir(n,s,h)),a.updateImmediateChild(n,s);{r?.trackChildChange(Tr(n,h));const p=a.updateImmediateChild(n,ee.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r?.trackChildChange(gi(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(Tr(c.name,c.node)),r.trackChildChange(gi(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pi}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ns}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new Pu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function a1(t){return t.loadsAllData()?new Iu(t.getIndex()):t.hasLimit()?new o1(t):new Pr(t)}function rd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ue?n="$priority":t.index_===i1?n="$value":t.index_===ai?n="$key":(U(t.index_ instanceof n1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=et(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=et(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+et(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=et(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function od(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends y_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Jr("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=ra.getListenId_(e,s),a={};this.listens_[o]=a;const l=rd(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,s),di(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=ra.getListenId_(e,n);delete this.listens_[s]}get(e){const n=rd(e._queryParams),s=e._path.toString(),i=new Ba;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+DC(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Cr(a.responseText)}catch{At("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&At("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(){return{value:null,children:new Map}}function R_(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=de(e);t.children.has(s)||t.children.set(s,oa());const i=t.children.get(s);e=Me(e),R_(i,e,n)}}function kc(t,e,n){t.value!==null?n(e,t.value):c1(t,(s,i)=>{const r=new Ae(e.toString()+"/"+s);kc(i,r,n)})}function c1(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ot(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=10*1e3,h1=30*1e3,f1=300*1e3;class d1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new u1(e);const s=ad+(h1-ad)*Math.random();sr(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Ot(e,(i,r)=>{r>0&&jn(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),sr(this.reportStats_.bind(this),Math.floor(Math.random()*2*f1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function O_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Au(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ru(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Qt.ACK_USER_WRITE,this.source=O_()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new aa(ve(),n,this.revert)}}else return U(de(this.path)===e,"operationForChild called for unrelated child."),new aa(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.source=e,this.path=n,this.type=Qt.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new Ar(this.source,ve()):new Ar(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Qt.OVERWRITE}operationForChild(e){return he(this.path)?new Ls(this.source,ve(),this.snap.getImmediateChild(e)):new Ls(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Qt.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new Ls(this.source,ve(),n.value):new Rr(this.source,ve(),n)}else return U(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rr(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function g1(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(r1(o.childName,o.snapshotNode))}),Li(t,i,"child_removed",e,s,n),Li(t,i,"child_added",e,s,n),Li(t,i,"child_moved",r,s,n),Li(t,i,"child_changed",e,s,n),Li(t,i,"value",e,s,n),i}function Li(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>_1(t,a,l)),o.forEach(a=>{const l=m1(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function m1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _1(t,e,n){if(e.childName==null||n.childName==null)throw Ei("Should only compare child_ events.");const s=new le(e.childName,e.snapshotNode),i=new le(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t,e){return{eventCache:t,serverCache:e}}function ir(t,e,n,s){return za(new cs(e,n,s),t.serverCache)}function M_(t,e,n,s){return za(t.eventCache,new cs(e,n,s))}function la(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Fs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;const y1=()=>(Pl||(Pl=new Pt(sS)),Pl);class Fe{static fromObject(e){let n=new Fe(null);return Ot(e,(s,i)=>{n=n.set(new Ae(s),i)}),n}constructor(e,n=y1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ve(),value:this.value};if(he(e))return null;{const s=de(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(Me(e),n);return r!=null?{path:tt(new Ae(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=de(e),s=this.children.get(n);return s!==null?s.subtree(Me(e)):new Fe(null)}}set(e,n){if(he(e))return new Fe(n,this.children);{const s=de(e),r=(this.children.get(s)||new Fe(null)).set(Me(e),n),o=this.children.insert(s,r);return new Fe(this.value,o)}}remove(e){if(he(e))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=de(e),s=this.children.get(n);if(s){const i=s.remove(Me(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new Fe(null):new Fe(this.value,r)}else return this}}get(e){if(he(e))return this.value;{const n=de(e),s=this.children.get(n);return s?s.get(Me(e)):null}}setTree(e,n){if(he(e))return n;{const s=de(e),r=(this.children.get(s)||new Fe(null)).setTree(Me(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new Fe(this.value,o)}}fold(e){return this.fold_(ve(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(tt(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,ve(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(he(e))return null;{const r=de(e),o=this.children.get(r);return o?o.findOnPath_(Me(e),tt(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ve(),n)}foreachOnPath_(e,n,s){if(he(e))return this;{this.value&&s(n,this.value);const i=de(e),r=this.children.get(i);return r?r.foreachOnPath_(Me(e),tt(n,i),s):new Fe(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(tt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.writeTree_=e}static empty(){return new tn(new Fe(null))}}function rr(t,e,n){if(he(e))return new tn(new Fe(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=St(i,e);return r=r.updateChild(o,n),new tn(t.writeTree_.set(i,r))}else{const i=new Fe(n),r=t.writeTree_.setTree(e,i);return new tn(r)}}}function ld(t,e,n){let s=t;return Ot(n,(i,r)=>{s=rr(s,tt(e,i),r)}),s}function cd(t,e){if(he(e))return tn.empty();{const n=t.writeTree_.setTree(e,new Fe(null));return new tn(n)}}function Tc(t,e){return Bs(t,e)!=null}function Bs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(St(n.path,e)):null}function ud(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(s,i)=>{e.push(new le(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new le(s,i.value))}),e}function ss(t,e){if(he(e))return t;{const n=Bs(t,e);return n!=null?new tn(new Fe(n)):new tn(t.writeTree_.subtree(e))}}function Ic(t){return t.writeTree_.isEmpty()}function mi(t,e){return D_(ve(),t.writeTree_,e)}function D_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(U(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=D_(tt(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(tt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){return W_(e,t)}function b1(t,e,n,s,i){U(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=rr(t.visibleWrites,e,n)),t.lastWriteId=s}function v1(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function x1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&w1(a,s.path)?i=!1:Xt(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return C1(t),!0;if(s.snap)t.visibleWrites=cd(t.visibleWrites,s.path);else{const a=s.children;Ot(a,l=>{t.visibleWrites=cd(t.visibleWrites,tt(s.path,l))})}return!0}else return!1}function w1(t,e){if(t.snap)return Xt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xt(tt(t.path,n),e))return!0;return!1}function C1(t){t.visibleWrites=N_(t.allWrites,E1,ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function E1(t){return t.visible}function N_(t,e,n){let s=tn.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)Xt(n,o)?(a=St(n,o),s=rr(s,a,r.snap)):Xt(o,n)&&(a=St(o,n),s=rr(s,ve(),r.snap.getChild(a)));else if(r.children){if(Xt(n,o))a=St(n,o),s=ld(s,a,r.children);else if(Xt(o,n))if(a=St(o,n),he(a))s=ld(s,ve(),r.children);else{const l=di(r.children,de(a));if(l){const c=l.getChild(Me(a));s=rr(s,ve(),c)}}}else throw Ei("WriteRecord should have .snap or .children")}}return s}function L_(t,e,n,s,i){if(!s&&!i){const r=Bs(t.visibleWrites,e);if(r!=null)return r;{const o=ss(t.visibleWrites,e);if(Ic(o))return n;if(n==null&&!Tc(o,ve()))return null;{const a=n||ee.EMPTY_NODE;return mi(o,a)}}}else{const r=ss(t.visibleWrites,e);if(!i&&Ic(r))return n;if(!i&&n==null&&!Tc(r,ve()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Xt(c.path,e)||Xt(e,c.path))},a=N_(t.allWrites,o,e),l=n||ee.EMPTY_NODE;return mi(a,l)}}}function S1(t,e,n){let s=ee.EMPTY_NODE;const i=Bs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ue,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=ss(t.visibleWrites,e);return n.forEachChild(Ue,(o,a)=>{const l=mi(ss(r,new Ae(o)),a);s=s.updateImmediateChild(o,l)}),ud(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=ss(t.visibleWrites,e);return ud(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function k1(t,e,n,s,i){U(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=tt(e,n);if(Tc(t.visibleWrites,r))return null;{const o=ss(t.visibleWrites,r);return Ic(o)?i.getChild(n):mi(o,i.getChild(n))}}function T1(t,e,n,s){const i=tt(e,n),r=Bs(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=ss(t.visibleWrites,i);return mi(o,s.getNode().getImmediateChild(n))}else return null}function I1(t,e){return Bs(t.visibleWrites,e)}function P1(t,e,n,s,i,r,o){let a;const l=ss(t.visibleWrites,e),c=Bs(l,ve());if(c!=null)a=c;else if(n!=null)a=mi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let d=f.getNext();for(;d&&u.length<i;)h(d,s)!==0&&u.push(d),d=f.getNext();return u}else return[]}function A1(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function ca(t,e,n,s){return L_(t.writeTree,t.treePath,e,n,s)}function Ou(t,e){return S1(t.writeTree,t.treePath,e)}function hd(t,e,n,s){return k1(t.writeTree,t.treePath,e,n,s)}function ua(t,e){return I1(t.writeTree,tt(t.treePath,e))}function R1(t,e,n,s,i,r){return P1(t.writeTree,t.treePath,e,n,s,i,r)}function Mu(t,e,n){return T1(t.writeTree,t.treePath,e,n)}function F_(t,e){return W_(tt(t.treePath,e),t.writeTree)}function W_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,Ir(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,Tr(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,gi(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,Ir(s,e.snapshotNode,i.oldSnap));else throw Ei("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const $_=new M1;class Du{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new cs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mu(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fs(this.viewCache_),r=R1(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){return{filter:t}}function N1(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function L1(t,e,n,s,i){const r=new O1;let o,a;if(n.type===Qt.OVERWRITE){const c=n;c.source.fromUser?o=Pc(t,e,c.path,c.snap,s,i,r):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!he(c.path),o=ha(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===Qt.MERGE){const c=n;c.source.fromUser?o=W1(t,e,c.path,c.children,s,i,r):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ac(t,e,c.path,c.children,s,i,a,r))}else if(n.type===Qt.ACK_USER_WRITE){const c=n;c.revert?o=B1(t,e,c.path,s,i,r):o=$1(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===Qt.LISTEN_COMPLETE)o=H1(t,e,n.path,s,r);else throw Ei("Unknown operation type: "+n.type);const l=r.getChanges();return F1(e,o,l),{viewCache:o,changes:l}}function F1(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=la(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(A_(la(e)))}}function H_(t,e,n,s,i,r){const o=e.eventCache;if(ua(s,n)!=null)return e;{let a,l;if(he(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Fs(e),u=c instanceof ee?c:ee.EMPTY_NODE,h=Ou(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=ca(s,Fs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=de(n);if(c===".priority"){U(ls(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=hd(s,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=Me(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=hd(s,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=Mu(s,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,r):a=o.getNode()}}return ir(e,a,o.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function ha(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(he(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),d,null)}else{const d=de(n);if(!l.isCompleteForPath(n)&&ls(n)>1)return e;const g=Me(n),_=l.getNode().getImmediateChild(d).updateChild(g,s);d===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),d,_,g,$_,null)}const h=M_(e,c,l.isFullyInitialized()||he(n),u.filtersNodes()),f=new Du(i,h,r);return H_(t,h,n,i,f,a)}function Pc(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new Du(i,e,r);if(he(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=ir(e,c,!0,t.filter.filtersNodes());else{const h=de(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=ir(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Me(n),d=a.getNode().getImmediateChild(h);let g;if(he(f))g=s;else{const p=u.getCompleteChild(h);p!=null?v_(f)===".priority"&&p.getChild(w_(f)).isEmpty()?g=p:g=p.updateChild(f,s):g=ee.EMPTY_NODE}if(d.equals(g))l=e;else{const p=t.filter.updateChild(a.getNode(),h,g,f,u,o);l=ir(e,p,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function fd(t,e){return t.eventCache.isCompleteForChild(e)}function W1(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=tt(n,l);fd(e,de(u))&&(a=Pc(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=tt(n,l);fd(e,de(u))||(a=Pc(t,a,u,c,i,r,o))}),a}function dd(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Ac(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;he(n)?c=s:c=new Fe(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const d=e.serverCache.getNode().getImmediateChild(h),g=dd(t,d,f);l=ha(t,l,new Ae(h),g,i,r,o,a)}}),c.children.inorderTraversal((h,f)=>{const d=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!d){const g=e.serverCache.getNode().getImmediateChild(h),p=dd(t,g,f);l=ha(t,l,new Ae(h),p,i,r,o,a)}}),l}function $1(t,e,n,s,i,r,o){if(ua(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(he(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ha(t,e,n,l.getNode().getChild(n),i,r,a,o);if(he(n)){let c=new Fe(null);return l.getNode().forEachChild(ai,(u,h)=>{c=c.set(new Ae(u),h)}),Ac(t,e,n,c,i,r,a,o)}else return e}else{let c=new Fe(null);return s.foreach((u,h)=>{const f=tt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Ac(t,e,n,c,i,r,a,o)}}function H1(t,e,n,s,i){const r=e.serverCache,o=M_(e,r.getNode(),r.isFullyInitialized()||he(n),r.isFiltered());return H_(t,o,n,s,$_,i)}function B1(t,e,n,s,i,r){let o;if(ua(s,n)!=null)return e;{const a=new Du(s,e,i),l=e.eventCache.getNode();let c;if(he(n)||de(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ca(s,Fs(e));else{const h=e.serverCache.getNode();U(h instanceof ee,"serverChildren would be complete if leaf node"),u=Ou(s,h)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=de(n);let h=Mu(s,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,Me(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ee.EMPTY_NODE,Me(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ca(s,Fs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||ua(s,ve())!=null,ir(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Iu(s.getIndex()),r=a1(s);this.processor_=D1(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ee.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(ee.EMPTY_NODE,a.getNode(),null),u=new cs(l,o.isFullyInitialized(),i.filtersNodes()),h=new cs(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=za(h,u),this.eventGenerator_=new p1(this.query_)}get query(){return this.query_}}function U1(t){return t.viewCache_.serverCache.getNode()}function z1(t){return la(t.viewCache_)}function j1(t,e){const n=Fs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function pd(t){return t.eventRegistrations_.length===0}function Y1(t,e){t.eventRegistrations_.push(e)}function gd(t,e,n){const s=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function md(t,e,n,s){e.type===Qt.MERGE&&e.source.queryId!==null&&(U(Fs(t.viewCache_),"We should always have a full cache before handling merges"),U(la(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=L1(t.processor_,i,e,n,s);return N1(t.processor_,r.viewCache),U(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,B_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function G1(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(r,o)=>{s.push(gi(r,o))}),n.isFullyInitialized()&&s.push(A_(n.getNode())),B_(t,s,n.getNode(),e)}function B_(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return g1(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa;class V_{constructor(){this.views=new Map}}function K1(t){U(!fa,"__referenceConstructor has already been defined"),fa=t}function q1(){return U(fa,"Reference.ts has not been loaded"),fa}function X1(t){return t.views.size===0}function Nu(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return U(r!=null,"SyncTree gave us an op for an invalid query."),md(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(md(o,e,n,s));return r}}function U_(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=ca(n,i?s:null),l=!1;a?l=!0:s instanceof ee?(a=Ou(n,s),l=!1):(a=ee.EMPTY_NODE,l=!1);const c=za(new cs(a,l,!1),new cs(s,i,!1));return new V1(e,c)}return o}function Q1(t,e,n,s,i,r){const o=U_(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Y1(o,n),G1(o,n)}function J1(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=us(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(gd(c,n,s)),pd(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(gd(l,n,s)),pd(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!us(t)&&r.push(new(q1())(e._repo,e._path)),{removed:r,events:o}}function z_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function is(t,e){let n=null;for(const s of t.views.values())n=n||j1(s,e);return n}function j_(t,e){if(e._queryParams.loadsAllData())return Ya(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Y_(t,e){return j_(t,e)!=null}function us(t){return Ya(t)!=null}function Ya(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da;function Z1(t){U(!da,"__referenceConstructor has already been defined"),da=t}function ek(){return U(da,"Reference.ts has not been loaded"),da}let tk=1;class _d{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=A1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function G_(t,e,n,s,i){return b1(t.pendingWriteTree_,e,n,s,i),i?to(t,new Ls(O_(),e,n)):[]}function Is(t,e,n=!1){const s=v1(t.pendingWriteTree_,e);if(x1(t.pendingWriteTree_,e)){let r=new Fe(null);return s.snap!=null?r=r.set(ve(),!0):Ot(s.children,o=>{r=r.set(new Ae(o),!0)}),to(t,new aa(s.path,r,n))}else return[]}function eo(t,e,n){return to(t,new Ls(Au(),e,n))}function nk(t,e,n){const s=Fe.fromObject(n);return to(t,new Rr(Au(),e,s))}function sk(t,e){return to(t,new Ar(Au(),e))}function ik(t,e,n){const s=Fu(t,n);if(s){const i=Wu(s),r=i.path,o=i.queryId,a=St(r,e),l=new Ar(Ru(o),a);return $u(t,r,l)}else return[]}function K_(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||Y_(o,e))){const l=J1(o,e,n,s);X1(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(f,d)=>us(d));if(u&&!h){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const d=lk(f);for(let g=0;g<d.length;++g){const p=d[g],_=p.query,m=J_(t,p);t.listenProvider_.startListening(or(_),Or(t,_),m.hashFn,m.onComplete)}}}!h&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(or(e),null):c.forEach(f=>{const d=t.queryToTagMap.get(Ga(f));t.listenProvider_.stopListening(or(f),d)}))}ck(t,c)}return a}function q_(t,e,n,s){const i=Fu(t,s);if(i!=null){const r=Wu(i),o=r.path,a=r.queryId,l=St(o,e),c=new Ls(Ru(a),l,n);return $u(t,o,c)}else return[]}function rk(t,e,n,s){const i=Fu(t,s);if(i){const r=Wu(i),o=r.path,a=r.queryId,l=St(o,e),c=Fe.fromObject(n),u=new Rr(Ru(a),l,c);return $u(t,o,u)}else return[]}function ok(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,d)=>{const g=St(f,i);r=r||is(d,g),o=o||us(d)});let a=t.syncPointTree_.get(i);a?(o=o||us(a),r=r||is(a,ve())):(a=new V_,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,g)=>{const p=is(g,ve());p&&(r=r.updateImmediateChild(d,p))}));const c=Y_(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ga(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const d=uk();t.queryToTagMap.set(f,d),t.tagToQueryMap.set(d,f)}const u=ja(t.pendingWriteTree_,i);let h=Q1(a,e,n,u,r,l);if(!c&&!o&&!s){const f=j_(a,e);h=h.concat(hk(t,e,f))}return h}function Lu(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=St(o,e),c=is(a,l);if(c)return c});return L_(i,e,r,n,!0)}function ak(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=St(c,n);s=s||is(u,h)});let i=t.syncPointTree_.get(n);i?s=s||is(i,ve()):(i=new V_,t.syncPointTree_=t.syncPointTree_.set(n,i));const r=s!=null,o=r?new cs(s,!0,!1):null,a=ja(t.pendingWriteTree_,e._path),l=U_(i,e,a,r?o.getNode():ee.EMPTY_NODE,r);return z1(l)}function to(t,e){return X_(e,t.syncPointTree_,null,ja(t.pendingWriteTree_,ve()))}function X_(t,e,n,s){if(he(t.path))return Q_(t,e,n,s);{const i=e.get(ve());n==null&&i!=null&&(n=is(i,ve()));let r=[];const o=de(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=F_(s,o);r=r.concat(X_(a,l,c,u))}return i&&(r=r.concat(Nu(i,t,s,n))),r}}function Q_(t,e,n,s){const i=e.get(ve());n==null&&i!=null&&(n=is(i,ve()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=F_(s,o),u=t.operationForChild(o);u&&(r=r.concat(Q_(u,a,l,c)))}),i&&(r=r.concat(Nu(i,t,s,n))),r}function J_(t,e){const n=e.query,s=Or(t,n);return{hashFn:()=>(U1(e)||ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?ik(t,n._path,s):sk(t,n._path);{const r=oS(i,n);return K_(t,n,null,r)}}}}function Or(t,e){const n=Ga(e);return t.queryToTagMap.get(n)}function Ga(t){return t._path.toString()+"$"+t._queryIdentifier}function Fu(t,e){return t.tagToQueryMap.get(e)}function Wu(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function $u(t,e,n){const s=t.syncPointTree_.get(e);U(s,"Missing sync point for query tag that we're tracking");const i=ja(t.pendingWriteTree_,e);return Nu(s,n,i,null)}function lk(t){return t.fold((e,n,s)=>{if(n&&us(n))return[Ya(n)];{let i=[];return n&&(i=z_(n)),Ot(s,(r,o)=>{i=i.concat(o)}),i}})}function or(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ek())(t._repo,t._path):t}function ck(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Ga(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function uk(){return tk++}function hk(t,e,n){const s=e._path,i=Or(t,e),r=J_(t,n),o=t.listenProvider_.startListening(or(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)U(!us(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!he(c)&&u&&us(u))return[Ya(u).query];{let f=[];return u&&(f=f.concat(z_(u).map(d=>d.query))),Ot(h,(d,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(or(u),Or(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Hu(n)}node(){return this.node_}}class Bu{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tt(this.path_,e);return new Bu(this.syncTree_,n)}node(){return Lu(this.syncTree_,this.path_)}}const fk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yd=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return dk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return pk(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},dk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},pk=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&U(!1,"Unexpected increment value: "+s);const i=e.node();if(U(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},gk=function(t,e,n,s){return Vu(e,new Bu(n,t),s)},Z_=function(t,e,n){return Vu(t,new Hu(e),n)};function Vu(t,e,n){const s=t.getPriority().val(),i=yd(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=yd(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ot(a,lt(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new ot(i))),o.forEachChild(Ue,(a,l)=>{const c=Vu(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function zu(t,e){let n=e instanceof Ae?e:new Ae(e),s=t,i=de(n);for(;i!==null;){const r=di(s.node.children,i)||{children:{},childCount:0};s=new Uu(i,s,r),n=Me(n),i=de(n)}return s}function Ti(t){return t.node.value}function ey(t,e){t.node.value=e,Rc(t)}function ty(t){return t.node.childCount>0}function mk(t){return Ti(t)===void 0&&!ty(t)}function Ka(t,e){Ot(t.node.children,(n,s)=>{e(new Uu(n,t,s))})}function ny(t,e,n,s){n&&e(t),Ka(t,i=>{ny(i,e,!0)})}function _k(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function no(t){return new Ae(t.parent===null?t.name:no(t.parent)+"/"+t.name)}function Rc(t){t.parent!==null&&yk(t.parent,t.name,t)}function yk(t,e,n){const s=mk(n),i=jn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Rc(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Rc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/[\[\].#$\/\u0000-\u001F\u007F]/,vk=/[\[\].#$\u0000-\u001F\u007F]/,Al=10*1024*1024,sy=function(t){return typeof t=="string"&&t.length!==0&&!bk.test(t)},iy=function(t){return typeof t=="string"&&t.length!==0&&!vk.test(t)},xk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iy(t)},ry=function(t,e,n,s){s&&e===void 0||ju(vu(t,"value"),e,n)},ju=function(t,e,n){const s=n instanceof Ae?new $S(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ws(s));if(typeof e=="function")throw new Error(t+"contains a function "+ws(s)+" with contents = "+e.toString());if(Zm(e))throw new Error(t+"contains "+e.toString()+" "+ws(s));if(typeof e=="string"&&e.length>Al/3&&Va(e)>Al)throw new Error(t+"contains a string greater than "+Al+" utf8 bytes "+ws(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Ot(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!sy(o)))throw new Error(t+" contains an invalid key ("+o+") "+ws(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);HS(s,o),ju(t,a,s),BS(s)}),i&&r)throw new Error(t+' contains ".value" child '+ws(s)+" in addition to actual children.")}},oy=function(t,e,n,s){if(!iy(n))throw new Error(vu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wk=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oy(t,e,n)},ay=function(t,e){if(de(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Ck=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!sy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xk(n))throw new Error(vu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ly(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!C_(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function Cn(t,e,n){ly(t,n),Sk(t,s=>Xt(s,e)||Xt(e,s))}function Sk(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(kk(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function kk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();nr&&gt("event: "+n.toString()),ki(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="repo_interrupt",Ik=25;class Pk{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ek,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oa(),this.transactionQueueTree_=new Uu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ak(t,e,n){if(t.stats_=Eu(t.repoInfo_),t.forceRestClient_||uS())t.server_=new ra(t.repoInfo_,(s,i,r,o)=>{bd(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>vd(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new $n(t.repoInfo_,e,(s,i,r,o)=>{bd(t,s,i,r,o)},s=>{vd(t,s)},s=>{Rk(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=gS(t.repoInfo_,()=>new d1(t.stats_,t.server_)),t.infoData_=new l1,t.infoSyncTree_=new _d({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=eo(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Gu(t,"connected",!1),t.serverSyncTree_=new _d({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);Cn(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function cy(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Yu(t){return fk({timestamp:cy(t)})}function bd(t,e,n,s,i){t.dataUpdateCount++;const r=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=Jo(n,c=>lt(c));o=rk(t.serverSyncTree_,r,l,i)}else{const l=lt(n);o=q_(t.serverSyncTree_,r,l,i)}else if(s){const l=Jo(n,c=>lt(c));o=nk(t.serverSyncTree_,r,l)}else{const l=lt(n);o=eo(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Xa(t,r)),Cn(t.eventQueue_,a,o)}function vd(t,e){Gu(t,"connected",e),e===!1&&Dk(t)}function Rk(t,e){Ot(e,(n,s)=>{Gu(t,n,s)})}function Gu(t,e,n){const s=new Ae("/.info/"+e),i=lt(n);t.infoData_.updateSnapshot(s,i);const r=eo(t.infoSyncTree_,s,i);Cn(t.eventQueue_,s,r)}function uy(t){return t.nextWriteId_++}function Ok(t,e,n){const s=ak(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const r=lt(i).withIndex(e._queryParams.getIndex());ok(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=eo(t.serverSyncTree_,e._path,r);else{const a=Or(t.serverSyncTree_,e);o=q_(t.serverSyncTree_,e._path,r,a)}return Cn(t.eventQueue_,e._path,o),K_(t.serverSyncTree_,e,n,null,!0),r},i=>(qa(t,"get for query "+et(e)+" failed: "+i),Promise.reject(new Error(i))))}function Mk(t,e,n,s,i){qa(t,"set",{path:e.toString(),value:n,priority:s});const r=Yu(t),o=lt(n,s),a=Lu(t.serverSyncTree_,e),l=Z_(o,a,r),c=uy(t),u=G_(t.serverSyncTree_,e,l,c,!0);ly(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,d)=>{const g=f==="ok";g||At("set at "+e+" failed: "+f);const p=Is(t.serverSyncTree_,c,!g);Cn(t.eventQueue_,e,p),Lk(t,i,f,d)});const h=gy(t,e);Xa(t,h),Cn(t.eventQueue_,h,[])}function Dk(t){qa(t,"onDisconnectEvents");const e=Yu(t),n=oa();kc(t.onDisconnect_,ve(),(i,r)=>{const o=gk(i,r,t.serverSyncTree_,e);R_(n,i,o)});let s=[];kc(n,ve(),(i,r)=>{s=s.concat(eo(t.serverSyncTree_,i,r));const o=gy(t,i);Xa(t,o)}),t.onDisconnect_=oa(),Cn(t.eventQueue_,ve(),s)}function Nk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Tk)}function qa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gt(n,...e)}function Lk(t,e,n,s){e&&ki(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function hy(t,e,n){return Lu(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function Ku(t,e=t.transactionQueueTree_){if(e||Qa(t,e),Ti(e)){const n=dy(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Fk(t,no(e),n)}else ty(e)&&Ka(e,n=>{Ku(t,n)})}function Fk(t,e,n){const s=n.map(c=>c.currentWriteId),i=hy(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];U(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=St(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{qa(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Is(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Qa(t,zu(t.transactionQueueTree_,e)),Ku(t,t.transactionQueueTree_),Cn(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)ki(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{At("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Xa(t,e)}},o)}function Xa(t,e){const n=fy(t,e),s=no(n),i=dy(t,n);return Wk(t,i,s),s}function Wk(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=St(n,l.path);let u=!1,h;if(U(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(Is(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Ik)u=!0,h="maxretry",i=i.concat(Is(t.serverSyncTree_,l.currentWriteId,!0));else{const f=hy(t,l.path,o);l.currentInputSnapshot=f;const d=e[a].update(f.val());if(d!==void 0){ju("transaction failed: Data returned ",d,l.path);let g=lt(d);typeof d=="object"&&d!=null&&jn(d,".priority")||(g=g.updatePriority(f.getPriority()));const _=l.currentWriteId,m=Yu(t),x=Z_(g,f,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=x,l.currentWriteId=uy(t),o.splice(o.indexOf(_),1),i=i.concat(G_(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(Is(t.serverSyncTree_,_,!0))}else u=!0,h="nodata",i=i.concat(Is(t.serverSyncTree_,l.currentWriteId,!0))}Cn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(h),!1,null))))}Qa(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)ki(s[a]);Ku(t,t.transactionQueueTree_)}function fy(t,e){let n,s=t.transactionQueueTree_;for(n=de(e);n!==null&&Ti(s)===void 0;)s=zu(s,n),e=Me(e),n=de(e);return s}function dy(t,e){const n=[];return py(t,e,n),n.sort((s,i)=>s.order-i.order),n}function py(t,e,n){const s=Ti(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Ka(e,i=>{py(t,i,n)})}function Qa(t,e){const n=Ti(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,ey(e,n.length>0?n:void 0)}Ka(e,s=>{Qa(t,s)})}function gy(t,e){const n=no(fy(t,e)),s=zu(t.transactionQueueTree_,e);return _k(s,i=>{Rl(t,i)}),Rl(t,s),ny(s,i=>{Rl(t,i)}),n}function Rl(t,e){const n=Ti(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Is(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?ey(e,void 0):n.length=r+1,Cn(t.eventQueue_,no(e),i);for(let o=0;o<s.length;o++)ki(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Hk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):At(`Invalid query segment '${n}' in query '${t}'`)}return e}const xd=function(t,e){const n=Bk(t),s=n.namespace;n.domain==="firebase.com"&&Un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||tS();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new h_(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Ae(n.pathString)}},Bk=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=$k(t.substring(u,h)));const f=Hk(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const d=e.slice(0,c);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const g=e.indexOf(".");s=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Vk=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let i;const r=new Array(8);for(i=7;i>=0;i--)r[i]=wd.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let o=r.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=wd.charAt(e[i]);return U(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class zk{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return he(this._path)?null:v_(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=od(this._queryParams),n=wu(e);return n==="{}"?"default":n}get _queryObject(){return od(this._queryParams)}isEqual(e){if(e=Hs(e),!(e instanceof qu))return!1;const n=this._repo===e._repo,s=C_(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+WS(this._path)}}class Yn extends qu{constructor(e,n){super(e,n,new Pu,!1)}get parent(){const e=w_(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Mr{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),s=_i(this.ref,e);return new Mr(this._node.getChild(n),s,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Mr(i,_i(this.ref,s),Ue)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function my(t,e){return t=Hs(t),t._checkNotDeleted("ref"),e!==void 0?_i(t._root,e):t._root}function _i(t,e){return t=Hs(t),de(t._path)===null?wk("child","path",e):oy("child","path",e),new Yn(t._repo,tt(t._path,e))}function Yk(t,e){t=Hs(t),ay("push",t._path),ry("push",e,t._path,!0);const n=cy(t._repo),s=Vk(n),i=_i(t,s),r=_i(t,s);let o;return e!=null?o=Gk(r,e).then(()=>r):o=Promise.resolve(r),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Gk(t,e){t=Hs(t),ay("set",t._path),ry("set",e,t._path,!1);const n=new Ba;return Mk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Kk(t){t=Hs(t);const e=new jk(()=>{}),n=new Xu(e);return Ok(t._repo,t,n).then(s=>new Mr(s,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class Xu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Uk("value",this,new Mr(e.snapshotNode,new Yn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zk(this,e,n):null}matches(e){return e instanceof Xu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}K1(Yn);Z1(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="FIREBASE_DATABASE_EMULATOR_HOST",Oc={};let Xk=!1;function Qk(t,e,n,s){const i=e.lastIndexOf(":"),r=e.substring(0,i),o=bu(r);t.repoInfo_=new h_(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function Jk(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=xd(r,i),a=o.repoInfo,l;typeof process<"u"&&Vf&&(l=Vf[qk]),l?(r=`http://${l}?ns=${a.namespace}`,o=xd(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new fS(t.name,t.options,e);Ck("Invalid Firebase Database URL",o),he(o.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const u=eT(a,t,c,new hS(t,n));return new tT(u,t)}function Zk(t,e){const n=Oc[e];(!n||n[t.key]!==t)&&Un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Nk(t),delete n[t.key]}function eT(t,e,n,s){let i=Oc[e.name];i||(i={},Oc[e.name]=i);let r=i[t.toURLString()];return r&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Pk(t,Xk,n,s),i[t.toURLString()]=r,r}class tT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ak(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Zk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Un("Cannot call "+e+" on a deleted database.")}}function _y(t=WE(),e){const n=ME(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=yC("database");s&&nT(n,...s)}return n}function nT(t,e,n,s={}){t=Hs(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,r=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Zo(s,r.repoInfo_.emulatorOptions))return;Un("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new No(No.OWNER);else if(s.mockUserToken){const a=typeof s.mockUserToken=="string"?s.mockUserToken:vC(s.mockUserToken,t.app.options.projectId);o=new No(a)}bu(e)&&(bC(e),CC("Database",!0)),Qk(r,i,s,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){qE(FE),ta(new Er("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return Jk(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),ri(Uf,zf,t),ri(Uf,zf,"esm2020")}$n.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};$n.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sT();const gn=Je([]),Dr=Je(!0),pa=Je(""),iT=async()=>{Dr.value=!0;const t=my(_y());try{const e=await Kk(_i(t,"dailyWorkout"));if(e.exists()){const n=e.val(),s=[];for(const i in n)s.push({id:i,...n[i]});gn.value=s}else gn.value=[],console.log("No workouts available (fetched once).")}catch(e){pa.value=`Failed to load all workouts. Please try again. Error received : ${e}`}finally{Dr.value=!1}},rT={id:"app"},oT={class:"main-content"},aT=it({__name:"App",setup(t){return Yr(()=>{iT()}),(e,n)=>{const s=Gr("router-view");return J(),ie("div",rT,[Z(aC),L("main",oT,[Z(s)])])}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Xs=typeof document<"u";function yy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function lT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&yy(t.default)}const Ee=Object.assign;function Ol(t,e){const n={};for(const s in e){const i=e[s];n[s]=sn(i)?i.map(t):t(i)}return n}const ar=()=>{},sn=Array.isArray,by=/#/g,cT=/&/g,uT=/\//g,hT=/=/g,fT=/\?/g,vy=/\+/g,dT=/%5B/g,pT=/%5D/g,xy=/%5E/g,gT=/%60/g,wy=/%7B/g,mT=/%7C/g,Cy=/%7D/g,_T=/%20/g;function Qu(t){return encodeURI(""+t).replace(mT,"|").replace(dT,"[").replace(pT,"]")}function yT(t){return Qu(t).replace(wy,"{").replace(Cy,"}").replace(xy,"^")}function Mc(t){return Qu(t).replace(vy,"%2B").replace(_T,"+").replace(by,"%23").replace(cT,"%26").replace(gT,"`").replace(wy,"{").replace(Cy,"}").replace(xy,"^")}function bT(t){return Mc(t).replace(hT,"%3D")}function vT(t){return Qu(t).replace(by,"%23").replace(fT,"%3F")}function xT(t){return t==null?"":vT(t).replace(uT,"%2F")}function Nr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const wT=/\/$/,CT=t=>t.replace(wT,"");function Ml(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=TT(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Nr(o)}}function ET(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Cd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ST(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&yi(e.matched[s],n.matched[i])&&Ey(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function yi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ey(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!kT(t[n],e[n]))return!1;return!0}function kT(t,e){return sn(t)?Ed(t,e):sn(e)?Ed(e,t):t===e}function Ed(t,e){return sn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function TT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Kn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Lr;(function(t){t.pop="pop",t.push="push"})(Lr||(Lr={}));var lr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(lr||(lr={}));function IT(t){if(!t)if(Xs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),CT(t)}const PT=/^[^#]+#/;function AT(t,e){return t.replace(PT,"#")+e}function RT(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ja=()=>({left:window.scrollX,top:window.scrollY});function OT(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=RT(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Sd(t,e){return(history.state?history.state.position-e:-1)+t}const Dc=new Map;function MT(t,e){Dc.set(t,e)}function DT(t){const e=Dc.get(t);return Dc.delete(t),e}let NT=()=>location.protocol+"//"+location.host;function Sy(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Cd(l,"")}return Cd(n,t)+s+i}function LT(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const d=Sy(t,location),g=n.value,p=e.value;let _=0;if(f){if(n.value=d,e.value=f,o&&o===g){o=null;return}_=p?f.position-p.position:0}else s(d);i.forEach(m=>{m(n.value,g,{delta:_,type:Lr.pop,direction:_?_>0?lr.forward:lr.back:lr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const d=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return r.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(Ee({},f.state,{scroll:Ja()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function kd(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Ja():null}}function FT(t){const{history:e,location:n}=window,s={value:Sy(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:NT()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=Ee({},e.state,kd(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Ee({},i.value,e.state,{forward:l,scroll:Ja()});r(u.current,u,!0);const h=Ee({},kd(s.value,l,null),{position:u.position+1},c);r(l,h,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function WT(t){t=IT(t);const e=FT(t),n=LT(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Ee({location:"",base:t,go:s,createHref:AT.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function $T(t){return typeof t=="string"||t&&typeof t=="object"}function ky(t){return typeof t=="string"||typeof t=="symbol"}const Ty=Symbol("");var Td;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Td||(Td={}));function bi(t,e){return Ee(new Error,{type:t,[Ty]:!0},e)}function kn(t,e){return t instanceof Error&&Ty in t&&(e==null||!!(t.type&e))}const Id="[^/]+?",HT={sensitive:!1,strict:!1,start:!0,end:!0},BT=/[.+*?^${}()[\]/\\]/g;function VT(t,e){const n=Ee({},HT,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(BT,"\\$&"),d+=40;else if(f.type===1){const{value:g,repeatable:p,optional:_,regexp:m}=f;r.push({name:g,repeatable:p,optional:_});const x=m||Id;if(x!==Id){d+=10;try{new RegExp(`(${x})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${g}" (${x}): `+w.message)}}let E=p?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(E=_&&c.length<2?`(?:/${E})`:"/"+E),_&&(E+="?"),i+=E,d+=20,_&&(d+=-8),p&&(d+=-20),x===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",g=r[f-1];h[g.name]=d&&g.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:g,repeatable:p,optional:_}=d,m=g in c?c[g]:"";if(sn(m)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const x=sn(m)?m.join("/"):m;if(!x)if(_)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=x}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function UT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Iy(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=UT(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Pd(s))return 1;if(Pd(i))return-1}return i.length-s.length}function Pd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const zT={type:0,value:""},jT=/[a-zA-Z0-9_]/;function YT(t){if(!t)return[[]];if(t==="/")return[[zT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:jT.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function GT(t,e,n){const s=VT(YT(t.path),n),i=Ee(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function KT(t,e){const n=[],s=new Map;e=Md({strict:!1,end:!0,sensitive:!1},e);function i(h){return s.get(h)}function r(h,f,d){const g=!d,p=Rd(h);p.aliasOf=d&&d.record;const _=Md(e,h),m=[p];if("alias"in h){const w=typeof h.alias=="string"?[h.alias]:h.alias;for(const k of w)m.push(Rd(Ee({},p,{components:d?d.record.components:p.components,path:k,aliasOf:d?d.record:p})))}let x,E;for(const w of m){const{path:k}=w;if(f&&k[0]!=="/"){const A=f.record.path,I=A[A.length-1]==="/"?"":"/";w.path=f.record.path+(k&&I+k)}if(x=GT(w,f,_),d?d.alias.push(x):(E=E||x,E!==x&&E.alias.push(x),g&&h.name&&!Od(x)&&o(h.name)),Py(x)&&l(x),p.children){const A=p.children;for(let I=0;I<A.length;I++)r(A[I],x,d&&d.children[I])}d=d||x}return E?()=>{o(E)}:ar}function o(h){if(ky(h)){const f=s.get(h);f&&(s.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=QT(h,n);n.splice(f,0,h),h.record.name&&!Od(h)&&s.set(h.record.name,h)}function c(h,f){let d,g={},p,_;if("name"in h&&h.name){if(d=s.get(h.name),!d)throw bi(1,{location:h});_=d.record.name,g=Ee(Ad(f.params,d.keys.filter(E=>!E.optional).concat(d.parent?d.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&Ad(h.params,d.keys.map(E=>E.name))),p=d.stringify(g)}else if(h.path!=null)p=h.path,d=n.find(E=>E.re.test(p)),d&&(g=d.parse(p),_=d.record.name);else{if(d=f.name?s.get(f.name):n.find(E=>E.re.test(f.path)),!d)throw bi(1,{location:h,currentLocation:f});_=d.record.name,g=Ee({},f.params,h.params),p=d.stringify(g)}const m=[];let x=d;for(;x;)m.unshift(x.record),x=x.parent;return{name:_,path:p,params:g,matched:m,meta:XT(m)}}t.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Ad(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Rd(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:qT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function qT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Od(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function XT(t){return t.reduce((e,n)=>Ee(e,n.meta),{})}function Md(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function QT(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;Iy(t,e[r])<0?s=r:n=r+1}const i=JT(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function JT(t){let e=t;for(;e=e.parent;)if(Py(e)&&Iy(t,e)===0)return e}function Py({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ZT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(vy," "),o=r.indexOf("="),a=Nr(o<0?r:r.slice(0,o)),l=o<0?null:Nr(r.slice(o+1));if(a in e){let c=e[a];sn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Dd(t){let e="";for(let n in t){const s=t[n];if(n=bT(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(sn(s)?s.map(r=>r&&Mc(r)):[s&&Mc(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function eI(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=sn(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const tI=Symbol(""),Nd=Symbol(""),Za=Symbol(""),Ay=Symbol(""),Nc=Symbol("");function Fi(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Qn(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(bi(4,{from:n,to:e})):f instanceof Error?l(f):$T(f)?l(bi(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Dl(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(yy(l)){const u=(l.__vccOpts||l)[e];u&&r.push(Qn(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=lT(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&Qn(d,n,s,o,a,i)()}))}}return r}function Ld(t){const e=en(Za),n=en(Ay),s=we(()=>{const l=Q(t.to);return e.resolve(l)}),i=we(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(yi.bind(null,u));if(f>-1)return f;const d=Fd(l[c-2]);return c>1&&Fd(u)===d&&h[h.length-1].path!==d?h.findIndex(yi.bind(null,l[c-2])):f}),r=we(()=>i.value>-1&&oI(n.params,s.value.params)),o=we(()=>i.value>-1&&i.value===n.matched.length-1&&Ey(n.params,s.value.params));function a(l={}){if(rI(l)){const c=e[Q(t.replace)?"replace":"push"](Q(t.to)).catch(ar);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:we(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function nI(t){return t.length===1?t[0]:t}const sI=it({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ld,setup(t,{slots:e}){const n=Aa(Ld(t)),{options:s}=en(Za),i=we(()=>({[Wd(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Wd(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&nI(e.default(n));return t.custom?r:wn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),iI=sI;function rI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function oI(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!sn(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Fd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Wd=(t,e,n)=>t??e??n,aI=it({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=en(Nc),i=we(()=>t.route||s.value),r=en(Nd,0),o=we(()=>{let c=Q(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=we(()=>i.value.matched[o.value]);Ro(Nd,we(()=>o.value+1)),Ro(tI,a),Ro(Nc,i);const l=Je();return _n(()=>[l.value,a.value,t.name],([c,u,h],[f,d,g])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!yi(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return $d(n.default,{Component:f,route:c});const d=h.props[u],g=d?d===!0?c.params:typeof d=="function"?d(c):d:null,_=wn(f,Ee({},g,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return $d(n.default,{Component:_,route:c})||_}}});function $d(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const lI=aI;function cI(t){const e=KT(t.routes,t),n=t.parseQuery||ZT,s=t.stringifyQuery||Dd,i=t.history,r=Fi(),o=Fi(),a=Fi(),l=Ra(Kn);let c=Kn;Xs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ol.bind(null,D=>""+D),h=Ol.bind(null,xT),f=Ol.bind(null,Nr);function d(D,Y){let z,X;return ky(D)?(z=e.getRecordMatcher(D),X=Y):X=D,e.addRoute(X,z)}function g(D){const Y=e.getRecordMatcher(D);Y&&e.removeRoute(Y)}function p(){return e.getRoutes().map(D=>D.record)}function _(D){return!!e.getRecordMatcher(D)}function m(D,Y){if(Y=Ee({},Y||l.value),typeof D=="string"){const P=Ml(n,D,Y.path),M=e.resolve({path:P.path},Y),F=i.createHref(P.fullPath);return Ee(P,M,{params:f(M.params),hash:Nr(P.hash),redirectedFrom:void 0,href:F})}let z;if(D.path!=null)z=Ee({},D,{path:Ml(n,D.path,Y.path).path});else{const P=Ee({},D.params);for(const M in P)P[M]==null&&delete P[M];z=Ee({},D,{params:h(P)}),Y.params=h(Y.params)}const X=e.resolve(z,Y),xe=D.hash||"";X.params=u(f(X.params));const v=ET(s,Ee({},D,{hash:yT(xe),path:X.path})),C=i.createHref(v);return Ee({fullPath:v,hash:xe,query:s===Dd?eI(D.query):D.query||{}},X,{redirectedFrom:void 0,href:C})}function x(D){return typeof D=="string"?Ml(n,D,l.value.path):Ee({},D)}function E(D,Y){if(c!==D)return bi(8,{from:Y,to:D})}function w(D){return I(D)}function k(D){return w(Ee(x(D),{replace:!0}))}function A(D){const Y=D.matched[D.matched.length-1];if(Y&&Y.redirect){const{redirect:z}=Y;let X=typeof z=="function"?z(D):z;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=x(X):{path:X},X.params={}),Ee({query:D.query,hash:D.hash,params:X.path!=null?{}:D.params},X)}}function I(D,Y){const z=c=m(D),X=l.value,xe=D.state,v=D.force,C=D.replace===!0,P=A(z);if(P)return I(Ee(x(P),{state:typeof P=="object"?Ee({},xe,P.state):xe,force:v,replace:C}),Y||z);const M=z;M.redirectedFrom=Y;let F;return!v&&ST(s,X,z)&&(F=bi(16,{to:M,from:X}),qe(X,X,!0,!1)),(F?Promise.resolve(F):B(M,X)).catch(N=>kn(N)?kn(N,2)?N:Ke(N):ae(N,M,X)).then(N=>{if(N){if(kn(N,2))return I(Ee({replace:C},x(N.to),{state:typeof N.to=="object"?Ee({},xe,N.to.state):xe,force:v}),Y||M)}else N=G(M,X,!0,C,xe);return V(M,X,N),N})}function H(D,Y){const z=E(D,Y);return z?Promise.reject(z):Promise.resolve()}function $(D){const Y=rt.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(D):D()}function B(D,Y){let z;const[X,xe,v]=uI(D,Y);z=Dl(X.reverse(),"beforeRouteLeave",D,Y);for(const P of X)P.leaveGuards.forEach(M=>{z.push(Qn(M,D,Y))});const C=H.bind(null,D,Y);return z.push(C),Be(z).then(()=>{z=[];for(const P of r.list())z.push(Qn(P,D,Y));return z.push(C),Be(z)}).then(()=>{z=Dl(xe,"beforeRouteUpdate",D,Y);for(const P of xe)P.updateGuards.forEach(M=>{z.push(Qn(M,D,Y))});return z.push(C),Be(z)}).then(()=>{z=[];for(const P of v)if(P.beforeEnter)if(sn(P.beforeEnter))for(const M of P.beforeEnter)z.push(Qn(M,D,Y));else z.push(Qn(P.beforeEnter,D,Y));return z.push(C),Be(z)}).then(()=>(D.matched.forEach(P=>P.enterCallbacks={}),z=Dl(v,"beforeRouteEnter",D,Y,$),z.push(C),Be(z))).then(()=>{z=[];for(const P of o.list())z.push(Qn(P,D,Y));return z.push(C),Be(z)}).catch(P=>kn(P,8)?P:Promise.reject(P))}function V(D,Y,z){a.list().forEach(X=>$(()=>X(D,Y,z)))}function G(D,Y,z,X,xe){const v=E(D,Y);if(v)return v;const C=Y===Kn,P=Xs?history.state:{};z&&(X||C?i.replace(D.fullPath,Ee({scroll:C&&P&&P.scroll},xe)):i.push(D.fullPath,xe)),l.value=D,qe(D,Y,z,C),Ke()}let _e;function Ge(){_e||(_e=i.listen((D,Y,z)=>{if(!Mt.listening)return;const X=m(D),xe=A(X);if(xe){I(Ee(xe,{replace:!0,force:!0}),X).catch(ar);return}c=X;const v=l.value;Xs&&MT(Sd(v.fullPath,z.delta),Ja()),B(X,v).catch(C=>kn(C,12)?C:kn(C,2)?(I(Ee(x(C.to),{force:!0}),X).then(P=>{kn(P,20)&&!z.delta&&z.type===Lr.pop&&i.go(-1,!1)}).catch(ar),Promise.reject()):(z.delta&&i.go(-z.delta,!1),ae(C,X,v))).then(C=>{C=C||G(X,v,!1),C&&(z.delta&&!kn(C,8)?i.go(-z.delta,!1):z.type===Lr.pop&&kn(C,20)&&i.go(-1,!1)),V(X,v,C)}).catch(ar)}))}let ye=Fi(),oe=Fi(),se;function ae(D,Y,z){Ke(D);const X=oe.list();return X.length?X.forEach(xe=>xe(D,Y,z)):console.error(D),Promise.reject(D)}function He(){return se&&l.value!==Kn?Promise.resolve():new Promise((D,Y)=>{ye.add([D,Y])})}function Ke(D){return se||(se=!D,Ge(),ye.list().forEach(([Y,z])=>D?z(D):Y()),ye.reset()),D}function qe(D,Y,z,X){const{scrollBehavior:xe}=t;if(!Xs||!xe)return Promise.resolve();const v=!z&&DT(Sd(D.fullPath,0))||(X||!z)&&history.state&&history.state.scroll||null;return Ma().then(()=>xe(D,Y,v)).then(C=>C&&OT(C)).catch(C=>ae(C,D,Y))}const Le=D=>i.go(D);let ft;const rt=new Set,Mt={currentRoute:l,listening:!0,addRoute:d,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:p,resolve:m,options:t,push:w,replace:k,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:oe.add,isReady:He,install(D){const Y=this;D.component("RouterLink",iI),D.component("RouterView",lI),D.config.globalProperties.$router=Y,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(l)}),Xs&&!ft&&l.value===Kn&&(ft=!0,w(i.location).catch(xe=>{}));const z={};for(const xe in Kn)Object.defineProperty(z,xe,{get:()=>l.value[xe],enumerable:!0});D.provide(Za,Y),D.provide(Ay,Eg(z)),D.provide(Nc,l);const X=D.unmount;rt.add(D),D.unmount=function(){rt.delete(D),rt.size<1&&(c=Kn,_e&&_e(),_e=null,l.value=Kn,ft=!1,se=!1),X()}}};function Be(D){return D.reduce((Y,z)=>Y.then(()=>$(z)),Promise.resolve())}return Mt}function uI(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>yi(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>yi(c,l))||i.push(l))}return[n,s,i]}function Ry(){return en(Za)}const hI={class:"empty-state"},fI=it({__name:"EmptyWorkout",props:{today:{}},setup(t){return(e,n)=>{const s=Gr("router-link");return J(),ie("div",hI,[Z(Q(lm),{size:48,class:"empty-icon"}),n[1]||(n[1]=L("p",null,"No workouts yet. Start your first workout today!",-1)),Z(s,{to:`/my-workout-tracker/workout/${e.today}`,class:"start-first-workout-btn"},{default:Dn(()=>n[0]||(n[0]=[Et(" Start Your First Workout ",-1)])),_:1,__:[0]},8,["to"])])}}}),dI=rn(fI,[["__scopeId","data-v-78be6b50"]]),pI={class:"workouts-section"},gI={class:"workouts-list"},mI={class:"workout-header"},_I={class:"workout-date"},yI={class:"workout-stats"},bI={class:"stat"},vI={class:"stat"},xI={class:"workout-exercises"},wI={class:"exercise-info"},CI={class:"exercise-name"},EI={class:"exercise-sets"},SI={class:"exercise-details"},kI={key:0,class:"pagination"},TI=["disabled"],II={class:"page-info"},PI=["disabled"],Nl=10,AI=it({__name:"WorkoutSection",props:{workouts:{}},setup(t){const{t:e}=Ci(),n=Je(1),s=we(()=>Math.ceil(i.value.length/Nl)),i=we(()=>[...t.workouts].sort((l,c)=>new Date(c.date).getTime()-new Date(l.date).getTime())),r=we(()=>{const l=(n.value-1)*Nl,c=l+Nl;return i.value.slice(l,c)}),o=l=>{const c=new Date(l),u=new Date,h=new Date(u);return h.setDate(u.getDate()-1),l===u.toISOString().split("T")[0]?"Today":l===h.toISOString().split("T")[0]?"Yesterday":c.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},a=l=>l.exercises.reduce((c,u)=>c+u.sets.length,0);return(l,c)=>(J(),ie("div",pI,[L("h2",null,ue(Q(e)("workout.title")),1),L("div",gI,[(J(!0),ie(Ze,null,es(r.value,(u,h)=>(J(),ie("div",{key:h,class:"workout-item"},[L("div",mI,[L("div",_I,[L("h3",null,ue(o(u.date)),1),L("span",{class:Ms(["workout-status",{completed:u.completed}])},ue(u.completed?"Completed":"In Progress"),3)]),L("div",yI,[L("span",bI,ue(Q(e)("workout.exercise",{count:u.exercises.length})),1),L("span",vI,ue(Q(e)("workout.set",{count:a(u)})),1)])]),L("div",xI,[(J(!0),ie(Ze,null,es(u.exercises,f=>(J(),ie("div",{key:f.exerciseId,class:"exercise-summary"},[L("div",wI,[L("span",CI,ue(f.exercise.name),1),L("span",EI,ue(Q(e)("workout.set",{count:f.sets.length})),1)]),L("div",SI,[(J(!0),ie(Ze,null,es(f.sets,(d,g)=>(J(),ie("span",{key:g,class:"set-detail"},ue(d.reps)+ue(d.weight?`  ${d.weight}kg`:"")+ue(d.duration?`  ${d.duration}s`:""),1))),128))])]))),128))])]))),128))]),s.value>1?(J(),ie("div",kI,[L("button",{onClick:c[0]||(c[0]=u=>n.value--),disabled:n.value<=1,class:"page-btn"},[Z(Q(Q0),{size:16}),c[2]||(c[2]=Et(" Previous ",-1))],8,TI),L("span",II," Page "+ue(n.value)+" of "+ue(s.value),1),L("button",{onClick:c[1]||(c[1]=u=>n.value++),disabled:n.value>=s.value,class:"page-btn"},[c[3]||(c[3]=Et(" Next ",-1)),Z(Q(X0),{size:16})],8,PI)])):Wn("",!0)]))}}),Oy=rn(AI,[["__scopeId","data-v-ad99d958"]]),RI=it({__name:"LoadingComp",setup(t){return(e,n)=>(J(),yn(Q(ex),{class:"loader",size:48}))}}),My=rn(RI,[["__scopeId","data-v-1de4c991"]]),Hd=we(()=>new Date().toISOString().split("T")[0]),OI={class:"dashboard"},MI={class:"dashboard-header"},DI={class:"header-actions"},NI={class:"dashboard-content"},LI={key:1,class:"error-message"},FI={key:4,class:"dashboard-history"},WI=it({__name:"DashboardPage",setup(t){const e=()=>gn.value.slice(-3);return(n,s)=>{const i=Gr("router-link");return J(),ie("div",OI,[L("header",MI,[s[1]||(s[1]=L("div",{class:"header-content"},[L("h1",null,"Workout Tracker"),L("p",null,"Track your fitness journey with precision")],-1)),L("div",DI,[Z(i,{to:`/my-workout-tracker/workout/${Q(Hd)}`,class:"start-workout-btn"},{default:Dn(()=>[Z(Q(lu),{size:18}),s[0]||(s[0]=Et(" Start Today's Workout ",-1))]),_:1,__:[0]},8,["to"])])]),L("div",NI,[Q(Dr)?(J(),yn(My,{key:0})):Q(pa)?(J(),ie("p",LI," An error occurred while fetching workouts. Please try again later. ")):Q(gn).length===0&&!Q(Dr)&&!Q(pa)?(J(),yn(dI,{key:2,today:Q(Hd)},null,8,["today"])):(J(),yn(Oy,{key:3,workouts:e()},null,8,["workouts"])),Q(gn).length>3?(J(),ie("div",FI,[Z(i,{class:"view-all-btn",to:"/my-workout-tracker/history"},{default:Dn(()=>s[2]||(s[2]=[Et("View All Workouts",-1)])),_:1,__:[2]})])):Wn("",!0)])])}}}),$I=rn(WI,[["__scopeId","data-v-c66dcf72"]]),HI={class:"exercise-header"},BI={class:"exercise-name"},VI={class:"exercise-description"},UI={class:"muscle-tags"},zI={key:0,class:"selected-indicator"},jI=it({__name:"ExerciseCard",props:{exercise:{},isSelected:{type:Boolean}},emits:["select"],setup(t){return(e,n)=>(J(),ie("div",{class:Ms(["exercise-card",{selected:e.isSelected}]),onClick:n[0]||(n[0]=s=>e.$emit("select",e.exercise))},[L("div",HI,[L("h3",BI,ue(e.exercise.name),1),L("span",{class:Ms(["difficulty-badge",e.exercise.difficulty])},ue(e.exercise.difficulty),3)]),L("p",VI,ue(e.exercise.description),1),L("div",UI,[(J(!0),ie(Ze,null,es(e.exercise.targetMuscles,s=>(J(),ie("span",{key:s,class:"muscle-tag"},ue(s),1))),128))]),e.isSelected?(J(),ie("div",zI,[Z(Q(au),{size:20})])):Wn("",!0)],2))}}),YI=rn(jI,[["__scopeId","data-v-7f831a42"]]),GI={class:"set-tracker"},KI={class:"set-tracker__exercise-info"},qI={class:""},XI={class:"set-tracker__buttons"},QI={class:"set-tracker__container"},JI={class:"set-tracker__number"},ZI={class:"set-tracker__inputs"},eP={class:"input-group"},tP=["onUpdate:modelValue","onInput","placeholder"],nP={class:"input-group"},sP=["onUpdate:modelValue","onInput","placeholder"],iP={key:0,class:"set-tracker__complete"},rP={class:"set-tracker__summary"},oP={key:0,class:"set-tracker__summary-buttons"},aP=it({__name:"SetTracker",props:{exercise:{},initialSets:{}},emits:["setsUpdated","deleteExercise",""],setup(t,{emit:e}){const n=e,{t:s}=Ci(),i=()=>({reps:0,weight:0,duration:0,completedAt:new Date}),r=Je(t.initialSets?.length?t.initialSets:[i()]),o=we(()=>r.value.filter(d=>h(d)).length),a=we(()=>r.value.every(d=>h(d))&&r.value.length>0),l=d=>{const g=r.value[d];g.reps>0&&g.weight>0&&(g.completedAt=new Date),n("setsUpdated",r.value.filter(p=>h(p)))},c=()=>{r.value.push(i())},u=()=>{if(r.value.length>0){const d=r.value[r.value.length-1];r.value.push({...d,completedAt:new Date})}},h=d=>d.reps>0&&d.weight>0,f=()=>{n("deleteExercise",t.exercise)};return _n(()=>r.value,()=>{n("setsUpdated",r.value.filter(d=>h(d)))},{deep:!0}),(d,g)=>(J(),ie("div",GI,[L("div",KI,[L("div",qI,[L("h3",null,ue(d.exercise.name),1),L("p",null,ue(d.exercise.description),1)]),L("div",XI,[L("button",{onClick:f,class:"set-tracker__buttons--cancel"},[Z(Q(am),{size:18})])])]),L("div",QI,[(J(!0),ie(Ze,null,es(r.value,(p,_)=>(J(),ie("div",{key:_},[L("div",{class:Ms(["set-tracker__row",{completed:h(p)}])},[L("span",JI,ue(Q(s)("set-tracker.set"))+" "+ue(_+1),1),L("div",ZI,[L("div",eP,[L("label",null,ue(Q(s)("set-tracker.reps")),1),Ds(L("input",{type:"number","onUpdate:modelValue":m=>p.reps=m,onInput:m=>l(_),min:0,class:"set-tracker__select",placeholder:Q(s)("set-tracker.select-reps")},null,40,tP),[[oc,p.reps,void 0,{number:!0}]])]),L("div",nP,[L("label",null,ue(Q(s)("set-tracker.weight")),1),Ds(L("input",{type:"number","onUpdate:modelValue":m=>p.weight=m,onInput:m=>l(_),min:0,class:"set-tracker__select",placeholder:Q(s)("set-tracker.select-weights")},null,40,sP),[[oc,p.weight,void 0,{number:!0}]])])]),h(p)?(J(),ie("div",iP,[Z(Q(au),{size:20,class:"complete-icon"})])):Wn("",!0)],2)]))),128))]),L("div",rP,[L("p",null,ue(Q(s)("set-tracker.completed-sets",{completed:o.value,total:r.value.length})),1),a.value?(J(),ie("div",oP,[L("button",{onClick:u,class:"add-set-btn"},[Z(Q(qo),{size:16}),Et(" "+ue(Q(s)("set-tracker.duplicate-set")),1)]),L("button",{onClick:c,class:"add-set-btn"},[Z(Q(qo),{size:16}),Et(" "+ue(Q(s)("set-tracker.add-set")),1)])])):Wn("",!0)])]))}}),lP=rn(aP,[["__scopeId","data-v-206fc352"]]),cP=[{id:"1",name:"Bench Press",category:"chest",description:"Compound chest pressing movement",targetMuscles:["chest","triceps","shoulders"],difficulty:"intermediate"},{id:"2",name:"Deadlifts",category:"full-body",description:"Complete posterior chain exercise",targetMuscles:["hamstrings","glutes","erector spinae"],difficulty:"advanced"},{id:"3",name:"Sissy Squats",category:"legs",description:"Lower body compound movement",targetMuscles:["quadriceps","glutes","hamstrings"],difficulty:"beginner"},{id:"4",name:"Seated Rows",category:"back",description:"Horizontal pulling exercise",targetMuscles:["lats","rhomboids","rear delts"],difficulty:"beginner"},{id:"5",name:"Biceps curls",category:"arm",description:"Biceps focused movement",targetMuscles:["biceps"],difficulty:"beginner"},{id:"6",name:"Calf Raises",category:"calves",description:"Calf strengthening exercise",targetMuscles:["calves"],difficulty:"beginner"},{id:"7",name:"Legs extentions",category:"legs",description:"Quad strengthening exercise",targetMuscles:["quadriceps"],difficulty:"beginner"},{id:"8",name:"Adductors",category:"legs",description:"Adductor strengthening exercise",targetMuscles:["adductor"],difficulty:"beginner"},{id:"9",name:"Squats",category:"legs",description:"Lower body compound movement",targetMuscles:["quadriceps","glutes","hamstrings"],difficulty:"beginner"},{id:"10",name:"Dips",category:"triceps",description:"Tricep focused compound movement",targetMuscles:["triceps","chest","shoulders"],difficulty:"intermediate"},{id:"11",name:"Lat Pulldowns",category:"back",description:"Vertical pulling movement",targetMuscles:["lats","rhomboids","biceps"],difficulty:"beginner"},{id:"12",name:"Leg Press",category:"legs",description:"Machine-based leg exercise",targetMuscles:["quadriceps","glutes"],difficulty:"beginner"},{id:"13",name:"Push-ups",category:"chest",description:"Classic bodyweight chest exercise",targetMuscles:["chest","triceps","shoulders"],difficulty:"beginner"},{id:"14",name:"Pull-ups",category:"back",description:"Upper body pulling exercise",targetMuscles:["lats","rhomboids","biceps"],difficulty:"intermediate"}],uP="/workout-data.json";class Dy{static async saveWorkout(e){try{const n=_y(),s=my(n,"dailyWorkout");Yk(s,e)}catch(n){console.error("Error saving workout:",n)}}static async getHistory(){try{const e=await fetch(uP);return e.ok?await e.json():{workouts:[]}}catch(e){return console.error("Error reading workout history:",e),{workouts:[]}}}static async getWorkoutByDate(e){try{return(await this.getHistory()).workouts.find(s=>s.date===e)||null}catch(n){return console.error("Error getting workout by date:",n),null}}static async exportData(){try{const e=await this.getHistory();return JSON.stringify(e,null,2)}catch(e){return console.error("Error exporting data:",e),JSON.stringify({workouts:[]},null,2)}}}const hP={class:"workout-page"},fP={class:"workout-header"},dP={class:"workout-header-content"},pP={key:0},gP={key:0,class:"workout-header__buttons"},mP=["disabled"],_P=["disabled"],yP={class:"workout-content"},bP={key:0,class:"active-workout"},vP={class:"workout-progress"},xP={class:"progress-bar"},wP={class:"progress-text"},CP={class:"exercise-trackers"},EP={key:1,class:"exercise-selection"},SP={class:"selection-header"},kP={class:"exercise-filters"},TP=["value"],IP={class:"exercises-grid"},PP={key:0,class:"selection-actions"},AP=it({__name:"WorkoutPage",props:{date:{}},setup(t){const e=t,n=Ry(),s=we(()=>e.date||new Date().toISOString().split("T")[0]),i=we(()=>s.value===new Date().toISOString().split("T")[0]),r=Je(cP),o=Je([]),a=Je(null),l=Je(!0),c=Je(""),u=Je(""),h=we(()=>[...new Set(r.value.map($=>$.category))]),f=we(()=>r.value.filter($=>{const B=!c.value||$.category===c.value,V=!u.value||$.difficulty===u.value;return B&&V})),d=we(()=>a.value?a.value.exercises.reduce(($,B)=>$+B.sets.length,0):0),g=we(()=>{if(!a.value||a.value.exercises.length===0)return 0;const $=a.value.exercises.length,B=a.value.exercises.filter(V=>V.sets.length>0).length;return Math.round(B/$*100)}),p=we(()=>a.value?.exercises.some($=>$.sets.length>0)||!1);function _($){return o.value.some(B=>B.id===$)}function m($){const B=o.value.findIndex(V=>V.id===$.id);B>=0?o.value.splice(B,1):o.value.push($)}const x=()=>{if(o.value.length===0)return;const $=o.value.map(B=>({exerciseId:B.id,exercise:B,sets:[],notes:""}));a.value={date:s.value,exercises:$,completed:!1},l.value=!1},E=async($,B)=>{if(!a.value)return;const V=a.value.exercises.findIndex(G=>G.exerciseId===$);V>=0&&(a.value.exercises[V].sets=B)},w=$=>{if(!a.value)return;const B=a.value.exercises.findIndex(V=>V.exerciseId===$.id);a.value.exercises.splice(B,1)},k=async()=>{a.value&&(a.value.completed=!0,await A(),n.push("/my-workout-tracker"))},A=async()=>{a.value&&await Dy.saveWorkout(a.value)},I=()=>{a.value=null,l.value=!0,o.value=[]};function H($){return new Date($).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}return($,B)=>(J(),ie("div",hP,[L("header",fP,[L("div",dP,[L("h1",null,ue(i.value?"Today's Workout":`Workout - ${H(s.value)}`),1),a.value?(J(),ie("p",pP,ue(a.value.exercises.length)+" exercises  "+ue(d.value)+" sets completed ",1)):Wn("",!0)]),a.value&&a.value.exercises.length>0?(J(),ie("div",gP,[L("button",{onClick:k,class:"workout-header__buttons--finish",disabled:!p.value},[Z(Q(au),{size:18}),B[4]||(B[4]=Et(" Finish Workout ",-1))],8,mP),L("button",{onClick:I,class:"workout-header__buttons--cancel",disabled:!p.value},[Z(Q(am),{size:18}),B[5]||(B[5]=Et(" Cancel Workout ",-1))],8,_P)])):Wn("",!0)]),L("div",yP,[!l.value&&a.value?.exercises.length?(J(),ie("div",bP,[L("div",vP,[L("div",xP,[L("div",{class:"progress-fill",style:Ta({width:`${g.value}%`})},null,4)]),L("span",wP,ue(g.value)+"% Complete",1)]),L("div",CP,[(J(!0),ie(Ze,null,es(a.value.exercises,V=>(J(),yn(lP,{key:V.exerciseId,exercise:V.exercise,"initial-sets":V.sets,onSetsUpdated:G=>E(V.exerciseId,G),onDeleteExercise:B[0]||(B[0]=G=>w(G))},null,8,["exercise","initial-sets","onSetsUpdated"]))),128))]),L("button",{onClick:B[1]||(B[1]=V=>l.value=!0),class:"add-exercise-btn"},[Z(Q(qo),{size:18}),B[6]||(B[6]=Et(" Add Another Exercise ",-1))])])):(J(),ie("div",EP,[L("div",SP,[L("h2",null,ue(a.value?.exercises.length?"Add Exercise":"Choose Your Exercises"),1),B[7]||(B[7]=L("p",null,"Select exercises for your workout",-1))]),L("div",kP,[Ds(L("select",{"onUpdate:modelValue":B[2]||(B[2]=V=>c.value=V),class:"filter-select"},[B[8]||(B[8]=L("option",{value:""},"All Categories",-1)),(J(!0),ie(Ze,null,es(h.value,(V,G)=>(J(),ie("option",{key:G,value:V},ue(V),9,TP))),128))],512),[[Go,c.value]]),Ds(L("select",{"onUpdate:modelValue":B[3]||(B[3]=V=>u.value=V),class:"filter-select"},B[9]||(B[9]=[L("option",{value:""},"All Difficulties",-1),L("option",{value:"beginner"},"Beginner",-1),L("option",{value:"intermediate"},"Intermediate",-1),L("option",{value:"advanced"},"Advanced",-1)]),512),[[Go,u.value]])]),L("div",IP,[(J(!0),ie(Ze,null,es(f.value,V=>(J(),yn(YI,{key:V.id,exercise:V,"is-selected":_(V.id),onSelect:m},null,8,["exercise","is-selected"]))),128))]),o.value.length>0?(J(),ie("div",PP,[L("button",{onClick:x,class:"start-workout-btn"},[Z(Q(lu),{size:18}),Et(" Start Workout ("+ue(o.value.length)+" exercises) ",1)])])):Wn("",!0)]))])]))}}),RP=rn(AP,[["__scopeId","data-v-3b6abdb4"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function so(t){return t+.5|0}const Jn=(t,e,n)=>Math.max(Math.min(t,n),e);function zi(t){return Jn(so(t*2.55),0,255)}function rs(t){return Jn(so(t*255),0,255)}function Rn(t){return Jn(so(t/2.55)/100,0,1)}function Bd(t){return Jn(so(t*100),0,100)}const Ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lc=[..."0123456789ABCDEF"],OP=t=>Lc[t&15],MP=t=>Lc[(t&240)>>4]+Lc[t&15],go=t=>(t&240)>>4===(t&15),DP=t=>go(t.r)&&go(t.g)&&go(t.b)&&go(t.a);function NP(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ht[t[1]]*17,g:255&Ht[t[2]]*17,b:255&Ht[t[3]]*17,a:e===5?Ht[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ht[t[1]]<<4|Ht[t[2]],g:Ht[t[3]]<<4|Ht[t[4]],b:Ht[t[5]]<<4|Ht[t[6]],a:e===9?Ht[t[7]]<<4|Ht[t[8]]:255})),n}const LP=(t,e)=>t<255?e(t):"";function FP(t){var e=DP(t)?OP:MP;return t?"#"+e(t.r)+e(t.g)+e(t.b)+LP(t.a,e):void 0}const WP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ny(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function $P(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function HP(t,e,n){const s=Ny(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function BP(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function Ju(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=BP(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function Zu(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(rs)}function eh(t,e,n){return Zu(Ny,t,e,n)}function VP(t,e,n){return Zu(HP,t,e,n)}function UP(t,e,n){return Zu($P,t,e,n)}function Ly(t){return(t%360+360)%360}function zP(t){const e=WP.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?zi(+e[5]):rs(+e[5]));const i=Ly(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=VP(i,r,o):e[1]==="hsv"?s=UP(i,r,o):s=eh(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function jP(t,e){var n=Ju(t);n[0]=Ly(n[0]+e),n=eh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function YP(t){if(!t)return;const e=Ju(t),n=e[0],s=Bd(e[1]),i=Bd(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Rn(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Vd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ud={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GP(){const t={},e=Object.keys(Ud),n=Object.keys(Vd);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Vd[r]);r=parseInt(Ud[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let mo;function KP(t){mo||(mo=GP(),mo.transparent=[0,0,0,0]);const e=mo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const qP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XP(t){const e=qP.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?zi(o):Jn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?zi(s):Jn(s,0,255)),i=255&(e[4]?zi(i):Jn(i,0,255)),r=255&(e[6]?zi(r):Jn(r,0,255)),{r:s,g:i,b:r,a:n}}}function QP(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Rn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ll=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ys=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function JP(t,e,n){const s=Ys(Rn(t.r)),i=Ys(Rn(t.g)),r=Ys(Rn(t.b));return{r:rs(Ll(s+n*(Ys(Rn(e.r))-s))),g:rs(Ll(i+n*(Ys(Rn(e.g))-i))),b:rs(Ll(r+n*(Ys(Rn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function _o(t,e,n){if(t){let s=Ju(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=eh(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Fy(t,e){return t&&Object.assign(e||{},t)}function zd(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=rs(t[3]))):(e=Fy(t,{r:0,g:0,b:0,a:1}),e.a=rs(e.a)),e}function ZP(t){return t.charAt(0)==="r"?XP(t):zP(t)}class Fr{constructor(e){if(e instanceof Fr)return e;const n=typeof e;let s;n==="object"?s=zd(e):n==="string"&&(s=NP(e)||KP(e)||ZP(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Fy(this._rgb);return e&&(e.a=Rn(e.a)),e}set rgb(e){this._rgb=zd(e)}rgbString(){return this._valid?QP(this._rgb):void 0}hexString(){return this._valid?FP(this._rgb):void 0}hslString(){return this._valid?YP(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=JP(this._rgb,e._rgb,n)),this}clone(){return new Fr(this.rgb)}alpha(e){return this._rgb.a=rs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=so(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return _o(this._rgb,2,e),this}darken(e){return _o(this._rgb,2,-e),this}saturate(e){return _o(this._rgb,1,e),this}desaturate(e){return _o(this._rgb,1,-e),this}rotate(e){return jP(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Tn(){}const eA=(()=>{let t=0;return()=>t++})();function De(t){return t==null}function nt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function cn(t,e){return bt(t)?t:e}function pe(t,e){return typeof t>"u"?e:t}const tA=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function We(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Te(t,e,n,s){let i,r,o;if(nt(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(ge(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function ga(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function ma(t){if(nt(t))return t.map(ma);if(ge(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=ma(t[n[i]]);return e}return t}function Wy(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function nA(t,e,n,s){if(!Wy(t))return;const i=e[t],r=n[t];ge(i)&&ge(r)?Wr(i,r,s):e[t]=ma(r)}function Wr(t,e,n){const s=nt(e)?e:[e],i=s.length;if(!ge(t))return t;n=n||{};const r=n.merger||nA;let o;for(let a=0;a<i;++a){if(o=s[a],!ge(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function cr(t,e){return Wr(t,e,{merger:sA})}function sA(t,e,n){if(!Wy(t))return;const s=e[t],i=n[t];ge(s)&&ge(i)?cr(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ma(i))}const jd={"":t=>t,x:t=>t.x,y:t=>t.y};function iA(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function rA(t){const e=iA(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function _a(t,e){return(jd[e]||(jd[e]=rA(e)))(t)}function th(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ya=t=>typeof t<"u",hs=t=>typeof t=="function",Yd=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function oA(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ct=Math.PI,nn=2*ct,aA=nn+ct,ba=Number.POSITIVE_INFINITY,lA=ct/180,Jt=ct/2,_s=ct/4,Gd=ct*2/3,$y=Math.log10,vi=Math.sign;function ur(t,e,n){return Math.abs(t-e)<n}function Kd(t){const e=Math.round(t);t=ur(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor($y(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function cA(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function uA(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function $r(t){return!uA(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function hA(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function fA(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Ps(t){return t*(ct/180)}function dA(t){return t*(180/ct)}function qd(t){if(!bt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function pA(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ct&&(r+=nn),{angle:r,distance:i}}function Fc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gA(t,e){return(t-e+aA)%nn-ct}function dn(t){return(t%nn+nn)%nn}function Hy(t,e,n,s){const i=dn(t),r=dn(e),o=dn(n),a=dn(r-i),l=dn(o-i),c=dn(i-r),u=dn(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function Vt(t,e,n){return Math.max(e,Math.min(n,t))}function mA(t){return Vt(t,-32768,32767)}function Js(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function nh(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const As=(t,e,n,s)=>nh(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),_A=(t,e,n)=>nh(t,n,s=>t[s][e]>=n);function yA(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const By=["push","pop","shift","splice","unshift"];function bA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),By.forEach(n=>{const s="_onData"+th(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function Xd(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(By.forEach(r=>{delete t[r]}),delete t._chartjs)}function vA(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Vy=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Uy(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Vy.call(window,()=>{s=!1,t.apply(e,n)}))}}function xA(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const sh=t=>t==="start"?"left":t==="end"?"right":"center",dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,wA=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function CA(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:d,maxDefined:g}=o.getUserBounds();if(d){if(i=Math.min(As(l,u,h).lo,n?s:As(e,u,o.getPixelForValue(h)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(_=>!De(_[a.axis]));i-=Math.max(0,p)}i=Vt(i,0,s-1)}if(g){let p=Math.max(As(l,o.axis,f,!0).hi+1,n?0:As(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const _=l.slice(p-1).findIndex(m=>!De(m[a.axis]));p+=Math.max(0,_)}r=Vt(p,i,s)-i}else r=s-i}return{start:i,count:r}}function EA(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const yo=t=>t===0||t===1,Qd=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*nn/n)),Jd=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*nn/n)+1,hr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Jt)+1,easeOutSine:t=>Math.sin(t*Jt),easeInOutSine:t=>-.5*(Math.cos(ct*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>yo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>yo(t)?t:Qd(t,.075,.3),easeOutElastic:t=>yo(t)?t:Jd(t,.075,.3),easeInOutElastic(t){return yo(t)?t:t<.5?.5*Qd(t*2,.1125,.45):.5+.5*Jd(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hr.easeInBounce(t*2)*.5:hr.easeOutBounce(t*2-1)*.5+.5};function ih(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Zd(t){return ih(t)?t:new Fr(t)}function Fl(t){return ih(t)?t:new Fr(t).saturate(.5).darken(.1).hexString()}const SA=["x","y","borderWidth","radius","tension"],kA=["color","borderColor","backgroundColor"];function TA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:kA},numbers:{type:"number",properties:SA}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function IA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ep=new Map;function PA(t,e){e=e||{};const n=t+JSON.stringify(e);let s=ep.get(n);return s||(s=new Intl.NumberFormat(t,e),ep.set(n,s)),s}function zy(t,e,n){return PA(e,n).format(t)}const AA={values(t){return nt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=RA(t,n)}const o=$y(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),zy(t,s,l)}};function RA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var jy={formatters:AA};function OA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ws=Object.create(null),Wc=Object.create(null);function fr(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function Wl(t,e,n){return typeof e=="string"?Wr(fr(t,e),n):Wr(fr(t,""),e)}class MA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Fl(i.backgroundColor),this.hoverBorderColor=(s,i)=>Fl(i.borderColor),this.hoverColor=(s,i)=>Fl(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Wl(this,e,n)}get(e){return fr(this,e)}describe(e,n){return Wl(Wc,e,n)}override(e,n){return Wl(Ws,e,n)}route(e,n,s,i){const r=fr(this,e),o=fr(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ge(l)?Object.assign({},c,l):pe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var je=new MA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[TA,IA,OA]);function DA(t){return!t||De(t.size)||De(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function tp(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function ys(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function np(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function $c(t,e,n,s){Yy(t,e,n,s,null)}function Yy(t,e,n,s,i){let r,o,a,l,c,u,h,f;const d=e.pointStyle,g=e.rotation,p=e.radius;let _=(g||0)*lA;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),d){default:i?t.ellipse(n,s,i/2,p,0,0,nn):t.arc(n,s,p,0,nn),t.closePath();break;case"triangle":u=i?i/2:p,t.moveTo(n+Math.sin(_)*u,s-Math.cos(_)*p),_+=Gd,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*p),_+=Gd,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(_+_s)*l,h=Math.cos(_+_s)*(i?i/2-c:l),a=Math.sin(_+_s)*l,f=Math.sin(_+_s)*(i?i/2-c:l),t.arc(n-h,s-a,c,_-ct,_-Jt),t.arc(n+f,s-o,c,_-Jt,_),t.arc(n+h,s+a,c,_,_+Jt),t.arc(n-f,s+o,c,_+Jt,_+ct),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}_+=_s;case"rectRot":h=Math.cos(_)*(i?i/2:p),o=Math.cos(_)*p,a=Math.sin(_)*p,f=Math.sin(_)*(i?i/2:p),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":_+=_s;case"cross":h=Math.cos(_)*(i?i/2:p),o=Math.cos(_)*p,a=Math.sin(_)*p,f=Math.sin(_)*(i?i/2:p),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(_)*(i?i/2:p),o=Math.cos(_)*p,a=Math.sin(_)*p,f=Math.sin(_)*(i?i/2:p),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),_+=_s,h=Math.cos(_)*(i?i/2:p),o=Math.cos(_)*p,a=Math.sin(_)*p,f=Math.sin(_)*(i?i/2:p),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(_)*p,a=Math.sin(_)*p,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(i?i/2:p),s+Math.sin(_)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Hr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function el(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function tl(t){t.restore()}function NA(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function LA(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function FA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),De(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function WA(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function $A(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Br(t,e,n,s,i,r={}){const o=nt(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,FA(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&$A(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),De(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),WA(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function Hc(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ct,ct,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ct,Jt,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Jt,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Jt,!0),t.lineTo(n+o.topLeft,s)}const HA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VA(t,e){const n=(""+t).match(HA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const UA=t=>+t||0;function Gy(t,e){const n={},s=ge(e),i=s?Object.keys(e):e,r=ge(t)?s?o=>pe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=UA(r(o));return n}function zA(t){return Gy(t,{top:"y",right:"x",bottom:"y",left:"x"})}function dr(t){return Gy(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Yt(t){const e=zA(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _t(t,e){t=t||{},e=e||je.font;let n=pe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=pe(t.style,e.style);s&&!(""+s).match(BA)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:pe(t.family,e.family),lineHeight:VA(pe(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:pe(t.weight,e.weight),string:""};return i.string=DA(i),i}function bo(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function jA(t,e,n){const{min:s,max:i}=t,r=tA(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Vs(t,e){return Object.assign(Object.create(t),e)}function rh(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=Qy("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>rh([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return qy(a,l,()=>ZA(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return ip(a).includes(l)},ownKeys(a){return ip(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function xi(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Ky(t,s),setContext:r=>xi(t,r,n,s),override:r=>xi(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return qy(r,o,()=>GA(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Ky(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:hs(n)?n:()=>n,isIndexable:hs(s)?s:()=>s}}const YA=(t,e)=>t?t+th(e):e,oh=(t,e)=>ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qy(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function GA(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return hs(a)&&o.isScriptable(e)&&(a=KA(e,a,t,n)),nt(a)&&a.length&&(a=qA(e,a,t,o.isIndexable)),oh(e,a)&&(a=xi(a,i,r&&r[e],o)),a}function KA(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),oh(t,l)&&(l=ah(i._scopes,i,t,l)),l}function qA(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(ge(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=ah(c,i,t,u);e.push(xi(h,r,o&&o[t],a))}}return e}function Xy(t,e,n){return hs(t)?t(e,n):t}const XA=(t,e)=>t===!0?e:typeof t=="string"?_a(e,t):void 0;function QA(t,e,n,s,i){for(const r of e){const o=XA(n,r);if(o){t.add(o);const a=Xy(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function ah(t,e,n,s){const i=e._rootScopes,r=Xy(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=sp(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=sp(a,o,r,l,s),l===null)?!1:rh(Array.from(a),[""],i,r,()=>JA(e,n,s))}function sp(t,e,n,s,i){for(;n;)n=QA(t,e,n,s,i);return n}function JA(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return nt(i)&&ge(n)?n:i||{}}function ZA(t,e,n,s){let i;for(const r of e)if(i=Qy(YA(r,t),n),typeof i<"u")return oh(t,i)?ah(n,s,t,i):i}function Qy(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function ip(t){let e=t._keys;return e||(e=t._keys=eR(t._scopes)),e}function eR(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const tR=Number.EPSILON||1e-14,wi=(t,e)=>e<t.length&&!t[e].skip&&t[e],Jy=t=>t==="x"?"y":"x";function nR(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=Fc(r,i),l=Fc(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,f=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function sR(t,e,n){const s=t.length;let i,r,o,a,l,c=wi(t,0);for(let u=0;u<s-1;++u)if(l=c,c=wi(t,u+1),!(!l||!c)){if(ur(e[u],0,tR)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function iR(t,e,n="x"){const s=Jy(n),i=t.length;let r,o,a,l=wi(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=wi(t,c+1),!a)continue;const u=a[n],h=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=h+r*e[c])}}function rR(t,e="x"){const n=Jy(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=wi(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=wi(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?vi(i[o-1])!==vi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}sR(t,i,r),iR(t,r,e)}function vo(t,e,n){return Math.max(Math.min(t,n),e)}function oR(t,e){let n,s,i,r,o,a=Hr(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Hr(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=vo(i.cp1x,e.left,e.right),i.cp1y=vo(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=vo(i.cp2x,e.left,e.right),i.cp2y=vo(i.cp2y,e.top,e.bottom)))}function aR(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")rR(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=nR(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&oR(t,n)}function lh(){return typeof window<"u"&&typeof document<"u"}function ch(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function va(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const nl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function lR(t,e){return nl(t).getPropertyValue(e)}const cR=["top","right","bottom","left"];function Os(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=cR[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const uR=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function hR(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(uR(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Cs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=nl(n),r=i.boxSizing==="border-box",o=Os(i,"padding"),a=Os(i,"border","width"),{x:l,y:c,box:u}=hR(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:g}=e;return r&&(d-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/d*n.width/s),y:Math.round((c-f)/g*n.height/s)}}function fR(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&ch(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=nl(r),l=Os(a,"border","width"),c=Os(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=va(a.maxWidth,r,"clientWidth"),i=va(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||ba,maxHeight:i||ba}}const xo=t=>Math.round(t*10)/10;function dR(t,e,n,s){const i=nl(t),r=Os(i,"margin"),o=va(i.maxWidth,t,"clientWidth")||ba,a=va(i.maxHeight,t,"clientHeight")||ba,l=fR(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Os(i,"border","width"),d=Os(i,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=xo(Math.min(c,o,l.maxWidth)),u=xo(Math.min(u,a,l.maxHeight)),c&&!u&&(u=xo(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=xo(Math.floor(u*s))),{width:c,height:u}}function rp(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const pR=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};lh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function op(t,e){const n=lR(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Es(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gR(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function mR(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Es(t,i,n),a=Es(i,r,n),l=Es(r,e,n),c=Es(o,a,n),u=Es(a,l,n);return Es(c,u,n)}const _R=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},yR=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function li(t,e,n){return t?_R(e,n):yR()}function Zy(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function eb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function tb(t){return t==="angle"?{between:Hy,compare:gA,normalize:dn}:{between:Js,compare:(e,n)=>e-n,normalize:e=>e}}function ap({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function bR(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=tb(s),l=e.length;let{start:c,end:u,loop:h}=t,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(e[c%l][s]),i,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function nb(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=tb(s),{start:u,end:h,loop:f,style:d}=bR(t,e,n),g=[];let p=!1,_=null,m,x,E;const w=()=>l(i,E,m)&&a(i,E)!==0,k=()=>a(r,m)===0||l(r,E,m),A=()=>p||w(),I=()=>!p||k();for(let H=u,$=u;H<=h;++H)x=e[H%o],!x.skip&&(m=c(x[s]),m!==E&&(p=l(m,i,r),_===null&&A()&&(_=a(m,i)===0?H:$),_!==null&&I()&&(g.push(ap({start:_,end:H,loop:f,count:o,style:d})),_=null),$=H,E=m));return _!==null&&g.push(ap({start:_,end:h,loop:f,count:o,style:d})),g}function sb(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=nb(s[i],t.points,e);r.length&&n.push(...r)}return n}function vR(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function xR(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function wR(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=vR(n,i,r,s);if(s===!0)return lp(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return lp(t,xR(n,o,l,c),n,e)}function lp(t,e,n,s){return!s||!s.setContext||!n?e:CR(t,e,n,s)}function CR(t,e,n,s){const i=t._chart.getContext(),r=cp(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,f=h;function d(g,p,_,m){const x=a?-1:1;if(g!==p){for(g+=l;n[g%l].skip;)g-=x;for(;n[p%l].skip;)p+=x;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:_,style:m}),u=m,h=p%l)}}for(const g of e){h=a?h:g.start;let p=n[h%l],_;for(f=h+1;f<=g.end;f++){const m=n[f%l];_=cp(s.setContext(Vs(i,{type:"segment",p0:p,p1:m,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),ER(_,u)&&d(h,f-1,g.loop,u),p=m,u=_}h<f-1&&d(h,f-1,g.loop,u)}return c}function cp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function ER(t,e){if(!e)return!1;const n=[],s=function(i,r){return ih(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function wo(t,e,n){return t.options.clip?t[n]:e[n]}function SR(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:wo(n,e,"left"),right:wo(n,e,"right"),top:wo(s,e,"top"),bottom:wo(s,e,"bottom")}:e}function ib(t,e){const n=e._clip;if(n.disabled)return!1;const s=SR(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class kR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Vy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var In=new kR;const up="transparent",TR={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Zd(t||up),i=s.valid&&Zd(e||up);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class IR{constructor(e,n,s,i){const r=n[s];i=bo([e.to,i,r,e.from]);const o=bo([e.from,r,i]);this._active=!0,this._fn=e.fn||TR[e.type||typeof o],this._easing=hr[e.easing]||hr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=bo([e.to,n,i,e.from]),this._from=bo([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class rb{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ge(e))return;const n=Object.keys(je.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!ge(r))return;const o={};for(const a of n)o[a]=r[a];(nt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=AR(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&PR(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const f=s.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=h=new IR(f,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return In.add(this._chart,s),!0}}function PR(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function AR(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function hp(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function RR(t,e,n){if(n===!1)return!1;const s=hp(t,n),i=hp(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function OR(t){let e,n,s,i;return ge(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function ob(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function fp(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],bt(c)&&(r||e===0||vi(e)===vi(c))&&(e+=c)}return!u&&!s.all?0:e}function MR(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function $l(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function DR(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function NR(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function LR(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function dp(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function pp(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=DR(r,o,s),h=e.length;let f;for(let d=0;d<h;++d){const g=e[d],{[l]:p,[c]:_}=g,m=g._stacks||(g._stacks={});f=m[c]=LR(i,u,p),f[a]=_,f._top=dp(f,o,!0,s.type),f._bottom=dp(f,o,!1,s.type);const x=f._visualValues||(f._visualValues={});x[a]=_}}function Hl(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function FR(t,e){return Vs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function WR(t,e,n){return Vs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Wi(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Bl=t=>t==="reset"||t==="none",gp=(t,e)=>e?t:Object.assign({},t),$R=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ob(n,!0),values:null};class ab{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$l(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,d,g)=>h==="x"?f:h==="r"?g:d,r=n.xAxisID=pe(s.xAxisID,Hl(e,"x")),o=n.yAxisID=pe(s.yAxisID,Hl(e,"y")),a=n.rAxisID=pe(s.rAxisID,Hl(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Xd(this._data,this),e._stacked&&Wi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(ge(n)){const i=this._cachedMeta;this._data=MR(n,i)}else if(s!==n){if(s){Xd(s,this);const i=this._cachedMeta;Wi(i),i._parsed=[]}n&&Object.isExtensible(n)&&bA(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=$l(n.vScale,n),n.stack!==s.stack&&(i=!0,Wi(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(pp(this,n._parsed),n._stacked=$l(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{nt(i[e])?f=this.parseArrayData(s,i,e,n):ge(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=h=f[u],l&&(d()&&(l=!1),c=h);s._sorted=l}o&&pp(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let f,d,g;for(f=0,d=i;f<d;++f)g=f+s,h[f]={[a]:u||r.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,d;for(u=0,h=i;u<h;++u)f=u+s,d=n[f],c[u]={x:r.parse(_a(d,a),f),y:o.parse(_a(d,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:ob(i,!0),values:n._stacks[e.axis]._visualValues};return fp(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=fp(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=$R(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=NR(a);let f,d;function g(){d=i[f];const p=d[a.axis];return!bt(d[e.axis])||u>p||h<p}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,d,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],bt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=OR(pe(this.options.clip,RR(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=WR(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=FR(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&ya(s);if(a)return gp(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(je.elements[e]),g=()=>this.getContext(s,i,n),p=c.resolveNamedOptions(f,d,g,h);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(gp(p,l))),p}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,s,n))}const c=new rb(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Bl(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){Bl(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Bl(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Wi(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class HR extends ab{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=CA(n,i,o);this._drawStart=a,this._drawCount=l,EA(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),f=o.axis,d=a.axis,{spanGaps:g,segment:p}=this.options,_=$r(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||i==="none",x=n+s,E=e.length;let w=n>0&&this.getParsed(n-1);for(let k=0;k<E;++k){const A=e[k],I=m?A:{};if(k<n||k>=x){I.skip=!0;continue}const H=this.getParsed(k),$=De(H[d]),B=I[f]=o.getPixelForValue(H[f],k),V=I[d]=r||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,H,l):H[d],k);I.skip=isNaN(B)||isNaN(V)||$,I.stop=k>0&&Math.abs(H[f]-w[f])>_,p&&(I.parsed=H,I.raw=c.data[k]),h&&(I.options=u||this.resolveDataElementOptions(k,A.active?"active":i)),m||this.updateElement(A,k,I,i),w=H}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function bs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class uh{static override(e){Object.assign(uh.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return bs()}parse(){return bs()}format(){return bs()}add(){return bs()}diff(){return bs()}startOf(){return bs()}endOf(){return bs()}}var BR={_date:uh};function VR(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?_A:As;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(r,e,n-h),d=c(r,e,n+h);return{lo:f.lo,hi:d.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,d=f.slice(0,u.lo+1).reverse().findIndex(p=>!De(p[h.axis]));u.lo-=Math.max(0,d);const g=f.slice(u.hi).findIndex(p=>!De(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function sl(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=VR(r[a],e,o,i);for(let d=h;d<=f;++d){const g=u[d];g.skip||s(g,c,d)}}}function UR(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Vl(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||sl(t,n,e,function(a,l,c){!i&&!Hr(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function zR(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=pA(o,{x:e.x,y:e.y});Hy(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return sl(t,n,e,r),i}function jR(t,e,n,s,i,r){let o=[];const a=UR(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(e.x,e.y,i);if(s&&!d)return;const g=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(g))&&!d)return;const _=a(e,g);_<l?(o=[{element:u,datasetIndex:h,index:f}],l=_):_===l&&o.push({element:u,datasetIndex:h,index:f})}return sl(t,n,e,c),o}function Ul(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?zR(t,e,n,i):jR(t,e,n,s,i,r)}function mp(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return sl(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var YR={modes:{index(t,e,n,s){const i=Cs(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Vl(t,i,r,s,o):Ul(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=Cs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Vl(t,i,r,s,o):Ul(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=Cs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Vl(t,i,r,s,o)},nearest(t,e,n,s){const i=Cs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ul(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Cs(e,t);return mp(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Cs(e,t);return mp(t,i,"y",n.intersect,s)}}};const lb=["left","top","right","bottom"];function $i(t,e){return t.filter(n=>n.pos===e)}function _p(t,e){return t.filter(n=>lb.indexOf(n.pos)===-1&&n.box.axis===e)}function Hi(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function GR(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function KR(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!lb.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function qR(t,e){const n=KR(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function XR(t){const e=GR(t),n=Hi(e.filter(c=>c.box.fullSize),!0),s=Hi($i(e,"left"),!0),i=Hi($i(e,"right")),r=Hi($i(e,"top"),!0),o=Hi($i(e,"bottom")),a=_p(e,"x"),l=_p(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:$i(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function yp(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function cb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function QR(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!ge(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&cb(o,r.getPadding());const a=Math.max(0,e.outerWidth-yp(o,t,"left","right")),l=Math.max(0,e.outerHeight-yp(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function JR(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ZR(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function ji(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,ZR(a.horizontal,e));const{same:h,other:f}=QR(e,n,a,s);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&ji(i,e,n,s)||u}function Co(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function bp(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;ya(c.start)&&(o=c.start),l.fullSize?Co(l,i.left,o,n.outerWidth-i.right-i.left,f):Co(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;ya(c.start)&&(r=c.start),l.fullSize?Co(l,r,i.top,f,n.outerHeight-i.bottom-i.top):Co(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var Ut={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Yt(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=XR(t.boxes),l=a.vertical,c=a.horizontal;Te(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,_)=>_.box.options&&_.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);cb(f,Yt(s));const d=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),g=qR(l.concat(c),h);ji(a.fullSize,d,h,g),ji(l,d,h,g),ji(c,d,h,g)&&ji(l,d,h,g),JR(d),bp(a.leftAndTop,d,h,g),d.x+=d.w,d.y+=d.h,bp(a.rightAndBottom,d,h,g),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Te(a.chartArea,p=>{const _=p.box;Object.assign(_,t.chartArea),_.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class ub{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class eO extends ub{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lo="$chartjs",tO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vp=t=>t===null||t==="";function nO(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Lo]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vp(i)){const r=op(t,"width");r!==void 0&&(t.width=r)}if(vp(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=op(t,"height");r!==void 0&&(t.height=r)}return t}const hb=pR?{passive:!0}:!1;function sO(t,e,n){t&&t.addEventListener(e,n,hb)}function iO(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,hb)}function rO(t,e){const n=tO[t.type]||t.type,{x:s,y:i}=Cs(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function xa(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function oO(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||xa(a.addedNodes,s),o=o&&!xa(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function aO(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||xa(a.removedNodes,s),o=o&&!xa(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Vr=new Map;let xp=0;function fb(){const t=window.devicePixelRatio;t!==xp&&(xp=t,Vr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function lO(t,e){Vr.size||window.addEventListener("resize",fb),Vr.set(t,e)}function cO(t){Vr.delete(t),Vr.size||window.removeEventListener("resize",fb)}function uO(t,e,n){const s=t.canvas,i=s&&ch(s);if(!i)return;const r=Uy((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),lO(t,r),o}function zl(t,e,n){n&&n.disconnect(),e==="resize"&&cO(t)}function hO(t,e,n){const s=t.canvas,i=Uy(r=>{t.ctx!==null&&n(rO(r,t))},t);return sO(s,e,i),i}class fO extends ub{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(nO(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Lo])return!1;const s=n[Lo].initial;["height","width"].forEach(r=>{const o=s[r];De(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Lo],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:oO,detach:aO,resize:uO}[n]||hO;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:zl,detach:zl,resize:zl}[n]||iO)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return dR(e,n,s,i)}isAttached(e){const n=e&&ch(e);return!!(n&&n.isConnected)}}function dO(t){return!lh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?eO:fO}let Us=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return $r(this.x)&&$r(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function pO(t,e){const n=t.options.ticks,s=gO(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?_O(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return yO(e,c,r,o/i),c;const u=mO(r,e,i);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(Eo(e,c,u,De(d)?0:a-d,a),h=0,f=o-1;h<f;h++)Eo(e,c,u,r[h],r[h+1]);return Eo(e,c,u,l,De(d)?e.length:l+d),c}return Eo(e,c,u),c}function gO(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function mO(t,e,n){const s=bO(t),i=e.length/n;if(!s)return Math.max(i,1);const r=cA(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function _O(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function yO(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Eo(t,e,n,s,i){const r=pe(s,0),o=Math.min(pe(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function bO(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const vO=t=>t==="left"?"right":t==="right"?"left":t,wp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Cp=(t,e)=>Math.min(e||t,t);function Ep(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function xO(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function wO(t,e){Te(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Bi(t){return t.drawTicks?t.tickLength:0}function Sp(t,e){if(!t.display)return 0;const n=_t(t.font,e),s=Yt(t.padding);return(nt(t.text)?t.text.length:1)*n.lineHeight+s.height}function CO(t,e){return Vs(t,{scale:e,type:"scale"})}function EO(t,e,n){return Vs(t,{tick:n,index:e,type:"tick"})}function SO(t,e,n){let s=sh(t);return(n&&e!=="right"||!n&&e==="right")&&(s=vO(s)),s}function kO(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,d,g;const p=o-i,_=a-r;if(t.isHorizontal()){if(d=dt(s,r,a),ge(n)){const m=Object.keys(n)[0],x=n[m];g=u[m].getPixelForValue(x)+p-e}else n==="center"?g=(c.bottom+c.top)/2+p-e:g=wp(t,n,e);f=a-r}else{if(ge(n)){const m=Object.keys(n)[0],x=n[m];d=u[m].getPixelForValue(x)-_+e}else n==="center"?d=(c.left+c.right)/2-_+e:d=wp(t,n,e);g=dt(s,o,i),h=n==="left"?-Jt:Jt}return{titleX:d,titleY:g,maxWidth:f,rotation:h}}class Ii extends Us{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=cn(e,Number.POSITIVE_INFINITY),n=cn(n,Number.NEGATIVE_INFINITY),s=cn(s,Number.POSITIVE_INFINITY),i=cn(i,Number.NEGATIVE_INFINITY),{min:cn(e,s),max:cn(n,i),minDefined:bt(e),maxDefined:bt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:cn(n,cn(s,n)),max:cn(s,cn(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){We(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jA(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ep(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=pO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){We(this.options.afterUpdate,[this])}beforeSetDimensions(){We(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){We(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),We(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){We(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=We(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){We(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){We(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Cp(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=Vt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:d/(s-1),h+6>a&&(a=d/(s-(e.offset?.5:1)),l=this.maxHeight-Bi(e.grid)-n.padding-Sp(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=dA(Math.min(Math.asin(Vt((u.highest.height+6)/a,-1,1)),Math.asin(Vt(l/c,-1,1))-Math.asin(Vt(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){We(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){We(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Sp(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Bi(r)+l):(e.height=this.maxHeight,e.width=Bi(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=s.padding*2,g=Ps(this.labelRotation),p=Math.cos(g),_=Math.sin(g);if(a){const m=s.mirror?0:_*h.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+m+d)}else{const m=s.mirror?0:p*h.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+m+d)}this._calculatePadding(c,u,_,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=i*e.width,d=s*n.height):(f=s*e.height,d=i*n.width):r==="start"?d=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,d=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){We(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)De(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Ep(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Cp(n,s));let c=0,u=0,h,f,d,g,p,_,m,x,E,w,k;for(h=0;h<n;h+=l){if(g=e[h].label,p=this._resolveTickFontOptions(h),i.font=_=p.string,m=r[_]=r[_]||{data:{},gc:[]},x=p.lineHeight,E=w=0,!De(g)&&!nt(g))E=tp(i,m.data,m.gc,E,g),w=x;else if(nt(g))for(f=0,d=g.length;f<d;++f)k=g[f],!De(k)&&!nt(k)&&(E=tp(i,m.data,m.gc,E,k),w+=x);o.push(E),a.push(w),c=Math.max(E,c),u=Math.max(w,u)}wO(r,n);const A=o.indexOf(c),I=a.indexOf(u),H=$=>({width:o[$]||0,height:a[$]||0});return{first:H(0),last:H(n-1),widest:H(A),highest:H(I),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return mA(this._alignToPixels?ys(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=EO(this.getContext(),e,s))}return this.$context||(this.$context=CO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ps(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Bi(r),d=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,_=p/2,m=function(oe){return ys(s,oe,p)};let x,E,w,k,A,I,H,$,B,V,G,_e;if(o==="top")x=m(this.bottom),I=this.bottom-f,$=x-_,V=m(e.top)+_,_e=e.bottom;else if(o==="bottom")x=m(this.top),V=e.top,_e=m(e.bottom)-_,I=x+_,$=this.top+f;else if(o==="left")x=m(this.right),A=this.right-f,H=x-_,B=m(e.left)+_,G=e.right;else if(o==="right")x=m(this.left),B=e.left,G=m(e.right)-_,A=x+_,H=this.left+f;else if(n==="x"){if(o==="center")x=m((e.top+e.bottom)/2+.5);else if(ge(o)){const oe=Object.keys(o)[0],se=o[oe];x=m(this.chart.scales[oe].getPixelForValue(se))}V=e.top,_e=e.bottom,I=x+_,$=I+f}else if(n==="y"){if(o==="center")x=m((e.left+e.right)/2);else if(ge(o)){const oe=Object.keys(o)[0],se=o[oe];x=m(this.chart.scales[oe].getPixelForValue(se))}A=x-_,H=A-f,B=e.left,G=e.right}const Ge=pe(i.ticks.maxTicksLimit,h),ye=Math.max(1,Math.ceil(h/Ge));for(E=0;E<h;E+=ye){const oe=this.getContext(E),se=r.setContext(oe),ae=a.setContext(oe),He=se.lineWidth,Ke=se.color,qe=ae.dash||[],Le=ae.dashOffset,ft=se.tickWidth,rt=se.tickColor,Mt=se.tickBorderDash||[],Be=se.tickBorderDashOffset;w=xO(this,E,l),w!==void 0&&(k=ys(s,w,He),c?A=H=B=G=k:I=$=V=_e=k,d.push({tx1:A,ty1:I,tx2:H,ty2:$,x1:B,y1:V,x2:G,y2:_e,width:He,color:Ke,borderDash:qe,borderDashOffset:Le,tickWidth:ft,tickColor:rt,tickBorderDash:Mt,tickBorderDashOffset:Be}))}return this._ticksLength=h,this._borderValue=x,d}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=Bi(s.grid),d=f+u,g=h?-u:d,p=-Ps(this.labelRotation),_=[];let m,x,E,w,k,A,I,H,$,B,V,G,_e="middle";if(i==="top")A=this.bottom-g,I=this._getXAxisLabelAlignment();else if(i==="bottom")A=this.top+g,I=this._getXAxisLabelAlignment();else if(i==="left"){const ye=this._getYAxisLabelAlignment(f);I=ye.textAlign,k=ye.x}else if(i==="right"){const ye=this._getYAxisLabelAlignment(f);I=ye.textAlign,k=ye.x}else if(n==="x"){if(i==="center")A=(e.top+e.bottom)/2+d;else if(ge(i)){const ye=Object.keys(i)[0],oe=i[ye];A=this.chart.scales[ye].getPixelForValue(oe)+d}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")k=(e.left+e.right)/2-d;else if(ge(i)){const ye=Object.keys(i)[0],oe=i[ye];k=this.chart.scales[ye].getPixelForValue(oe)}I=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?_e="top":l==="end"&&(_e="bottom"));const Ge=this._getLabelSizes();for(m=0,x=a.length;m<x;++m){E=a[m],w=E.label;const ye=r.setContext(this.getContext(m));H=this.getPixelForTick(m)+r.labelOffset,$=this._resolveTickFontOptions(m),B=$.lineHeight,V=nt(w)?w.length:1;const oe=V/2,se=ye.color,ae=ye.textStrokeColor,He=ye.textStrokeWidth;let Ke=I;o?(k=H,I==="inner"&&(m===x-1?Ke=this.options.reverse?"left":"right":m===0?Ke=this.options.reverse?"right":"left":Ke="center"),i==="top"?c==="near"||p!==0?G=-V*B+B/2:c==="center"?G=-Ge.highest.height/2-oe*B+B:G=-Ge.highest.height+B/2:c==="near"||p!==0?G=B/2:c==="center"?G=Ge.highest.height/2-oe*B:G=Ge.highest.height-V*B,h&&(G*=-1),p!==0&&!ye.showLabelBackdrop&&(k+=B/2*Math.sin(p))):(A=H,G=(1-V)*B/2);let qe;if(ye.showLabelBackdrop){const Le=Yt(ye.backdropPadding),ft=Ge.heights[m],rt=Ge.widths[m];let Mt=G-Le.top,Be=0-Le.left;switch(_e){case"middle":Mt-=ft/2;break;case"bottom":Mt-=ft;break}switch(I){case"center":Be-=rt/2;break;case"right":Be-=rt;break;case"inner":m===x-1?Be-=rt:m>0&&(Be-=rt/2);break}qe={left:Be,top:Mt,width:rt+Le.width,height:ft+Le.height,color:ye.backdropColor}}_.push({label:w,font:$,textOffset:G,options:{rotation:p,color:se,strokeColor:ae,strokeWidth:He,textAlign:Ke,textBaseline:_e,translation:[k,A],backdrop:qe}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ps(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=ys(e,this.left,o)-o/2,u=ys(e,this.right,a)+a/2,h=f=l):(h=ys(e,this.top,o)-o/2,f=ys(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&el(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Br(s,c,0,u,l,a)}i&&tl(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=_t(s.font),o=Yt(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ge(n)?(l+=o.bottom,nt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=kO(this,l,n,a);Br(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:SO(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=pe(e.grid&&e.grid.z,-1),i=pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ii.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return _t(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class So{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;PO(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,TO(e,o,s),this.override&&je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in je[i]&&(delete je[i][s],this.override&&delete Ws[s])}}function TO(t,e,n){const s=Wr(Object.create(null),[n?je.get(n):{},je.get(e),t.defaults]);je.set(e,s),t.defaultRoutes&&IO(e,t.defaultRoutes),t.descriptors&&je.describe(e,t.descriptors)}function IO(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");je.route(r,i,l,a)})}function PO(t){return"id"in t&&"defaults"in t}class AO{constructor(){this.controllers=new So(ab,"datasets",!0),this.elements=new So(Us,"elements"),this.plugins=new So(Object,"plugins"),this.scales=new So(Ii,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Te(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=th(e);We(s["before"+i],[],s),n[e](s),We(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var fn=new AO;class RO{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(We(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=pe(s.options&&s.options.plugins,{}),r=OO(s);return i===!1&&!n?[]:DO(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function OO(t){const e={},n=[],s=Object.keys(fn.plugins.items);for(let r=0;r<s.length;r++)n.push(fn.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function MO(t,e){return!e&&t===!1?null:t===!0?{}:t}function DO(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=MO(s[l],i);c!==null&&r.push({plugin:a,options:NO(t.config,{plugin:a,local:n[l]},c,o)})}return r}function NO(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Bc(t,e){const n=je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function LO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function FO(t,e){return t===e?"_index_":"_value_"}function kp(t){if(t==="x"||t==="y"||t==="r")return t}function WO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Vc(t,...e){if(kp(t))return t;for(const n of e){const s=n.axis||WO(n.position)||t.length>1&&kp(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Tp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function $O(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Tp(t,"x",n[0])||Tp(t,"y",n[0])}return{}}function HO(t,e){const n=Ws[t.type]||{scales:{}},s=e.scales||{},i=Bc(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ge(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Vc(o,a,$O(o,t),je.scales[a.type]),c=FO(l,i),u=n.scales||{};r[o]=cr(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Bc(a,e),u=(Ws[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=LO(h,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),cr(r[d],[{axis:f},s[d],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];cr(a,[je.scales[a.type],je.scale])}),r}function db(t){const e=t.options||(t.options={});e.plugins=pe(e.plugins,{}),e.scales=HO(t,e)}function pb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function BO(t){return t=t||{},t.data=pb(t.data),db(t),t}const Ip=new Map,gb=new Set;function ko(t,e){let n=Ip.get(t);return n||(n=e(),Ip.set(t,n),gb.add(n)),n}const Vi=(t,e,n)=>{const s=_a(e,n);s!==void 0&&t.add(s)};class VO{constructor(e){this._config=BO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),db(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ko(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ko(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ko(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return ko(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Vi(l,e,h))),u.forEach(h=>Vi(l,i,h)),u.forEach(h=>Vi(l,Ws[r]||{},h)),u.forEach(h=>Vi(l,je,h)),u.forEach(h=>Vi(l,Wc,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),gb.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ws[n]||{},je.datasets[n]||{},{type:n},je,Wc]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Pp(this._resolverCache,e,i);let l=o;if(zO(o,n)){r.$shared=!1,s=hs(s)?s():s;const c=this.createResolver(e,s,a);l=xi(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Pp(this._resolverCache,e,s);return ge(n)?xi(r,n,void 0,i):r}}function Pp(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:rh(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const UO=t=>ge(t)&&Object.getOwnPropertyNames(t).some(e=>hs(t[e]));function zO(t,e){const{isScriptable:n,isIndexable:s}=Ky(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(hs(a)||UO(a))||o&&nt(a))return!0}return!1}var jO="4.5.0";const YO=["top","bottom","left","right","chartArea"];function Ap(t,e){return t==="top"||t==="bottom"||YO.indexOf(t)===-1&&e==="x"}function Rp(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Op(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),We(n&&n.onComplete,[t],e)}function GO(t){const e=t.chart,n=e.options.animation;We(n&&n.onProgress,[t],e)}function mb(t){return lh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Fo={},Mp=t=>{const e=mb(t);return Object.values(Fo).filter(n=>n.canvas===e).pop()};function KO(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function qO(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}let il=class{static defaults=je;static instances=Fo;static overrides=Ws;static registry=fn;static version=jO;static getChart=Mp;static register(...e){fn.add(...e),Dp()}static unregister(...e){fn.remove(...e),Dp()}constructor(e,n){const s=this.config=new VO(n),i=mb(e),r=Mp(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||dO(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=eA(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xA(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Fo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}In.listen(this,"complete",Op),In.listen(this,"progress",GO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return De(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return np(this.canvas,this.ctx),this}stop(){return In.stop(this),this}resize(e,n){In.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rp(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),We(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Te(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Vc(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Te(r,o=>{const a=o.options,l=a.id,c=Vc(l,a),u=pe(a.type,o.dtype);(a.position===void 0||Ap(a.position,c)!==Ap(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const f=fn.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),Te(i,(o,a)=>{o||delete s[a]}),Te(s,o=>{Ut.configure(this,o,o.options),Ut.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Rp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Bc(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=fn.getController(a),{datasetElementType:c,dataElementType:u}=je.datasets[a];Object.assign(l,{dataElementType:fn.getElement(u),datasetElementType:c&&fn.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Te(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Te(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Rp("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Te(this.scales,e=>{Ut.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Yd(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;KO(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Yd(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ut.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Te(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,hs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(In.has(this)?this.attached&&!In.running(this)&&In.start(this):(this.draw(),Op({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=ib(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&el(n,i),e.controller.draw(),i&&tl(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Hr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=YR.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Vs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);ya(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),In.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),np(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Fo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Te(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Te(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Te(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!ga(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=oA(e),c=qO(e,this._lastEvent,s,l);s&&(this._lastEvent=null,We(r.onHover,[e,a,this],this),l&&We(r.onClick,[e,a,this],this));const u=!ga(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}};function Dp(){return Te(il.instances,t=>t._plugins.invalidate())}function _b(t,e,n=e){t.lineCap=pe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(pe(n.borderDash,e.borderDash)),t.lineDashOffset=pe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=pe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=pe(n.borderWidth,e.borderWidth),t.strokeStyle=pe(n.borderColor,e.borderColor)}function XO(t,e,n){t.lineTo(n.x,n.y)}function QO(t){return t.stepped?NA:t.tension||t.cubicInterpolationMode==="monotone"?LA:XO}function yb(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function JO(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=yb(i,n,s),u=QO(r);let{move:h=!0,reverse:f}=s||{},d,g,p;for(d=0;d<=c;++d)g=i[(a+(f?c-d:d))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,p,g,f,r.stepped),p=g);return l&&(g=i[(a+(f?c:0))%o],u(t,p,g,f,r.stepped)),!!l}function ZO(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=yb(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,f,d,g,p,_,m;const x=w=>(o+(c?a-w:w))%r,E=()=>{p!==_&&(t.lineTo(u,_),t.lineTo(u,p),t.lineTo(u,m))};for(l&&(d=i[x(0)],t.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=i[x(f)],d.skip)continue;const w=d.x,k=d.y,A=w|0;A===g?(k<p?p=k:k>_&&(_=k),u=(h*u+w)/++h):(E(),t.lineTo(w,k),g=A,h=0,p=_=k),m=k}E()}function Uc(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?ZO:JO}function eM(t){return t.stepped?gR:t.tension||t.cubicInterpolationMode==="monotone"?mR:Es}function tM(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),_b(t,e.options),t.stroke(i)}function nM(t,e,n,s){const{segments:i,options:r}=e,o=Uc(e);for(const a of i)_b(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const sM=typeof Path2D=="function";function iM(t,e,n,s){sM&&!e.options.segment?tM(t,e,n,s):nM(t,e,n,s)}class rl extends Us{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;aR(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wR(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=sb(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=eM(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=r[h],g=r[f];if(d===g){a.push(d);continue}const p=Math.abs((i-d[n])/(g[n]-d[n])),_=l(d,g,p,s.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Uc(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=Uc(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),iM(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Np(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class rM extends Us{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return Np(this,e,"x",n)}inYRange(e,n){return Np(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!Hr(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,$c(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function oM(t,e,n){const s=t.segments,i=t.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=ol(l,c,i);const u=zc(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=sb(e,u);for(const f of h){const d=zc(n,r[f.start],r[f.end],f.loop),g=nb(a,i,d);for(const p of g)o.push({source:p,target:f,start:{[n]:Lp(u,d,"start",Math.max)},end:{[n]:Lp(u,d,"end",Math.min)}})}}return o}function zc(t,e,n,s){if(s)return;let i=e[t],r=n[t];return t==="angle"&&(i=dn(i),r=dn(r)),{property:t,start:i,end:r}}function aM(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=ol(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function ol(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Lp(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function bb(t,e){let n=[],s=!1;return nt(t)?(s=!0,n=t):n=aM(t,e),n.length?new rl({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Fp(t){return t&&t.fill!==!1}function lM(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!bt(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function cM(t,e,n){const s=dM(t);if(ge(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return bt(i)&&Math.floor(i)===i?uM(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function uM(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function hM(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ge(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function fM(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:ge(t)?s=t.value:s=e.getBaseValue(),s}function dM(t){const e=t.options,n=e.fill;let s=pe(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function pM(t){const{scale:e,index:n,line:s}=t,i=[],r=s.segments,o=s.points,a=gM(e,n);a.push(bb({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)mM(i,o[u],a)}return new rl({points:i,options:{}})}function gM(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function mM(t,e,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=_M(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function _M(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if(Js(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:s}}class vb{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:nn},e.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,r=e.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function yM(t){const{chart:e,fill:n,line:s}=t;if(bt(n))return bM(e,n);if(n==="stack")return pM(t);if(n==="shape")return!0;const i=vM(t);return i instanceof vb?i:bb(i,s)}function bM(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function vM(t){return(t.scale||{}).getPointPositionForValue?wM(t):xM(t)}function xM(t){const{scale:e={},fill:n}=t,s=hM(n,e);if(bt(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function wM(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=fM(n,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new vb({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function jl(t,e,n){const s=yM(e),{chart:i,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:d=h}=u||{},g=i.getDatasetMeta(r),p=ib(i,g);s&&o.points.length&&(el(t,n),CM(t,{line:o,target:s,above:f,below:d,area:n,scale:a,axis:l,clip:p}),tl(t))}function CM(t,e){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=r;r!==i&&(c==="x"?(Wp(t,s,o.top),Yl(t,{line:n,target:s,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),Wp(t,s,o.bottom)):c==="y"&&($p(t,s,o.left),Yl(t,{line:n,target:s,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),$p(t,s,o.right),u=i)),Yl(t,{line:n,target:s,color:u,scale:a,property:c,clip:l}),t.restore()}function Wp(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[ol(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function $p(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[ol(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Yl(t,e){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=e,l=oM(n,s,i);for(const{source:c,target:u,start:h,end:f}of l){const{style:{backgroundColor:d=r}={}}=c,g=s!==!0;t.save(),t.fillStyle=d,EM(t,o,a,g&&zc(i,h,f)),t.beginPath();const p=!!n.pathSegment(t,c);let _;if(g){p?t.closePath():Hp(t,s,f,i);const m=!!s.pathSegment(t,u,{move:p,reverse:!0});_=p&&m,_||Hp(t,s,h,i)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function EM(t,e,n,s){const i=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,u-l,h-c),t.clip()}}function Hp(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var SM={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof rl&&(l={visible:t.isDatasetVisible(o),index:o,fill:cM(a,o,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=lM(i,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&jl(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;Fp(r)&&jl(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!Fp(s)||n.drawTime!=="beforeDatasetDraw"||jl(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Bp=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},kM=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Vp extends Us{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=We(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=_t(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Bp(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((g,p)=>{const _=s+n/2+r.measureText(g.text).width;(p===0||c[c.length-1]+_+2*a>o)&&(h+=u,c[c.length-(p>0?0:1)]=0,d+=u,f++),l[p]={left:0,top:d,row:f,width:_,height:i},c[c.length-1]+=_+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,d=0,g=0,p=0;return this.legendItems.forEach((_,m)=>{const{itemWidth:x,itemHeight:E}=TM(s,n,r,_,i);m>0&&d+E+2*a>u&&(h+=f+a,c.push({width:f,height:d}),g+=f+a,p++,f=d=0),l[m]={left:g,top:d,col:p,width:x,height:E},f=Math.max(f,x),d+=E+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=li(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=dt(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=dt(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=dt(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=dt(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;el(e,this),this._draw(),tl(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=je.color,l=li(e.rtl,this.left,this.width),c=_t(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:_}=Bp(o,h),m=function(A,I,H){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const $=pe(H.lineWidth,1);if(i.fillStyle=pe(H.fillStyle,a),i.lineCap=pe(H.lineCap,"butt"),i.lineDashOffset=pe(H.lineDashOffset,0),i.lineJoin=pe(H.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=pe(H.strokeStyle,a),i.setLineDash(pe(H.lineDash,[])),o.usePointStyle){const B={radius:p*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:$},V=l.xPlus(A,g/2),G=I+f;Yy(i,B,V,G,o.pointStyleWidth&&g)}else{const B=I+Math.max((h-p)/2,0),V=l.leftForLtr(A,g),G=dr(H.borderRadius);i.beginPath(),Object.values(G).some(_e=>_e!==0)?Hc(i,{x:V,y:B,w:g,h:p,radius:G}):i.rect(V,B,g,p),i.fill(),$!==0&&i.stroke()}i.restore()},x=function(A,I,H){Br(i,H.text,A,I+_/2,c,{strikethrough:H.hidden,textAlign:l.textAlign(H.textAlign)})},E=this.isHorizontal(),w=this._computeTitleHeight();E?d={x:dt(r,this.left+u,this.right-s[0]),y:this.top+u+w,line:0}:d={x:this.left+u,y:dt(r,this.top+w+u,this.bottom-n[0].height),line:0},Zy(this.ctx,e.textDirection);const k=_+u;this.legendItems.forEach((A,I)=>{i.strokeStyle=A.fontColor,i.fillStyle=A.fontColor;const H=i.measureText(A.text).width,$=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),B=g+f+H;let V=d.x,G=d.y;l.setWidth(this.width),E?I>0&&V+B+u>this.right&&(G=d.y+=k,d.line++,V=d.x=dt(r,this.left+u,this.right-s[d.line])):I>0&&G+k>this.bottom&&(V=d.x=V+n[d.line].width+u,d.line++,G=d.y=dt(r,this.top+w+u,this.bottom-n[d.line].height));const _e=l.x(V);if(m(_e,G,A),V=wA($,V+g+f,E?V+B:this.right,e.rtl),x(l.x(V),G,A),E)d.x+=B+u;else if(typeof A.text!="string"){const Ge=c.lineHeight;d.y+=xb(A,Ge)+u}else d.y+=k}),eb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=_t(n.font),i=Yt(n.padding);if(!n.display)return;const r=li(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=dt(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((p,_)=>Math.max(p,_.height),0);u=c+dt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const d=dt(a,h,h+f);o.textAlign=r.textAlign(sh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Br(o,n.text,d,u,s)}_computeTitleHeight(){const e=this.options.title,n=_t(e.font),s=Yt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Js(e,this.left,this.right)&&Js(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Js(e,i.left,i.left+i.width)&&Js(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!AM(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=kM(i,s);i&&!r&&We(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&We(n.onHover,[e,s,this],this)}else s&&We(n.onClick,[e,s,this],this)}}function TM(t,e,n,s,i){const r=IM(s,t,e,n),o=PM(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function IM(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function PM(t,e,n){let s=t;return typeof e.text!="string"&&(s=xb(e,n)),s}function xb(t,e){const n=t.text?t.text.length:0;return e*n}function AM(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var RM={id:"legend",_element:Vp,start(t,e,n){const s=t.legend=new Vp({ctx:t.ctx,options:n,chart:t});Ut.configure(t,s,n),Ut.addBox(t,s)},stop(t){Ut.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Ut.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Yt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class wb extends Us{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=nt(s.text)?s.text.length:1;this._padding=Yt(s.padding);const r=i*_t(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=dt(a,s,r),h=n+e,c=r-s):(o.position==="left"?(u=s+e,h=dt(a,i,n),l=ct*-.5):(u=r-e,h=dt(a,n,i),l=ct*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=_t(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Br(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:sh(n.align),textBaseline:"middle",translation:[o,a]})}}function OM(t,e){const n=new wb({ctx:t.ctx,options:e,chart:t});Ut.configure(t,n,e),Ut.addBox(t,n),t.titleBlock=n}var MM={id:"title",_element:wb,start(t,e,n){OM(t,n)},stop(t){const e=t.titleBlock;Ut.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Ut.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yi={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Fc(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function un(t,e){return e&&(nt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Pn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function DM(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Up(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=_t(e.bodyFont),c=_t(e.titleFont),u=_t(e.footerFont),h=r.length,f=i.length,d=s.length,g=Yt(e.padding);let p=g.height,_=0,m=s.reduce((w,k)=>w+k.before.length+k.lines.length+k.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=d*w+(m-d)*l.lineHeight+(m-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const E=function(w){_=Math.max(_,n.measureText(w).width+x)};return n.save(),n.font=c.string,Te(t.title,E),n.font=l.string,Te(t.beforeBody.concat(t.afterBody),E),x=e.displayColors?o+2+e.boxPadding:0,Te(s,w=>{Te(w.before,E),Te(w.lines,E),Te(w.after,E)}),x=0,n.font=u.string,Te(t.footer,E),n.restore(),_+=g.width,{width:_,height:p}}function NM(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function LM(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function FM(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),LM(c,t,e,n)&&(c="center"),c}function zp(t,e,n){const s=n.yAlign||e.yAlign||NM(t,n);return{xAlign:n.xAlign||e.xAlign||FM(t,e,n,s),yAlign:s}}function WM(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function $M(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function jp(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=dr(o);let g=WM(e,a);const p=$M(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(h,d)+i),{x:Vt(g,0,s.width-e.width),y:Vt(p,0,s.height-e.height)}}function To(t,e,n){const s=Yt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Yp(t){return un([],Pn(t))}function HM(t,e,n){return Vs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Gp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Cb={beforeTitle:Tn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Tn,beforeBody:Tn,beforeLabel:Tn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return De(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Tn,afterBody:Tn,beforeFooter:Tn,footer:Tn,afterFooter:Tn};function kt(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?Cb[e].call(n,s):i}class Kp extends Us{static positioners=Yi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new rb(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=HM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=kt(s,"beforeTitle",this,e),r=kt(s,"title",this,e),o=kt(s,"afterTitle",this,e);let a=[];return a=un(a,Pn(i)),a=un(a,Pn(r)),a=un(a,Pn(o)),a}getBeforeBody(e,n){return Yp(kt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Te(e,r=>{const o={before:[],lines:[],after:[]},a=Gp(s,r);un(o.before,Pn(kt(a,"beforeLabel",this,r))),un(o.lines,kt(a,"label",this,r)),un(o.after,Pn(kt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Yp(kt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=kt(s,"beforeFooter",this,e),r=kt(s,"footer",this,e),o=kt(s,"afterFooter",this,e);let a=[];return a=un(a,Pn(i)),a=un(a,Pn(r)),a=un(a,Pn(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(DM(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,s))),Te(a,u=>{const h=Gp(e.callbacks,u);i.push(kt(h,"labelColor",this,u)),r.push(kt(h,"labelPointStyle",this,u)),o.push(kt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Yi[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Up(this,s),c=Object.assign({},a,l),u=zp(this.chart,s,c),h=jp(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=dr(a),{x:f,y:d}=e,{width:g,height:p}=n;let _,m,x,E,w,k;return r==="center"?(w=d+p/2,i==="left"?(_=f,m=_-o,E=w+o,k=w-o):(_=f+g,m=_+o,E=w-o,k=w+o),x=_):(i==="left"?m=f+Math.max(l,u)+o:i==="right"?m=f+g-Math.max(c,h)-o:m=this.caretX,r==="top"?(E=d,w=E-o,_=m-o,x=m+o):(E=d+p,w=E+o,_=m+o,x=m-o),k=E),{x1:_,x2:m,x3:x,y1:E,y2:w,y3:k}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=li(s.rtl,this.x,this.width);for(e.x=To(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=_t(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=_t(r.bodyFont),h=To(this,"left",r),f=i.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+d;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(f,c)+c/2,m=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,$c(e,p,_,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,$c(e,p,_,m)}else{e.lineWidth=ge(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(f,c),_=i.leftForLtr(i.xPlus(f,1),c-2),m=dr(o.borderRadius);Object.values(m).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Hc(e,{x:p,y:g,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Hc(e,{x:_,y:g+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(p,g,c,l),e.strokeRect(p,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=_t(s.bodyFont);let f=h.lineHeight,d=0;const g=li(s.rtl,this.x,this.width),p=function(H){n.fillText(H,g.x(e.x+d),e.y+f/2),e.y+=f+r},_=g.textAlign(o);let m,x,E,w,k,A,I;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=To(this,_,s),n.fillStyle=s.bodyColor,Te(this.beforeBody,p),d=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,A=i.length;w<A;++w){for(m=i[w],x=this.labelTextColors[w],n.fillStyle=x,Te(m.before,p),E=m.lines,a&&E.length&&(this._drawColorBox(n,e,w,g,s),f=Math.max(h.lineHeight,l)),k=0,I=E.length;k<I;++k)p(E[k]),f=h.lineHeight;Te(m.after,p)}d=0,f=h.lineHeight,Te(this.afterBody,p),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=li(s.rtl,this.x,this.width);for(e.x=To(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=_t(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:g}=dr(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Yi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Up(this,e),l=Object.assign({},o,this._size),c=zp(n,e,l),u=jp(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Yt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),Zy(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),eb(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!ga(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!ga(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Yi[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}var BM={id:"tooltip",_element:Kp,positioners:Yi,afterInit(t,e,n){n&&(t.tooltip=new Kp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Cb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const VM=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function UM(t,e,n,s){const i=t.indexOf(e);if(i===-1)return VM(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const zM=(t,e)=>t===null?null:Vt(Math.round(t),0,e);function qp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class jM extends Ii{static id="category";static defaults={ticks:{callback:qp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(De(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:UM(s,e,pe(n,e),this._addedLabels),zM(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return qp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function YM(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,d=r||1,g=u-1,{min:p,max:_}=e,m=!De(o),x=!De(a),E=!De(c),w=(_-p)/(h+1);let k=Kd((_-p)/g/d)*d,A,I,H,$;if(k<1e-14&&!m&&!x)return[{value:p},{value:_}];$=Math.ceil(_/k)-Math.floor(p/k),$>g&&(k=Kd($*k/g/d)*d),De(l)||(A=Math.pow(10,l),k=Math.ceil(k*A)/A),i==="ticks"?(I=Math.floor(p/k)*k,H=Math.ceil(_/k)*k):(I=p,H=_),m&&x&&r&&hA((a-o)/r,k/1e3)?($=Math.round(Math.min((a-o)/k,u)),k=(a-o)/$,I=o,H=a):E?(I=m?o:I,H=x?a:H,$=c-1,k=(H-I)/$):($=(H-I)/k,ur($,Math.round($),k/1e3)?$=Math.round($):$=Math.ceil($));const B=Math.max(qd(k),qd(I));A=Math.pow(10,De(l)?B:l),I=Math.round(I*A)/A,H=Math.round(H*A)/A;let V=0;for(m&&(f&&I!==o?(n.push({value:o}),I<o&&V++,ur(Math.round((I+V*k)*A)/A,o,Xp(o,w,t))&&V++):I<o&&V++);V<$;++V){const G=Math.round((I+V*k)*A)/A;if(x&&G>a)break;n.push({value:G})}return x&&f&&H!==a?n.length&&ur(n[n.length-1].value,a,Xp(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!x||H===a)&&n.push({value:H}),n}function Xp(t,e,{horizontal:n,minRotation:s}){const i=Ps(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class GM extends Ii{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return De(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=vi(i),c=vi(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=YM(i,r);return e.bounds==="ticks"&&fA(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return zy(e,this.chart.options.locale,this.options.ticks.format)}}class KM extends GM{static id="linear";static defaults={ticks:{callback:jy.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=bt(e)?e:0,this.max=bt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Ps(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const al={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},It=Object.keys(al);function Qp(t,e){return t-e}function Jp(t,e){if(De(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),bt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&($r(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function Zp(t,e,n,s){const i=It.length;for(let r=It.indexOf(t);r<i-1;++r){const o=al[It[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return It[r]}return It[i-1]}function qM(t,e,n,s,i){for(let r=It.length-1;r>=It.indexOf(n);r--){const o=It[r];if(al[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return It[n?It.indexOf(n):0]}function XM(t){for(let e=It.indexOf(t)+1,n=It.length;e<n;++e)if(al[It[e]].common)return It[e]}function eg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=nh(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function QM(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function tg(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:QM(t,s,i,n)}class ng extends Ii{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new BR._date(e.adapters.date);i.init(n),cr(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Jp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=bt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=bt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=yA(i,r,o);return this._unit=n.unit||(s.autoSkip?Zp(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):qM(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:XM(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),tg(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Vt(n,0,o),s=Vt(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Zp(r.minUnit,n,s,this._getLabelCapacity(n)),a=pe(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=$r(l)||l===!0,u={};let h=n,f,d;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<s;f=+e.add(f,a,o),d++)eg(u,f,g);return(f===s||i.bounds==="ticks"||d===1)&&eg(u,f,g),Object.keys(u).sort(Qp).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return We(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=s[n],d=c&&h&&f&&f.major;return this._adapter.format(e,i||(d?h:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Ps(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,tg(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Jp(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vA(e.sort(Qp))}}function Io(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=As(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=As(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class zD extends ng{static id="timeseries";static defaults=ng.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Io(n,this.min),this._tableRange=Io(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Io(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Io(this._table,s*this._tableRange+this._minPos,!0)}}const Eb={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},JM={ariaLabel:{type:String},ariaDescribedby:{type:String}},ZM={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...Eb,...JM},eD=rm[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Gs(t){return zr(t)?me(t):t}function tD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return zr(e)?new Proxy(t,{}):t}function nD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Sb(t,e){t.labels=e}function kb(t,e,n){const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function sD(t,e){const n={labels:[],datasets:[]};return Sb(n,t.labels),kb(n,t.datasets,e),n}const iD=it({props:ZM,setup(t,e){let{expose:n,slots:s}=e;const i=Je(null),r=Ra(null);n({chart:r});const o=()=>{if(!i.value)return;const{type:c,data:u,options:h,plugins:f,datasetIdKey:d}=t,g=sD(u,d),p=tD(g,u);r.value=new il(i.value,{type:c,data:p,options:{...h},plugins:f})},a=()=>{const c=me(r.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},t.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(t.updateMode)};return Yr(o),Na(a),_n([()=>t.options,()=>t.data],(c,u)=>{let[h,f]=c,[d,g]=u;const p=me(r.value);if(!p)return;let _=!1;if(h){const m=Gs(h),x=Gs(d);m&&m!==x&&(nD(p,m),_=!0)}if(f){const m=Gs(f.labels),x=Gs(g.labels),E=Gs(f.datasets),w=Gs(g.datasets);m!==x&&(Sb(p.config.data,m),_=!0),E&&E!==w&&(kb(p.config.data,E,t.datasetIdKey),_=!0)}_&&Ma(()=>{l(p)})},{deep:!0}),()=>wn("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:i},[wn("p",{},[s.default?s.default():""])])}});function rD(t,e){return il.register(e),it({props:Eb,setup(n,s){let{expose:i}=s;const r=Ra(null),o=a=>{r.value=a?.chart};return i({chart:r}),()=>wn(iD,eD({ref:o},{type:t,...n}))}})}const oD=rD("line",HR),aD={class:"chart-container"},lD={class:"chart-header"},cD={class:"chart-controls"},uD={class:"chart-wrapper"},hD={key:1,class:"no-data-message"},fD={key:0},dD={key:1},pD=it({__name:"WorkoutChart",props:{workouts:{},title:{},type:{}},setup(t){il.register(MM,BM,RM,rl,KM,jM,rM,SM);const e=t,n=Je("bench press"),s=Je(30),i=Je({labels:[],datasets:[]}),r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{display:!0,title:{display:!0,text:"Date"},grid:{color:"#F3F4F6"}},y:{display:!0,title:{display:!0,text:a()},beginAtZero:!0,grid:{color:"#F3F4F6"}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};_n([()=>e.workouts,n],()=>{o()},{deep:!0}),Yr(()=>{o()});const o=()=>{const l=new Date,c=new Date(l.getTime()-s.value*24*60*60*1e3),u=e.workouts.filter(d=>new Date(d.date)>=c),h=[],f=[];for(let d=new Date(c);d<=l;d.setDate(d.getDate()+1)){const g=d.toISOString().split("T")[0];h.push(new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric"}));const p=u.find(m=>m.date===g);let _=0;if(p){const m=p.exercises.find(x=>x.exercise.name.toLowerCase()===n.value.toLowerCase());m&&(_=Math.max(...m.sets.map(x=>x.weight||0)))}f.push(_)}i.value={labels:h,datasets:[{label:`Weight Progression for ${n.value}`,data:f,borderColor:"#2563EB",backgroundColor:"rgba(37, 99, 235, 0.1)",borderWidth:2,fill:!0,tension:.4,pointBackgroundColor:"#2563EB",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]}};function a(){return"Weight (lbs/kg)"}return(l,c)=>(J(),ie("div",aD,[L("div",lD,[L("h3",null,ue(l.title),1),L("div",cD,[Ds(L("select",{"onUpdate:modelValue":c[0]||(c[0]=u=>n.value=u),onChange:o,class:"exercise-select"},c[2]||(c[2]=[L("option",{value:""},"Select Exercise",-1),L("option",{value:"bench press"},"Bench Press",-1),L("option",{value:"deadlifts"},"Deadlift",-1)]),544),[[Go,n.value]]),Ds(L("select",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),onChange:o,class:"period-select"},c[3]||(c[3]=[L("option",{value:"7"},"Last 7 days",-1),L("option",{value:"30"},"Last 30 days",-1),L("option",{value:"90"},"Last 90 days",-1)]),544),[[Go,s.value]])])]),L("div",uD,[n.value&&i.value.datasets.length>0?(J(),yn(Q(oD),{key:0,data:i.value,options:r},null,8,["data"])):(J(),ie("div",hD,[n.value?(J(),ie("p",dD,"No data available for the selected exercise and period")):(J(),ie("p",fD,"Please select an exercise to view progression"))]))])]))}}),Gl=rn(pD,[["__scopeId","data-v-e5a68211"]]),gD={class:"add-workout-button"},mD={class:"modal-content"},_D={class:"modal-header"},yD={class:"modal-body"},bD={class:"input-section"},vD=["disabled"],xD=it({__name:"AddWorkoutButton",setup(t){const e=Ry(),n=Je(!1),s=Je(""),i=()=>{n.value=!0},r=()=>{n.value=!1,s.value=""},o=()=>{a.value&&(n.value=!1,e.push(`/my-workout-tracker/workout/${s.value}`))},a=we(()=>{if(!/^\d{4}-\d{2}-\d{2}$/.test(s.value))return!1;const h=new Date(s.value),f=new Date;return f.setHours(0,0,0,0),h.toISOString().split("T")[0]===s.value&&h<=f}),l=u=>{u.target===u.currentTarget&&r()},c=u=>{u.key==="Escape"&&r()};return(u,h)=>(J(),ie("div",gD,[L("button",{onClick:i,class:"add-workout-btn"},[Z(Q(qo),{size:18}),h[1]||(h[1]=Et(" Add Past Workout ",-1))]),(J(),yn(yv,{to:"body"},[n.value?(J(),ie("div",{key:0,class:"modal-overlay",onClick:l,onKeydown:c,tabindex:"-1"},[L("div",mD,[L("div",_D,[h[2]||(h[2]=L("h3",null,"Select a Date",-1)),L("button",{onClick:r,class:"close-button"},[Z(Q(nx),{size:20})])]),L("div",yD,[h[3]||(h[3]=L("p",{class:"modal-description"}," Write a date to add a workout for that day. ",-1)),L("div",bD,[Ds(L("input",{"onUpdate:modelValue":h[0]||(h[0]=f=>s.value=f),type:"text",placeholder:"YYYY-MM-DD (e.g., 2025-01-01)",class:"date-input"},null,512),[[oc,s.value]]),L("button",{onClick:o,disabled:!a.value,class:"add-date-btn"}," Add Workout ",8,vD)])])])],32)):Wn("",!0)]))]))}}),wD=rn(xD,[["__scopeId","data-v-59e44e87"]]),CD={class:"history-page"},ED={class:"history-header"},SD={class:"header-actions"},kD={key:1,class:"error-message"},TD={key:2,class:"history-content"},ID={class:"charts-section"},PD={class:"charts-row"},AD={key:3,class:"empty-history"},RD=it({__name:"HistoryPage",setup(t){const e=async()=>{const n=await Dy.exportData(),s=new Blob([n],{type:"application/json"}),i=document.createElement("a");i.href=URL.createObjectURL(s),i.download=`workout-history-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(i.href)};return(n,s)=>{const i=Gr("router-link");return J(),ie("div",CD,[L("header",ED,[s[1]||(s[1]=L("div",{class:"header-content"},[L("h1",null,"Workout History"),L("p",null,"Track your progress and achievements")],-1)),L("div",SD,[Z(wD),L("button",{onClick:e,class:"export-btn"},[Z(Q(J0),{size:18}),s[0]||(s[0]=Et(" Export Data ",-1))])])]),Q(Dr)?(J(),yn(My,{key:0})):Q(pa)?(J(),ie("p",kD," An error occurred while fetching workouts. Please try again later. ")):Q(gn).length>0?(J(),ie("div",TD,[L("div",ID,[Z(Gl,{workouts:Q(gn),title:"Workout Volume Over Time",type:"volume"},null,8,["workouts"]),L("div",PD,[Z(Gl,{workouts:Q(gn),title:"Exercise Frequency",type:"frequency"},null,8,["workouts"]),Z(Gl,{workouts:Q(gn),title:"Total Sets Progress",type:"progress"},null,8,["workouts"])])]),Z(Oy,{workouts:Q(gn)},null,8,["workouts"])])):(J(),ie("div",AD,[Z(Q(tx),{size:64,class:"empty-icon"}),s[3]||(s[3]=L("h2",null,"No Workout History Yet",-1)),s[4]||(s[4]=L("p",null,"Start tracking your workouts to see your progress over time.",-1)),Z(i,{to:"//my-workout-tracker",class:"start-tracking-btn"},{default:Dn(()=>s[2]||(s[2]=[Et(" Start Your First Workout ",-1)])),_:1,__:[2]})]))])}}}),OD=rn(RD,[["__scopeId","data-v-61d2e676"]]),MD=[{path:"/my-workout-tracker",name:"Dashboard",component:$I},{path:"/my-workout-tracker/workout/:date?",name:"Workout",component:RP,props:!0},{path:"/my-workout-tracker/history",name:"History",component:OD}],DD=cI({history:WT(),routes:MD});var ND="firebase",LD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(ND,LD,"app");const FD={apiKey:"AIzaSyCyWR3hKORNvQz7zLh-MmrFIZl3ytFOHIc",authDomain:"auth-test-7ba42.firebaseapp.com",databaseURL:"https://auth-test-7ba42.firebaseio.com",projectId:"auth-test-7ba42",storageBucket:"auth-test-7ba42.firebasestorage.app",messagingSenderId:"678059289463",appId:"1:678059289463:web:6c341671ac83c81f4d0f72"},WD={dashboard:"Dashboard",workout:"Workout",history:"History"},$D={title:"Recent Workouts",exercise:"exercise | { count } exercises",set:"set | { count } sets"},HD={nav:WD,workout:$D,"set-tracker":{set:"Set",reps:"Reps",weight:"Weight (kg)","select-reps":"Select reps","select-weights":"Select weights","completed-sets":"Completed Sets: { completed }/{ total }","duplicate-set":"Duplicate Last Set","add-set":"Add Another Set"}},BD=Yw({locale:"en",fallbackLocale:"en",messages:{en:HD}});Gm(FD);const hh=V0(aT);hh.use(DD);hh.use(BD);hh.mount("#app");
