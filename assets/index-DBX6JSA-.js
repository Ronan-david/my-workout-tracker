(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Xc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Re={},oi=[],mn=()=>{},zy=()=>!1,xa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Qc=t=>t.startsWith("onUpdate:"),Ct=Object.assign,Jc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jy=Object.prototype.hasOwnProperty,Te=(t,e)=>jy.call(t,e),Z=Array.isArray,ai=t=>qr(t)==="[object Map]",Ca=t=>qr(t)==="[object Set]",wh=t=>qr(t)==="[object Date]",oe=t=>typeof t=="function",nt=t=>typeof t=="string",vn=t=>typeof t=="symbol",We=t=>t!==null&&typeof t=="object",_g=t=>(We(t)||oe(t))&&oe(t.then)&&oe(t.catch),bg=Object.prototype.toString,qr=t=>bg.call(t),Yy=t=>qr(t).slice(8,-1),yg=t=>qr(t)==="[object Object]",Zc=t=>nt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ji=Xc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ea=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Gy=/-(\w)/g,qt=Ea(t=>t.replace(Gy,(e,n)=>n?n.toUpperCase():"")),Ky=/\B([A-Z])/g,Ks=Ea(t=>t.replace(Ky,"-$1").toLowerCase()),Sa=Ea(t=>t.charAt(0).toUpperCase()+t.slice(1)),al=Ea(t=>t?`on${Sa(t)}`:""),rs=(t,e)=>!Object.is(t,e),Oo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ql=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},vg=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let kh;const wa=()=>kh||(kh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ka(t){if(Z(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=nt(s)?Jy(s):ka(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(nt(t)||We(t))return t}const qy=/;(?![^(]*\))/g,Xy=/:([^]+)/,Qy=/\/\*[^]*?\*\//g;function Jy(t){const e={};return t.replace(Qy,"").split(qy).forEach(n=>{if(n){const s=n.split(Xy);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function $s(t){let e="";if(nt(t))e=t;else if(Z(t))for(let n=0;n<t.length;n++){const s=$s(t[n]);s&&(e+=s+" ")}else if(We(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Zy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ev=Xc(Zy);function xg(t){return!!t||t===""}function tv(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ta(t[s],e[s]);return n}function Ta(t,e){if(t===e)return!0;let n=wh(t),s=wh(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=vn(t),s=vn(e),n||s)return t===e;if(n=Z(t),s=Z(e),n||s)return n&&s?tv(t,e):!1;if(n=We(t),s=We(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ta(t[o],e[o]))return!1}}return String(t)===String(e)}function nv(t,e){return t.findIndex(n=>Ta(n,e))}const Cg=t=>!!(t&&t.__v_isRef===!0),ye=t=>nt(t)?t:t==null?"":Z(t)||We(t)&&(t.toString===bg||!oe(t.toString))?Cg(t)?ye(t.value):JSON.stringify(t,Eg,2):String(t),Eg=(t,e)=>Cg(e)?Eg(t,e.value):ai(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[ll(s,r)+" =>"]=i,n),{})}:Ca(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ll(n))}:vn(e)?ll(e):We(e)&&!Z(e)&&!yg(e)?String(e):e,ll=(t,e="")=>{var n;return vn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let At;class Sg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=At,!e&&At&&(this.index=(At.scopes||(At.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=At;try{return At=this,e()}finally{At=n}}}on(){++this._on===1&&(this.prevScope=At,At=this)}off(){this._on>0&&--this._on===0&&(At=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function sv(t){return new Sg(t)}function iv(){return At}let De;const cl=new WeakSet;class wg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,At&&At.active&&At.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,cl.has(this)&&(cl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Tg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Th(this),Ig(this);const e=De,n=nn;De=this,nn=!0;try{return this.fn()}finally{Pg(this),De=e,nn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)nu(e);this.deps=this.depsTail=void 0,Th(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?cl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jl(this)&&this.run()}get dirty(){return Jl(this)}}let kg=0,Zi,er;function Tg(t,e=!1){if(t.flags|=8,e){t.next=er,er=t;return}t.next=Zi,Zi=t}function eu(){kg++}function tu(){if(--kg>0)return;if(er){let e=er;for(er=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Zi;){let e=Zi;for(Zi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Ig(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Pg(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),nu(s),rv(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Jl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Mg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Mg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===_r)||(t.globalVersion=_r,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Jl(t))))return;t.flags|=2;const e=t.dep,n=De,s=nn;De=t,nn=!0;try{Ig(t);const i=t.fn(t._value);(e.version===0||rs(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{De=n,nn=s,Pg(t),t.flags&=-3}}function nu(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)nu(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function rv(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let nn=!0;const Ag=[];function $n(){Ag.push(nn),nn=!1}function Vn(){const t=Ag.pop();nn=t===void 0?!0:t}function Th(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=De;De=void 0;try{e()}finally{De=n}}}let _r=0;class ov{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class su{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!De||!nn||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new ov(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,Rg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=s)}return n}trigger(e){this.version++,_r++,this.notify(e)}notify(e){eu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{tu()}}}function Rg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Rg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Zl=new WeakMap,Fs=Symbol(""),ec=Symbol(""),br=Symbol("");function bt(t,e,n){if(nn&&De){let s=Zl.get(t);s||Zl.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new su),i.map=s,i.key=n),i.track()}}function An(t,e,n,s,i,r){const o=Zl.get(t);if(!o){_r++;return}const a=l=>{l&&l.trigger()};if(eu(),e==="clear")o.forEach(a);else{const l=Z(t),c=l&&Zc(n);if(l&&n==="length"){const u=Number(s);o.forEach((h,f)=>{(f==="length"||f===br||!vn(f)&&f>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(br)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Fs)),ai(t)&&a(o.get(ec)));break;case"delete":l||(a(o.get(Fs)),ai(t)&&a(o.get(ec)));break;case"set":ai(t)&&a(o.get(Fs));break}}tu()}function Js(t){const e=ke(t);return e===t?e:(bt(e,"iterate",br),Kt(t)?e:e.map(dt))}function Ia(t){return bt(t=ke(t),"iterate",br),t}const av={__proto__:null,[Symbol.iterator](){return ul(this,Symbol.iterator,dt)},concat(...t){return Js(this).concat(...t.map(e=>Z(e)?Js(e):e))},entries(){return ul(this,"entries",t=>(t[1]=dt(t[1]),t))},every(t,e){return En(this,"every",t,e,void 0,arguments)},filter(t,e){return En(this,"filter",t,e,n=>n.map(dt),arguments)},find(t,e){return En(this,"find",t,e,dt,arguments)},findIndex(t,e){return En(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return En(this,"findLast",t,e,dt,arguments)},findLastIndex(t,e){return En(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return En(this,"forEach",t,e,void 0,arguments)},includes(...t){return hl(this,"includes",t)},indexOf(...t){return hl(this,"indexOf",t)},join(t){return Js(this).join(t)},lastIndexOf(...t){return hl(this,"lastIndexOf",t)},map(t,e){return En(this,"map",t,e,void 0,arguments)},pop(){return Di(this,"pop")},push(...t){return Di(this,"push",t)},reduce(t,...e){return Ih(this,"reduce",t,e)},reduceRight(t,...e){return Ih(this,"reduceRight",t,e)},shift(){return Di(this,"shift")},some(t,e){return En(this,"some",t,e,void 0,arguments)},splice(...t){return Di(this,"splice",t)},toReversed(){return Js(this).toReversed()},toSorted(t){return Js(this).toSorted(t)},toSpliced(...t){return Js(this).toSpliced(...t)},unshift(...t){return Di(this,"unshift",t)},values(){return ul(this,"values",dt)}};function ul(t,e,n){const s=Ia(t),i=s[e]();return s!==t&&!Kt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const lv=Array.prototype;function En(t,e,n,s,i,r){const o=Ia(t),a=o!==t&&!Kt(t),l=o[e];if(l!==lv[e]){const h=l.apply(t,r);return a?dt(h):h}let c=n;o!==t&&(a?c=function(h,f){return n.call(this,dt(h),f,t)}:n.length>2&&(c=function(h,f){return n.call(this,h,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Ih(t,e,n,s){const i=Ia(t);let r=n;return i!==t&&(Kt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,dt(a),l,t)}),i[e](r,...s)}function hl(t,e,n){const s=ke(t);bt(s,"iterate",br);const i=s[e](...n);return(i===-1||i===!1)&&ou(n[0])?(n[0]=ke(n[0]),s[e](...n)):i}function Di(t,e,n=[]){$n(),eu();const s=ke(t)[e].apply(t,n);return tu(),Vn(),s}const cv=Xc("__proto__,__v_isRef,__isVue"),Og=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vn));function uv(t){vn(t)||(t=String(t));const e=ke(this);return bt(e,"has",t),e.hasOwnProperty(t)}class Dg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?vv:Wg:r?Fg:Ng).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Z(e);if(!i){let l;if(o&&(l=av[n]))return l;if(n==="hasOwnProperty")return uv}const a=Reflect.get(e,n,pt(e)?e:s);return(vn(n)?Og.has(n):cv(n))||(i||bt(e,"get",n),r)?a:pt(a)?o&&Zc(n)?a:a.value:We(a)?i?Hg(a):Pa(a):a}}class Lg extends Dg{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=hs(r);if(!Kt(s)&&!hs(s)&&(r=ke(r),s=ke(s)),!Z(e)&&pt(r)&&!pt(s))return l?!1:(r.value=s,!0)}const o=Z(e)&&Zc(n)?Number(n)<e.length:Te(e,n),a=Reflect.set(e,n,s,pt(e)?e:i);return e===ke(i)&&(o?rs(s,r)&&An(e,"set",n,s):An(e,"add",n,s)),a}deleteProperty(e,n){const s=Te(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&An(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!vn(n)||!Og.has(n))&&bt(e,"has",n),s}ownKeys(e){return bt(e,"iterate",Z(e)?"length":Fs),Reflect.ownKeys(e)}}class hv extends Dg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const fv=new Lg,dv=new hv,pv=new Lg(!0);const tc=t=>t,co=t=>Reflect.getPrototypeOf(t);function gv(t,e,n){return function(...s){const i=this.__v_raw,r=ke(i),o=ai(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?tc:e?$o:dt;return!e&&bt(r,"iterate",l?ec:Fs),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function uo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mv(t,e){const n={get(i){const r=this.__v_raw,o=ke(r),a=ke(i);t||(rs(i,a)&&bt(o,"get",i),bt(o,"get",a));const{has:l}=co(o),c=e?tc:t?$o:dt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&bt(ke(i),"iterate",Fs),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=ke(r),a=ke(i);return t||(rs(i,a)&&bt(o,"has",i),bt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=ke(a),c=e?tc:t?$o:dt;return!t&&bt(l,"iterate",Fs),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return Ct(n,t?{add:uo("add"),set:uo("set"),delete:uo("delete"),clear:uo("clear")}:{add(i){!e&&!Kt(i)&&!hs(i)&&(i=ke(i));const r=ke(this);return co(r).has.call(r,i)||(r.add(i),An(r,"add",i,i)),this},set(i,r){!e&&!Kt(r)&&!hs(r)&&(r=ke(r));const o=ke(this),{has:a,get:l}=co(o);let c=a.call(o,i);c||(i=ke(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?rs(r,u)&&An(o,"set",i,r):An(o,"add",i,r),this},delete(i){const r=ke(this),{has:o,get:a}=co(r);let l=o.call(r,i);l||(i=ke(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&An(r,"delete",i,void 0),c},clear(){const i=ke(this),r=i.size!==0,o=i.clear();return r&&An(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=gv(i,t,e)}),n}function iu(t,e){const n=mv(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Te(n,i)&&i in s?n:s,i,r)}const _v={get:iu(!1,!1)},bv={get:iu(!1,!0)},yv={get:iu(!0,!1)};const Ng=new WeakMap,Fg=new WeakMap,Wg=new WeakMap,vv=new WeakMap;function xv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cv(t){return t.__v_skip||!Object.isExtensible(t)?0:xv(Yy(t))}function Pa(t){return hs(t)?t:ru(t,!1,fv,_v,Ng)}function Bg(t){return ru(t,!1,pv,bv,Fg)}function Hg(t){return ru(t,!0,dv,yv,Wg)}function ru(t,e,n,s,i){if(!We(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=Cv(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function li(t){return hs(t)?li(t.__v_raw):!!(t&&t.__v_isReactive)}function hs(t){return!!(t&&t.__v_isReadonly)}function Kt(t){return!!(t&&t.__v_isShallow)}function ou(t){return t?!!t.__v_raw:!1}function ke(t){const e=t&&t.__v_raw;return e?ke(e):t}function Ev(t){return!Te(t,"__v_skip")&&Object.isExtensible(t)&&Ql(t,"__v_skip",!0),t}const dt=t=>We(t)?Pa(t):t,$o=t=>We(t)?Hg(t):t;function pt(t){return t?t.__v_isRef===!0:!1}function kt(t){return Vg(t,!1)}function $g(t){return Vg(t,!0)}function Vg(t,e){return pt(t)?t:new Sv(t,e)}class Sv{constructor(e,n){this.dep=new su,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ke(e),this._value=n?e:dt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Kt(e)||hs(e);e=s?e:ke(e),rs(e,n)&&(this._rawValue=e,this._value=s?e:dt(e),this.dep.trigger())}}function be(t){return pt(t)?t.value:t}const wv={get:(t,e,n)=>e==="__v_raw"?t:be(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return pt(i)&&!pt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Ug(t){return li(t)?t:new Proxy(t,wv)}class kv{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new su(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_r-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return Tg(this,!0),!0}get value(){const e=this.dep.track();return Mg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Tv(t,e,n=!1){let s,i;return oe(t)?s=t:(s=t.get,i=t.set),new kv(s,i,n)}const ho={},Vo=new WeakMap;let Ps;function Iv(t,e=!1,n=Ps){if(n){let s=Vo.get(n);s||Vo.set(n,s=[]),s.push(t)}}function Pv(t,e,n=Re){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=v=>i?v:Kt(v)||i===!1||i===0?Rn(v,1):Rn(v);let u,h,f,d,p=!1,g=!1;if(pt(t)?(h=()=>t.value,p=Kt(t)):li(t)?(h=()=>c(t),p=!0):Z(t)?(g=!0,p=t.some(v=>li(v)||Kt(v)),h=()=>t.map(v=>{if(pt(v))return v.value;if(li(v))return c(v);if(oe(v))return l?l(v,2):v()})):oe(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){$n();try{f()}finally{Vn()}}const v=Ps;Ps=u;try{return l?l(t,3,[d]):t(d)}finally{Ps=v}}:h=mn,e&&i){const v=h,w=i===!0?1/0:i;h=()=>Rn(v(),w)}const _=iv(),m=()=>{u.stop(),_&&_.active&&Jc(_.effects,u)};if(r&&e){const v=e;e=(...w)=>{v(...w),m()}}let b=g?new Array(t.length).fill(ho):ho;const E=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const w=u.run();if(i||p||(g?w.some((M,k)=>rs(M,b[k])):rs(w,b))){f&&f();const M=Ps;Ps=u;try{const k=[w,b===ho?void 0:g&&b[0]===ho?[]:b,d];b=w,l?l(e,3,k):e(...k)}finally{Ps=M}}}else u.run()};return a&&a(E),u=new wg(h),u.scheduler=o?()=>o(E,!1):E,d=v=>Iv(v,!1,u),f=u.onStop=()=>{const v=Vo.get(u);if(v){if(l)l(v,4);else for(const w of v)w();Vo.delete(u)}},e?s?E(!0):b=u.run():o?o(E.bind(null,!0),!0):u.run(),m.pause=u.pause.bind(u),m.resume=u.resume.bind(u),m.stop=m,m}function Rn(t,e=1/0,n){if(e<=0||!We(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,pt(t))Rn(t.value,e,n);else if(Z(t))for(let s=0;s<t.length;s++)Rn(t[s],e,n);else if(Ca(t)||ai(t))t.forEach(s=>{Rn(s,e,n)});else if(yg(t)){for(const s in t)Rn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Rn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xr(t,e,n,s){try{return s?t(...s):t()}catch(i){Ma(i,e,n)}}function xn(t,e,n,s){if(oe(t)){const i=Xr(t,e,n,s);return i&&_g(i)&&i.catch(r=>{Ma(r,e,n)}),i}if(Z(t)){const i=[];for(let r=0;r<t.length;r++)i.push(xn(t[r],e,n,s));return i}}function Ma(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Re;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(r){$n(),Xr(r,null,10,[t,l,c]),Vn();return}}Mv(t,n,i,s,o)}function Mv(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Tt=[];let fn=-1;const ci=[];let Jn=null,ni=0;const zg=Promise.resolve();let Uo=null;function Aa(t){const e=Uo||zg;return t?e.then(this?t.bind(this):t):e}function Av(t){let e=fn+1,n=Tt.length;for(;e<n;){const s=e+n>>>1,i=Tt[s],r=yr(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function au(t){if(!(t.flags&1)){const e=yr(t),n=Tt[Tt.length-1];!n||!(t.flags&2)&&e>=yr(n)?Tt.push(t):Tt.splice(Av(e),0,t),t.flags|=1,jg()}}function jg(){Uo||(Uo=zg.then(Gg))}function Rv(t){Z(t)?ci.push(...t):Jn&&t.id===-1?Jn.splice(ni+1,0,t):t.flags&1||(ci.push(t),t.flags|=1),jg()}function Ph(t,e,n=fn+1){for(;n<Tt.length;n++){const s=Tt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Tt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Yg(t){if(ci.length){const e=[...new Set(ci)].sort((n,s)=>yr(n)-yr(s));if(ci.length=0,Jn){Jn.push(...e);return}for(Jn=e,ni=0;ni<Jn.length;ni++){const n=Jn[ni];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Jn=null,ni=0}}const yr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Gg(t){try{for(fn=0;fn<Tt.length;fn++){const e=Tt[fn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Xr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;fn<Tt.length;fn++){const e=Tt[fn];e&&(e.flags&=-2)}fn=-1,Tt.length=0,Yg(),Uo=null,(Tt.length||ci.length)&&Gg()}}let $t=null,Kg=null;function zo(t){const e=$t;return $t=t,Kg=t&&t.type.__scopeId||null,e}function ts(t,e=$t,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Bh(-1);const r=zo(e);let o;try{o=t(...i)}finally{zo(r),s._d&&Bh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function vr(t,e){if($t===null)return t;const n=La($t),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Re]=e[i];r&&(oe(r)&&(r={mounted:r,updated:r}),r.deep&&Rn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Es(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&($n(),xn(l,n,8,[t.el,a,t,e]),Vn())}}const Ov=Symbol("_vte"),Dv=t=>t.__isTeleport;function lu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,lu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Pt(t,e){return oe(t)?Ct({name:t.name},e,{setup:t}):t}function qg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function tr(t,e,n,s,i=!1){if(Z(t)){t.forEach((p,g)=>tr(p,e&&(Z(e)?e[g]:e),n,s,i));return}if(nr(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&tr(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?La(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Re?a.refs={}:a.refs,h=a.setupState,f=ke(h),d=h===Re?()=>!1:p=>Te(f,p);if(c!=null&&c!==l&&(nt(c)?(u[c]=null,d(c)&&(h[c]=null)):pt(c)&&(c.value=null)),oe(l))Xr(l,a,12,[o,u]);else{const p=nt(l),g=pt(l);if(p||g){const _=()=>{if(t.f){const m=p?d(l)?h[l]:u[l]:l.value;i?Z(m)&&Jc(m,r):Z(m)?m.includes(r)||m.push(r):p?(u[l]=[r],d(l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,d(l)&&(h[l]=o)):g&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,Bt(_,n)):_()}}}wa().requestIdleCallback;wa().cancelIdleCallback;const nr=t=>!!t.type.__asyncLoader,Xg=t=>t.type.__isKeepAlive;function Lv(t,e){Qg(t,"a",e)}function Nv(t,e){Qg(t,"da",e)}function Qg(t,e,n=vt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ra(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Xg(i.parent.vnode)&&Fv(s,e,n,i),i=i.parent}}function Fv(t,e,n,s){const i=Ra(e,t,s,!0);cu(()=>{Jc(s[e],i)},n)}function Ra(t,e,n=vt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{$n();const a=Zr(n),l=xn(e,n,t,o);return a(),Vn(),l});return s?i.unshift(r):i.push(r),r}}const jn=t=>(e,n=vt)=>{(!Er||t==="sp")&&Ra(t,(...s)=>e(...s),n)},Wv=jn("bm"),Oa=jn("m"),Bv=jn("bu"),Hv=jn("u"),$v=jn("bum"),cu=jn("um"),Vv=jn("sp"),Uv=jn("rtg"),zv=jn("rtc");function jv(t,e=vt){Ra("ec",t,e)}const Yv="components";function Qr(t,e){return Kv(Yv,t,!0,e)||t}const Gv=Symbol.for("v-ndc");function Kv(t,e,n=!0,s=!1){const i=$t||vt;if(i){const r=i.type;{const a=D0(r,!1);if(a&&(a===e||a===qt(e)||a===Sa(qt(e))))return r}const o=Mh(i[t]||r[t],e)||Mh(i.appContext[t],e);return!o&&s?r:o}}function Mh(t,e){return t&&(t[e]||t[qt(e)]||t[Sa(qt(e))])}function _n(t,e,n,s){let i;const r=n,o=Z(t);if(o||nt(t)){const a=o&&li(t);let l=!1,c=!1;a&&(l=!Kt(t),c=hs(t),t=Ia(t)),i=new Array(t.length);for(let u=0,h=t.length;u<h;u++)i[u]=e(l?c?$o(dt(t[u])):dt(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(We(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}const nc=t=>t?_m(t)?La(t):nc(t.parent):null,sr=Ct(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>nc(t.parent),$root:t=>nc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Zg(t),$forceUpdate:t=>t.f||(t.f=()=>{au(t.update)}),$nextTick:t=>t.n||(t.n=Aa.bind(t.proxy)),$watch:t=>g0.bind(t)}),fl=(t,e)=>t!==Re&&!t.__isScriptSetup&&Te(t,e),qv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(fl(s,e))return o[e]=1,s[e];if(i!==Re&&Te(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Te(c,e))return o[e]=3,r[e];if(n!==Re&&Te(n,e))return o[e]=4,n[e];sc&&(o[e]=0)}}const u=sr[e];let h,f;if(u)return e==="$attrs"&&bt(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Re&&Te(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Te(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return fl(i,e)?(i[e]=n,!0):s!==Re&&Te(s,e)?(s[e]=n,!0):Te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Re&&Te(t,o)||fl(e,o)||(a=r[0])&&Te(a,o)||Te(s,o)||Te(sr,o)||Te(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ah(t){return Z(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let sc=!0;function Xv(t){const e=Zg(t),n=t.proxy,s=t.ctx;sc=!1,e.beforeCreate&&Rh(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:_,beforeDestroy:m,beforeUnmount:b,destroyed:E,unmounted:v,render:w,renderTracked:M,renderTriggered:k,errorCaptured:O,serverPrefetch:D,expose:$,inheritAttrs:G,components:K,directives:_e,filters:Ye}=e;if(c&&Qv(c,s,null),o)for(const Q in o){const ne=o[Q];oe(ne)&&(s[Q]=ne.bind(n))}if(i){const Q=i.call(n,n);We(Q)&&(t.data=Pa(Q))}if(sc=!0,r)for(const Q in r){const ne=r[Q],pe=oe(ne)?ne.bind(n,n):oe(ne.get)?ne.get.bind(n,n):mn,Ze=!oe(ne)&&oe(ne.set)?ne.set.bind(n):mn,et=Me({get:pe,set:Ze});Object.defineProperty(s,Q,{enumerable:!0,configurable:!0,get:()=>et.value,set:Be=>et.value=Be})}if(a)for(const Q in a)Jg(a[Q],s,n,Q);if(l){const Q=oe(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(ne=>{Do(ne,Q[ne])})}u&&Rh(u,t,"c");function te(Q,ne){Z(ne)?ne.forEach(pe=>Q(pe.bind(n))):ne&&Q(ne.bind(n))}if(te(Wv,h),te(Oa,f),te(Bv,d),te(Hv,p),te(Lv,g),te(Nv,_),te(jv,O),te(zv,M),te(Uv,k),te($v,b),te(cu,v),te(Vv,D),Z($))if($.length){const Q=t.exposed||(t.exposed={});$.forEach(ne=>{Object.defineProperty(Q,ne,{get:()=>n[ne],set:pe=>n[ne]=pe,enumerable:!0})})}else t.exposed||(t.exposed={});w&&t.render===mn&&(t.render=w),G!=null&&(t.inheritAttrs=G),K&&(t.components=K),_e&&(t.directives=_e),D&&qg(t)}function Qv(t,e,n=mn){Z(t)&&(t=ic(t));for(const s in t){const i=t[s];let r;We(i)?"default"in i?r=sn(i.from||s,i.default,!0):r=sn(i.from||s):r=sn(i),pt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Rh(t,e,n){xn(Z(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Jg(t,e,n,s){let i=s.includes(".")?fm(n,s):()=>n[s];if(nt(t)){const r=e[t];oe(r)&&Bn(i,r)}else if(oe(t))Bn(i,t.bind(n));else if(We(t))if(Z(t))t.forEach(r=>Jg(r,e,n,s));else{const r=oe(t.handler)?t.handler.bind(n):e[t.handler];oe(r)&&Bn(i,r,t)}}function Zg(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>jo(l,c,o,!0)),jo(l,e,o)),We(e)&&r.set(e,l),l}function jo(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&jo(t,r,n,!0),i&&i.forEach(o=>jo(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Jv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Jv={data:Oh,props:Dh,emits:Dh,methods:Gi,computed:Gi,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:Gi,directives:Gi,watch:e0,provide:Oh,inject:Zv};function Oh(t,e){return e?t?function(){return Ct(oe(t)?t.call(this,this):t,oe(e)?e.call(this,this):e)}:e:t}function Zv(t,e){return Gi(ic(t),ic(e))}function ic(t){if(Z(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function St(t,e){return t?[...new Set([].concat(t,e))]:e}function Gi(t,e){return t?Ct(Object.create(null),t,e):e}function Dh(t,e){return t?Z(t)&&Z(e)?[...new Set([...t,...e])]:Ct(Object.create(null),Ah(t),Ah(e??{})):e}function e0(t,e){if(!t)return e;if(!e)return t;const n=Ct(Object.create(null),t);for(const s in e)n[s]=St(t[s],e[s]);return n}function em(){return{app:null,config:{isNativeTag:zy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let t0=0;function n0(t,e){return function(s,i=null){oe(s)||(s=Ct({},s)),i!=null&&!We(i)&&(i=null);const r=em(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:t0++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:N0,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&oe(u.install)?(o.add(u),u.install(c,...h)):oe(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,f){if(!l){const d=c._ceVNode||se(s,i);return d.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(d,u,f),l=!0,c._container=u,u.__vue_app__=c,La(d.component)}},onUnmount(u){a.push(u)},unmount(){l&&(xn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=ui;ui=c;try{return u()}finally{ui=h}}};return c}}let ui=null;function Do(t,e){if(vt){let n=vt.provides;const s=vt.parent&&vt.parent.provides;s===n&&(n=vt.provides=Object.create(s)),n[t]=e}}function sn(t,e,n=!1){const s=mi();if(s||ui){let i=ui?ui._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&oe(e)?e.call(s&&s.proxy):e}}const tm={},nm=()=>Object.create(tm),sm=t=>Object.getPrototypeOf(t)===tm;function s0(t,e,n,s=!1){const i={},r=nm();t.propsDefaults=Object.create(null),im(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Bg(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function i0(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=ke(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Da(t.emitsOptions,f))continue;const d=e[f];if(l)if(Te(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const p=qt(f);i[p]=rc(l,a,p,d,t,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{im(t,e,i,r)&&(c=!0);let u;for(const h in a)(!e||!Te(e,h)&&((u=Ks(h))===h||!Te(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=rc(l,a,h,void 0,t,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!Te(e,h))&&(delete r[h],c=!0)}c&&An(t.attrs,"set","")}function im(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ji(l))continue;const c=e[l];let u;i&&Te(i,u=qt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Da(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=ke(n),c=a||Re;for(let u=0;u<r.length;u++){const h=r[u];n[h]=rc(i,l,h,c[h],t,!Te(c,h))}}return o}function rc(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Te(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&oe(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Zr(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ks(n))&&(s=!0))}return s}const r0=new WeakMap;function rm(t,e,n=!1){const s=n?r0:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!oe(t)){const u=h=>{l=!0;const[f,d]=rm(h,e,!0);Ct(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return We(t)&&s.set(t,oi),oi;if(Z(r))for(let u=0;u<r.length;u++){const h=qt(r[u]);Lh(h)&&(o[h]=Re)}else if(r)for(const u in r){const h=qt(u);if(Lh(h)){const f=r[u],d=o[h]=Z(f)||oe(f)?{type:f}:Ct({},f),p=d.type;let g=!1,_=!0;if(Z(p))for(let m=0;m<p.length;++m){const b=p[m],E=oe(b)&&b.name;if(E==="Boolean"){g=!0;break}else E==="String"&&(_=!1)}else g=oe(p)&&p.name==="Boolean";d[0]=g,d[1]=_,(g||Te(d,"default"))&&a.push(h)}}const c=[o,a];return We(t)&&s.set(t,c),c}function Lh(t){return t[0]!=="$"&&!Ji(t)}const uu=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",hu=t=>Z(t)?t.map(pn):[pn(t)],o0=(t,e,n)=>{if(e._n)return e;const s=ts((...i)=>hu(e(...i)),n);return s._c=!1,s},om=(t,e,n)=>{const s=t._ctx;for(const i in t){if(uu(i))continue;const r=t[i];if(oe(r))e[i]=o0(i,r,s);else if(r!=null){const o=hu(r);e[i]=()=>o}}},am=(t,e)=>{const n=hu(e);t.slots.default=()=>n},lm=(t,e,n)=>{for(const s in e)(n||!uu(s))&&(t[s]=e[s])},a0=(t,e,n)=>{const s=t.slots=nm();if(t.vnode.shapeFlag&32){const i=e.__;i&&Ql(s,"__",i,!0);const r=e._;r?(lm(s,e,n),n&&Ql(s,"_",r,!0)):om(e,s)}else e&&am(t,e)},l0=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Re;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:lm(i,e,n):(r=!e.$stable,om(e,i)),o=e}else e&&(am(t,e),o={default:1});if(r)for(const a in i)!uu(a)&&o[a]==null&&delete i[a]},Bt=C0;function c0(t){return u0(t)}function u0(t,e){const n=wa();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=mn,insertStaticContent:p}=t,g=(C,S,P,L=null,W=null,F=null,y=void 0,x=null,I=!!S.dynamicChildren)=>{if(C===S)return;C&&!Li(C,S)&&(L=N(C),Be(C,W,F,!0),C=null),S.patchFlag===-2&&(I=!1,S.dynamicChildren=null);const{type:A,ref:z,shapeFlag:B}=S;switch(A){case Jr:_(C,S,P,L);break;case fs:m(C,S,P,L);break;case pl:C==null&&b(S,P,L,y);break;case Qe:K(C,S,P,L,W,F,y,x,I);break;default:B&1?w(C,S,P,L,W,F,y,x,I):B&6?_e(C,S,P,L,W,F,y,x,I):(B&64||B&128)&&A.process(C,S,P,L,W,F,y,x,I,X)}z!=null&&W?tr(z,C&&C.ref,F,S||C,!S):z==null&&C&&C.ref!=null&&tr(C.ref,null,F,C,!0)},_=(C,S,P,L)=>{if(C==null)s(S.el=a(S.children),P,L);else{const W=S.el=C.el;S.children!==C.children&&c(W,S.children)}},m=(C,S,P,L)=>{C==null?s(S.el=l(S.children||""),P,L):S.el=C.el},b=(C,S,P,L)=>{[C.el,C.anchor]=p(C.children,S,P,L,C.el,C.anchor)},E=({el:C,anchor:S},P,L)=>{let W;for(;C&&C!==S;)W=f(C),s(C,P,L),C=W;s(S,P,L)},v=({el:C,anchor:S})=>{let P;for(;C&&C!==S;)P=f(C),i(C),C=P;i(S)},w=(C,S,P,L,W,F,y,x,I)=>{S.type==="svg"?y="svg":S.type==="math"&&(y="mathml"),C==null?M(S,P,L,W,F,y,x,I):D(C,S,W,F,y,x,I)},M=(C,S,P,L,W,F,y,x)=>{let I,A;const{props:z,shapeFlag:B,transition:T,dirs:R}=C;if(I=C.el=o(C.type,F,z&&z.is,z),B&8?u(I,C.children):B&16&&O(C.children,I,null,L,W,dl(C,F),y,x),R&&Es(C,null,L,"created"),k(I,C,C.scopeId,y,L),z){for(const ee in z)ee!=="value"&&!Ji(ee)&&r(I,ee,null,z[ee],F,L);"value"in z&&r(I,"value",null,z.value,F),(A=z.onVnodeBeforeMount)&&cn(A,L,C)}R&&Es(C,null,L,"beforeMount");const q=h0(W,T);q&&T.beforeEnter(I),s(I,S,P),((A=z&&z.onVnodeMounted)||q||R)&&Bt(()=>{A&&cn(A,L,C),q&&T.enter(I),R&&Es(C,null,L,"mounted")},W)},k=(C,S,P,L,W)=>{if(P&&d(C,P),L)for(let F=0;F<L.length;F++)d(C,L[F]);if(W){let F=W.subTree;if(S===F||pm(F.type)&&(F.ssContent===S||F.ssFallback===S)){const y=W.vnode;k(C,y,y.scopeId,y.slotScopeIds,W.parent)}}},O=(C,S,P,L,W,F,y,x,I=0)=>{for(let A=I;A<C.length;A++){const z=C[A]=x?Zn(C[A]):pn(C[A]);g(null,z,S,P,L,W,F,y,x)}},D=(C,S,P,L,W,F,y)=>{const x=S.el=C.el;let{patchFlag:I,dynamicChildren:A,dirs:z}=S;I|=C.patchFlag&16;const B=C.props||Re,T=S.props||Re;let R;if(P&&Ss(P,!1),(R=T.onVnodeBeforeUpdate)&&cn(R,P,S,C),z&&Es(S,C,P,"beforeUpdate"),P&&Ss(P,!0),(B.innerHTML&&T.innerHTML==null||B.textContent&&T.textContent==null)&&u(x,""),A?$(C.dynamicChildren,A,x,P,L,dl(S,W),F):y||ne(C,S,x,null,P,L,dl(S,W),F,!1),I>0){if(I&16)G(x,B,T,P,W);else if(I&2&&B.class!==T.class&&r(x,"class",null,T.class,W),I&4&&r(x,"style",B.style,T.style,W),I&8){const q=S.dynamicProps;for(let ee=0;ee<q.length;ee++){const ue=q[ee],st=B[ue],Xe=T[ue];(Xe!==st||ue==="value")&&r(x,ue,st,Xe,W,P)}}I&1&&C.children!==S.children&&u(x,S.children)}else!y&&A==null&&G(x,B,T,P,W);((R=T.onVnodeUpdated)||z)&&Bt(()=>{R&&cn(R,P,S,C),z&&Es(S,C,P,"updated")},L)},$=(C,S,P,L,W,F,y)=>{for(let x=0;x<S.length;x++){const I=C[x],A=S[x],z=I.el&&(I.type===Qe||!Li(I,A)||I.shapeFlag&198)?h(I.el):P;g(I,A,z,null,L,W,F,y,!0)}},G=(C,S,P,L,W)=>{if(S!==P){if(S!==Re)for(const F in S)!Ji(F)&&!(F in P)&&r(C,F,S[F],null,W,L);for(const F in P){if(Ji(F))continue;const y=P[F],x=S[F];y!==x&&F!=="value"&&r(C,F,x,y,W,L)}"value"in P&&r(C,"value",S.value,P.value,W)}},K=(C,S,P,L,W,F,y,x,I)=>{const A=S.el=C?C.el:a(""),z=S.anchor=C?C.anchor:a("");let{patchFlag:B,dynamicChildren:T,slotScopeIds:R}=S;R&&(x=x?x.concat(R):R),C==null?(s(A,P,L),s(z,P,L),O(S.children||[],P,z,W,F,y,x,I)):B>0&&B&64&&T&&C.dynamicChildren?($(C.dynamicChildren,T,P,W,F,y,x),(S.key!=null||W&&S===W.subTree)&&cm(C,S,!0)):ne(C,S,P,z,W,F,y,x,I)},_e=(C,S,P,L,W,F,y,x,I)=>{S.slotScopeIds=x,C==null?S.shapeFlag&512?W.ctx.activate(S,P,L,y,I):Ye(S,P,L,W,F,y,I):ae(C,S,I)},Ye=(C,S,P,L,W,F,y)=>{const x=C.component=P0(C,L,W);if(Xg(C)&&(x.ctx.renderer=X),M0(x,!1,y),x.asyncDep){if(W&&W.registerDep(x,te,y),!C.el){const I=x.subTree=se(fs);m(null,I,S,P),C.placeholder=I.el}}else te(x,C,S,P,W,F,y)},ae=(C,S,P)=>{const L=S.component=C.component;if(v0(C,S,P))if(L.asyncDep&&!L.asyncResolved){Q(L,S,P);return}else L.next=S,L.update();else S.el=C.el,L.vnode=S},te=(C,S,P,L,W,F,y)=>{const x=()=>{if(C.isMounted){let{next:B,bu:T,u:R,parent:q,vnode:ee}=C;{const Xt=um(C);if(Xt){B&&(B.el=ee.el,Q(C,B,y)),Xt.asyncDep.then(()=>{C.isUnmounted||x()});return}}let ue=B,st;Ss(C,!1),B?(B.el=ee.el,Q(C,B,y)):B=ee,T&&Oo(T),(st=B.props&&B.props.onVnodeBeforeUpdate)&&cn(st,q,B,ee),Ss(C,!0);const Xe=Fh(C),jt=C.subTree;C.subTree=Xe,g(jt,Xe,h(jt.el),N(jt),C,W,F),B.el=Xe.el,ue===null&&x0(C,Xe.el),R&&Bt(R,W),(st=B.props&&B.props.onVnodeUpdated)&&Bt(()=>cn(st,q,B,ee),W)}else{let B;const{el:T,props:R}=S,{bm:q,m:ee,parent:ue,root:st,type:Xe}=C,jt=nr(S);Ss(C,!1),q&&Oo(q),!jt&&(B=R&&R.onVnodeBeforeMount)&&cn(B,ue,S),Ss(C,!0);{st.ce&&st.ce._def.shadowRoot!==!1&&st.ce._injectChildStyle(Xe);const Xt=C.subTree=Fh(C);g(null,Xt,P,L,C,W,F),S.el=Xt.el}if(ee&&Bt(ee,W),!jt&&(B=R&&R.onVnodeMounted)){const Xt=S;Bt(()=>cn(B,ue,Xt),W)}(S.shapeFlag&256||ue&&nr(ue.vnode)&&ue.vnode.shapeFlag&256)&&C.a&&Bt(C.a,W),C.isMounted=!0,S=P=L=null}};C.scope.on();const I=C.effect=new wg(x);C.scope.off();const A=C.update=I.run.bind(I),z=C.job=I.runIfDirty.bind(I);z.i=C,z.id=C.uid,I.scheduler=()=>au(z),Ss(C,!0),A()},Q=(C,S,P)=>{S.component=C;const L=C.vnode.props;C.vnode=S,C.next=null,i0(C,S.props,L,P),l0(C,S.children,P),$n(),Ph(C),Vn()},ne=(C,S,P,L,W,F,y,x,I=!1)=>{const A=C&&C.children,z=C?C.shapeFlag:0,B=S.children,{patchFlag:T,shapeFlag:R}=S;if(T>0){if(T&128){Ze(A,B,P,L,W,F,y,x,I);return}else if(T&256){pe(A,B,P,L,W,F,y,x,I);return}}R&8?(z&16&&Ue(A,W,F),B!==A&&u(P,B)):z&16?R&16?Ze(A,B,P,L,W,F,y,x,I):Ue(A,W,F,!0):(z&8&&u(P,""),R&16&&O(B,P,L,W,F,y,x,I))},pe=(C,S,P,L,W,F,y,x,I)=>{C=C||oi,S=S||oi;const A=C.length,z=S.length,B=Math.min(A,z);let T;for(T=0;T<B;T++){const R=S[T]=I?Zn(S[T]):pn(S[T]);g(C[T],R,P,null,W,F,y,x,I)}A>z?Ue(C,W,F,!0,!1,B):O(S,P,L,W,F,y,x,I,B)},Ze=(C,S,P,L,W,F,y,x,I)=>{let A=0;const z=S.length;let B=C.length-1,T=z-1;for(;A<=B&&A<=T;){const R=C[A],q=S[A]=I?Zn(S[A]):pn(S[A]);if(Li(R,q))g(R,q,P,null,W,F,y,x,I);else break;A++}for(;A<=B&&A<=T;){const R=C[B],q=S[T]=I?Zn(S[T]):pn(S[T]);if(Li(R,q))g(R,q,P,null,W,F,y,x,I);else break;B--,T--}if(A>B){if(A<=T){const R=T+1,q=R<z?S[R].el:L;for(;A<=T;)g(null,S[A]=I?Zn(S[A]):pn(S[A]),P,q,W,F,y,x,I),A++}}else if(A>T)for(;A<=B;)Be(C[A],W,F,!0),A++;else{const R=A,q=A,ee=new Map;for(A=q;A<=T;A++){const Wt=S[A]=I?Zn(S[A]):pn(S[A]);Wt.key!=null&&ee.set(Wt.key,A)}let ue,st=0;const Xe=T-q+1;let jt=!1,Xt=0;const Oi=new Array(Xe);for(A=0;A<Xe;A++)Oi[A]=0;for(A=R;A<=B;A++){const Wt=C[A];if(st>=Xe){Be(Wt,W,F,!0);continue}let ln;if(Wt.key!=null)ln=ee.get(Wt.key);else for(ue=q;ue<=T;ue++)if(Oi[ue-q]===0&&Li(Wt,S[ue])){ln=ue;break}ln===void 0?Be(Wt,W,F,!0):(Oi[ln-q]=A+1,ln>=Xt?Xt=ln:jt=!0,g(Wt,S[ln],P,null,W,F,y,x,I),st++)}const Ch=jt?f0(Oi):oi;for(ue=Ch.length-1,A=Xe-1;A>=0;A--){const Wt=q+A,ln=S[Wt],Eh=S[Wt+1],Sh=Wt+1<z?Eh.el||Eh.placeholder:L;Oi[A]===0?g(null,ln,P,Sh,W,F,y,x,I):jt&&(ue<0||A!==Ch[ue]?et(ln,P,Sh,2):ue--)}}},et=(C,S,P,L,W=null)=>{const{el:F,type:y,transition:x,children:I,shapeFlag:A}=C;if(A&6){et(C.component.subTree,S,P,L);return}if(A&128){C.suspense.move(S,P,L);return}if(A&64){y.move(C,S,P,X);return}if(y===Qe){s(F,S,P);for(let B=0;B<I.length;B++)et(I[B],S,P,L);s(C.anchor,S,P);return}if(y===pl){E(C,S,P);return}if(L!==2&&A&1&&x)if(L===0)x.beforeEnter(F),s(F,S,P),Bt(()=>x.enter(F),W);else{const{leave:B,delayLeave:T,afterLeave:R}=x,q=()=>{C.ctx.isUnmounted?i(F):s(F,S,P)},ee=()=>{B(F,()=>{q(),R&&R()})};T?T(F,q,ee):ee()}else s(F,S,P)},Be=(C,S,P,L=!1,W=!1)=>{const{type:F,props:y,ref:x,children:I,dynamicChildren:A,shapeFlag:z,patchFlag:B,dirs:T,cacheIndex:R}=C;if(B===-2&&(W=!1),x!=null&&($n(),tr(x,null,P,C,!0),Vn()),R!=null&&(S.renderCache[R]=void 0),z&256){S.ctx.deactivate(C);return}const q=z&1&&T,ee=!nr(C);let ue;if(ee&&(ue=y&&y.onVnodeBeforeUnmount)&&cn(ue,S,C),z&6)Ft(C.component,P,L);else{if(z&128){C.suspense.unmount(P,L);return}q&&Es(C,null,S,"beforeUnmount"),z&64?C.type.remove(C,S,P,X,L):A&&!A.hasOnce&&(F!==Qe||B>0&&B&64)?Ue(A,S,P,!1,!0):(F===Qe&&B&384||!W&&z&16)&&Ue(I,S,P),L&&gt(C)}(ee&&(ue=y&&y.onVnodeUnmounted)||q)&&Bt(()=>{ue&&cn(ue,S,C),q&&Es(C,null,S,"unmounted")},P)},gt=C=>{const{type:S,el:P,anchor:L,transition:W}=C;if(S===Qe){lt(P,L);return}if(S===pl){v(C);return}const F=()=>{i(P),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(C.shapeFlag&1&&W&&!W.persisted){const{leave:y,delayLeave:x}=W,I=()=>y(P,F);x?x(C.el,F,I):I()}else F()},lt=(C,S)=>{let P;for(;C!==S;)P=f(C),i(C),C=P;i(S)},Ft=(C,S,P)=>{const{bum:L,scope:W,job:F,subTree:y,um:x,m:I,a:A,parent:z,slots:{__:B}}=C;Nh(I),Nh(A),L&&Oo(L),z&&Z(B)&&B.forEach(T=>{z.renderCache[T]=void 0}),W.stop(),F&&(F.flags|=8,Be(y,C,S,P)),x&&Bt(x,S),Bt(()=>{C.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},Ue=(C,S,P,L=!1,W=!1,F=0)=>{for(let y=F;y<C.length;y++)Be(C[y],S,P,L,W)},N=C=>{if(C.shapeFlag&6)return N(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const S=f(C.anchor||C.el),P=S&&S[Ov];return P?f(P):S};let j=!1;const U=(C,S,P)=>{C==null?S._vnode&&Be(S._vnode,null,null,!0):g(S._vnode||null,C,S,null,null,null,P),S._vnode=C,j||(j=!0,Ph(),Yg(),j=!1)},X={p:g,um:Be,m:et,r:gt,mt:Ye,mc:O,pc:ne,pbc:$,n:N,o:t};return{render:U,hydrate:void 0,createApp:n0(U)}}function dl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ss({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function h0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function cm(t,e,n=!1){const s=t.children,i=e.children;if(Z(s)&&Z(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Zn(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&cm(o,a)),a.type===Jr&&(a.el=o.el),a.type===fs&&!a.el&&(a.el=o.el)}}function f0(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function um(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:um(e)}function Nh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const d0=Symbol.for("v-scx"),p0=()=>sn(d0);function Bn(t,e,n){return hm(t,e,n)}function hm(t,e,n=Re){const{immediate:s,deep:i,flush:r,once:o}=n,a=Ct({},n),l=e&&s||!e&&r!=="post";let c;if(Er){if(r==="sync"){const d=p0();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=mn,d.resume=mn,d.pause=mn,d}}const u=vt;a.call=(d,p,g)=>xn(d,u,p,g);let h=!1;r==="post"?a.scheduler=d=>{Bt(d,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(d,p)=>{p?d():au(d)}),a.augmentJob=d=>{e&&(d.flags|=4),h&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const f=Pv(t,e,a);return Er&&(c?c.push(f):l&&f()),f}function g0(t,e,n){const s=this.proxy,i=nt(t)?t.includes(".")?fm(s,t):()=>s[t]:t.bind(s,s);let r;oe(e)?r=e:(r=e.handler,n=e);const o=Zr(this),a=hm(i,r.bind(s),n);return o(),a}function fm(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const m0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${qt(e)}Modifiers`]||t[`${Ks(e)}Modifiers`];function _0(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Re;let i=n;const r=e.startsWith("update:"),o=r&&m0(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>nt(u)?u.trim():u)),o.number&&(i=n.map(vg)));let a,l=s[a=al(e)]||s[a=al(qt(e))];!l&&r&&(l=s[a=al(Ks(e))]),l&&xn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xn(c,t,6,i)}}function dm(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!oe(t)){const l=c=>{const u=dm(c,e,!0);u&&(a=!0,Ct(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(We(t)&&s.set(t,null),null):(Z(r)?r.forEach(l=>o[l]=null):Ct(o,r),We(t)&&s.set(t,o),o)}function Da(t,e){return!t||!xa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Te(t,e[0].toLowerCase()+e.slice(1))||Te(t,Ks(e))||Te(t,e))}function Fh(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=t,_=zo(t);let m,b;try{if(n.shapeFlag&4){const v=i||s,w=v;m=pn(c.call(w,v,u,h,d,f,p)),b=a}else{const v=e;m=pn(v.length>1?v(h,{attrs:a,slots:o,emit:l}):v(h,null)),b=e.props?a:b0(a)}}catch(v){ir.length=0,Ma(v,t,1),m=se(fs)}let E=m;if(b&&g!==!1){const v=Object.keys(b),{shapeFlag:w}=E;v.length&&w&7&&(r&&v.some(Qc)&&(b=y0(b,r)),E=gi(E,b,!1,!0))}return n.dirs&&(E=gi(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&lu(E,n.transition),m=E,zo(_),m}const b0=t=>{let e;for(const n in t)(n==="class"||n==="style"||xa(n))&&((e||(e={}))[n]=t[n]);return e},y0=(t,e)=>{const n={};for(const s in t)(!Qc(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function v0(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Wh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Da(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Wh(s,o,c):!0:!!o;return!1}function Wh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Da(n,r))return!0}return!1}function x0({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const pm=t=>t.__isSuspense;function C0(t,e){e&&e.pendingBranch?Z(t)?e.effects.push(...t):e.effects.push(t):Rv(t)}const Qe=Symbol.for("v-fgt"),Jr=Symbol.for("v-txt"),fs=Symbol.for("v-cmt"),pl=Symbol.for("v-stc"),ir=[];let Vt=null;function re(t=!1){ir.push(Vt=t?null:[])}function E0(){ir.pop(),Vt=ir[ir.length-1]||null}let xr=1;function Bh(t,e=!1){xr+=t,t<0&&Vt&&e&&(Vt.hasOnce=!0)}function gm(t){return t.dynamicChildren=xr>0?Vt||oi:null,E0(),xr>0&&Vt&&Vt.push(t),t}function le(t,e,n,s,i,r){return gm(H(t,e,n,s,i,r,!0))}function Cr(t,e,n,s,i){return gm(se(t,e,n,s,i,!0))}function Yo(t){return t?t.__v_isVNode===!0:!1}function Li(t,e){return t.type===e.type&&t.key===e.key}const mm=({key:t})=>t??null,Lo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?nt(t)||pt(t)||oe(t)?{i:$t,r:t,k:e,f:!!n}:t:null);function H(t,e=null,n=null,s=0,i=null,r=t===Qe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mm(e),ref:e&&Lo(e),scopeId:Kg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:$t};return a?(fu(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=nt(n)?8:16),xr>0&&!o&&Vt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Vt.push(l),l}const se=S0;function S0(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Gv)&&(t=fs),Yo(t)){const a=gi(t,e,!0);return n&&fu(a,n),xr>0&&!r&&Vt&&(a.shapeFlag&6?Vt[Vt.indexOf(t)]=a:Vt.push(a)),a.patchFlag=-2,a}if(L0(t)&&(t=t.__vccOpts),e){e=w0(e);let{class:a,style:l}=e;a&&!nt(a)&&(e.class=$s(a)),We(l)&&(ou(l)&&!Z(l)&&(l=Ct({},l)),e.style=ka(l))}const o=nt(t)?1:pm(t)?128:Dv(t)?64:We(t)?4:oe(t)?2:0;return H(t,e,n,s,i,o,r,!0)}function w0(t){return t?ou(t)||sm(t)?Ct({},t):t:null}function gi(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?k0(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&mm(c),ref:e&&e.ref?n&&r?Z(r)?r.concat(Lo(e)):[r,Lo(e)]:Lo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&gi(t.ssContent),ssFallback:t.ssFallback&&gi(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&lu(u,l.clone(u)),u}function Ut(t=" ",e=0){return se(Jr,null,t,e)}function Ws(t="",e=!1){return e?(re(),Cr(fs,null,t)):se(fs,null,t)}function pn(t){return t==null||typeof t=="boolean"?se(fs):Z(t)?se(Qe,null,t.slice()):Yo(t)?Zn(t):se(Jr,null,String(t))}function Zn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:gi(t)}function fu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Z(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),fu(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!sm(e)?e._ctx=$t:i===3&&$t&&($t.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else oe(e)?(e={default:e,_ctx:$t},n=32):(e=String(e),s&64?(n=16,e=[Ut(e)]):n=8);t.children=e,t.shapeFlag|=n}function k0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=$s([e.class,s.class]));else if(i==="style")e.style=ka([e.style,s.style]);else if(xa(i)){const r=e[i],o=s[i];o&&r!==o&&!(Z(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function cn(t,e,n,s=null){xn(t,e,7,[n,s])}const T0=em();let I0=0;function P0(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||T0,r={uid:I0++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Sg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rm(s,i),emitsOptions:dm(s,i),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:s.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=_0.bind(null,r),t.ce&&t.ce(r),r}let vt=null;const mi=()=>vt||$t;let Go,oc;{const t=wa(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Go=e("__VUE_INSTANCE_SETTERS__",n=>vt=n),oc=e("__VUE_SSR_SETTERS__",n=>Er=n)}const Zr=t=>{const e=vt;return Go(t),t.scope.on(),()=>{t.scope.off(),Go(e)}},Hh=()=>{vt&&vt.scope.off(),Go(null)};function _m(t){return t.vnode.shapeFlag&4}let Er=!1;function M0(t,e=!1,n=!1){e&&oc(e);const{props:s,children:i}=t.vnode,r=_m(t);s0(t,s,r,e),a0(t,i,n||e);const o=r?A0(t,e):void 0;return e&&oc(!1),o}function A0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,qv);const{setup:s}=n;if(s){$n();const i=t.setupContext=s.length>1?O0(t):null,r=Zr(t),o=Xr(s,t,0,[t.props,i]),a=_g(o);if(Vn(),r(),(a||t.sp)&&!nr(t)&&qg(t),a){if(o.then(Hh,Hh),e)return o.then(l=>{$h(t,l)}).catch(l=>{Ma(l,t,0)});t.asyncDep=o}else $h(t,o)}else bm(t)}function $h(t,e,n){oe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:We(e)&&(t.setupState=Ug(e)),bm(t)}function bm(t,e,n){const s=t.type;t.render||(t.render=s.render||mn);{const i=Zr(t);$n();try{Xv(t)}finally{Vn(),i()}}}const R0={get(t,e){return bt(t,"get",""),t[e]}};function O0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,R0),slots:t.slots,emit:t.emit,expose:e}}function La(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ug(Ev(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in sr)return sr[n](t)},has(e,n){return n in e||n in sr}})):t.proxy}function D0(t,e=!0){return oe(t)?t.displayName||t.name:t.name||e&&t.__name}function L0(t){return oe(t)&&"__vccOpts"in t}const Me=(t,e)=>Tv(t,e,Er);function Vs(t,e,n){const s=arguments.length;return s===2?We(e)&&!Z(e)?Yo(e)?se(t,null,[e]):se(t,e):se(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Yo(n)&&(n=[n]),se(t,e,n))}const N0="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ac;const Vh=typeof window<"u"&&window.trustedTypes;if(Vh)try{ac=Vh.createPolicy("vue",{createHTML:t=>t})}catch{}const ym=ac?t=>ac.createHTML(t):t=>t,F0="http://www.w3.org/2000/svg",W0="http://www.w3.org/1998/Math/MathML",Pn=typeof document<"u"?document:null,Uh=Pn&&Pn.createElement("template"),B0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?Pn.createElementNS(F0,t):e==="mathml"?Pn.createElementNS(W0,t):n?Pn.createElement(t,{is:n}):Pn.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Pn.createTextNode(t),createComment:t=>Pn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Uh.innerHTML=ym(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Uh.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},H0=Symbol("_vtc");function $0(t,e,n){const s=t[H0];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const zh=Symbol("_vod"),V0=Symbol("_vsh"),U0=Symbol(""),z0=/(^|;)\s*display\s*:/;function j0(t,e,n){const s=t.style,i=nt(n);let r=!1;if(n&&!i){if(e)if(nt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&No(s,a,"")}else for(const o in e)n[o]==null&&No(s,o,"");for(const o in n)o==="display"&&(r=!0),No(s,o,n[o])}else if(i){if(e!==n){const o=s[U0];o&&(n+=";"+o),s.cssText=n,r=z0.test(n)}}else e&&t.removeAttribute("style");zh in t&&(t[zh]=r?s.display:"",t[V0]&&(s.display="none"))}const jh=/\s*!important$/;function No(t,e,n){if(Z(n))n.forEach(s=>No(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Y0(t,e);jh.test(n)?t.setProperty(Ks(s),n.replace(jh,""),"important"):t[s]=n}}const Yh=["Webkit","Moz","ms"],gl={};function Y0(t,e){const n=gl[e];if(n)return n;let s=qt(e);if(s!=="filter"&&s in t)return gl[e]=s;s=Sa(s);for(let i=0;i<Yh.length;i++){const r=Yh[i]+s;if(r in t)return gl[e]=r}return e}const Gh="http://www.w3.org/1999/xlink";function Kh(t,e,n,s,i,r=ev(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Gh,e.slice(6,e.length)):t.setAttributeNS(Gh,e,n):n==null||r&&!xg(n)?t.removeAttribute(e):t.setAttribute(e,r?"":vn(n)?String(n):n)}function qh(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?ym(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=xg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function vm(t,e,n,s){t.addEventListener(e,n,s)}function G0(t,e,n,s){t.removeEventListener(e,n,s)}const Xh=Symbol("_vei");function K0(t,e,n,s,i=null){const r=t[Xh]||(t[Xh]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=q0(e);if(s){const c=r[e]=J0(s,i);vm(t,a,c,l)}else o&&(G0(t,a,o,l),r[e]=void 0)}}const Qh=/(?:Once|Passive|Capture)$/;function q0(t){let e;if(Qh.test(t)){e={};let s;for(;s=t.match(Qh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ks(t.slice(2)),e]}let ml=0;const X0=Promise.resolve(),Q0=()=>ml||(X0.then(()=>ml=0),ml=Date.now());function J0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;xn(Z0(s,n.value),e,5,[s])};return n.value=t,n.attached=Q0(),n}function Z0(t,e){if(Z(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Jh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ex=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?$0(t,s,o):e==="style"?j0(t,n,s):xa(e)?Qc(e)||K0(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tx(t,e,s,o))?(qh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Kh(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!nt(s))?qh(t,qt(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Kh(t,e,s,o))};function tx(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Jh(e)&&oe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Jh(e)&&nt(n)?!1:e in t}const Zh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Z(e)?n=>Oo(e,n):e},_l=Symbol("_assign"),Sr={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Ca(e);vm(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?vg(Ko(o)):Ko(o));t[_l](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,Aa(()=>{t._assigning=!1})}),t[_l]=Zh(s)},mounted(t,{value:e}){ef(t,e)},beforeUpdate(t,e,n){t[_l]=Zh(n)},updated(t,{value:e}){t._assigning||ef(t,e)}};function ef(t,e){const n=t.multiple,s=Z(e);if(!(n&&!s&&!Ca(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=Ko(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=nv(e,a)>-1}else o.selected=e.has(a);else if(Ta(Ko(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ko(t){return"_value"in t?t._value:t.value}const nx=Ct({patchProp:ex},B0);let tf;function sx(){return tf||(tf=c0(nx))}const ix=(...t)=>{const e=sx().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=ox(s);if(!i)return;const r=e._component;!oe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,rx(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function rx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ox(t){return nt(t)?document.querySelector(t):t}/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ax=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),lx=t=>{const e=ax(t);return e.charAt(0).toUpperCase()+e.slice(1)},cx=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:s,iconNode:i,name:r,class:o,...a},{slots:l})=>Vs("svg",{...fo,width:t||fo.width,height:t||fo.height,stroke:s||fo.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:cx("lucide",...r?[`lucide-${nf(lx(r))}-icon`,`lucide-${nf(r)}`]:["lucide-icon"]),...a},[...i.map(c=>Vs(...c)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(t,e)=>(n,{slots:s})=>Vs(ux,{...n,iconNode:e,name:t},s);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=an("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=an("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=an("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=an("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=an("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=an("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=an("dumbbell",[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=an("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=an("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=an("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=an("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);/*!
  * shared v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function bx(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const qo=typeof window<"u",bs=(t,e=!1)=>e?Symbol.for(t):Symbol(t),yx=(t,e,n)=>vx({l:t,k:e,s:n}),vx=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),tt=t=>typeof t=="number"&&isFinite(t),xx=t=>gu(t)==="[object Date]",_i=t=>gu(t)==="[object RegExp]",Na=t=>fe(t)&&Object.keys(t).length===0,at=Object.assign,Cx=Object.create,Ae=(t=null)=>Cx(t);let sf;const Ds=()=>sf||(sf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ae());function rf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function of(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ex(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(s,i,r)=>`${i}="${of(r)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(s,i,r)=>`${i}='${of(r)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(s=>{t=t.replace(s,"$1javascript&#58;")}),t}const Sx=Object.prototype.hasOwnProperty;function Jt(t,e){return Sx.call(t,e)}const Ge=Array.isArray,$e=t=>typeof t=="function",Y=t=>typeof t=="string",ve=t=>typeof t=="boolean",Se=t=>t!==null&&typeof t=="object",wx=t=>Se(t)&&$e(t.then)&&$e(t.catch),Cm=Object.prototype.toString,gu=t=>Cm.call(t),fe=t=>gu(t)==="[object Object]",kx=t=>t==null?"":Ge(t)||fe(t)&&t.toString===Cm?JSON.stringify(t,null,2):String(t);function mu(t,e=""){return t.reduce((n,s,i)=>i===0?n+s:n+e+s,"")}const po=t=>!Se(t)||Ge(t);function Fo(t,e){if(po(t)||po(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:s,des:i}=n.pop();Object.keys(s).forEach(r=>{r!=="__proto__"&&(Se(s[r])&&!Se(i[r])&&(i[r]=Array.isArray(s[r])?[]:Ae()),po(i[r])||po(s[r])?i[r]=s[r]:n.push({src:s[r],des:i[r]}))})}}/*!
  * message-compiler v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Tx(t,e,n){return{line:t,column:e,offset:n}}function cc(t,e,n){return{start:t,end:e}}const Ie={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},Ix=17;function Fa(t,e,n={}){const{domain:s,messages:i,args:r}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=s,a}function Px(t){throw t}const Sn=" ",Mx="\r",wt=`
`,Ax="\u2028",Rx="\u2029";function Ox(t){const e=t;let n=0,s=1,i=1,r=0;const o=k=>e[k]===Mx&&e[k+1]===wt,a=k=>e[k]===wt,l=k=>e[k]===Rx,c=k=>e[k]===Ax,u=k=>o(k)||a(k)||l(k)||c(k),h=()=>n,f=()=>s,d=()=>i,p=()=>r,g=k=>o(k)||l(k)||c(k)?wt:e[k],_=()=>g(n),m=()=>g(n+r);function b(){return r=0,u(n)&&(s++,i=0),o(n)&&n++,n++,i++,e[n]}function E(){return o(n+r)&&r++,r++,e[n+r]}function v(){n=0,s=1,i=1,r=0}function w(k=0){r=k}function M(){const k=n+r;for(;k!==n;)b();r=0}return{index:h,line:f,column:d,peekOffset:p,charAt:g,currentChar:_,currentPeek:m,next:b,peek:E,reset:v,resetPeek:w,skipToPeek:M}}const Xn=void 0,Dx=".",af="'",Lx="tokenizer";function Nx(t,e={}){const n=e.location!==!1,s=Ox(t),i=()=>s.index(),r=()=>Tx(s.line(),s.column(),s.index()),o=r(),a=i(),l={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function h(y,x,I,...A){const z=c();if(x.column+=I,x.offset+=I,u){const B=n?cc(z.startLoc,x):null,T=Fa(y,B,{domain:Lx,args:A});u(T)}}function f(y,x,I){y.endLoc=r(),y.currentType=x;const A={type:x};return n&&(A.loc=cc(y.startLoc,y.endLoc)),I!=null&&(A.value=I),A}const d=y=>f(y,13);function p(y,x){return y.currentChar()===x?(y.next(),x):(h(Ie.EXPECTED_TOKEN,r(),0,x),"")}function g(y){let x="";for(;y.currentPeek()===Sn||y.currentPeek()===wt;)x+=y.currentPeek(),y.peek();return x}function _(y){const x=g(y);return y.skipToPeek(),x}function m(y){if(y===Xn)return!1;const x=y.charCodeAt(0);return x>=97&&x<=122||x>=65&&x<=90||x===95}function b(y){if(y===Xn)return!1;const x=y.charCodeAt(0);return x>=48&&x<=57}function E(y,x){const{currentType:I}=x;if(I!==2)return!1;g(y);const A=m(y.currentPeek());return y.resetPeek(),A}function v(y,x){const{currentType:I}=x;if(I!==2)return!1;g(y);const A=y.currentPeek()==="-"?y.peek():y.currentPeek(),z=b(A);return y.resetPeek(),z}function w(y,x){const{currentType:I}=x;if(I!==2)return!1;g(y);const A=y.currentPeek()===af;return y.resetPeek(),A}function M(y,x){const{currentType:I}=x;if(I!==7)return!1;g(y);const A=y.currentPeek()===".";return y.resetPeek(),A}function k(y,x){const{currentType:I}=x;if(I!==8)return!1;g(y);const A=m(y.currentPeek());return y.resetPeek(),A}function O(y,x){const{currentType:I}=x;if(!(I===7||I===11))return!1;g(y);const A=y.currentPeek()===":";return y.resetPeek(),A}function D(y,x){const{currentType:I}=x;if(I!==9)return!1;const A=()=>{const B=y.currentPeek();return B==="{"?m(y.peek()):B==="@"||B==="|"||B===":"||B==="."||B===Sn||!B?!1:B===wt?(y.peek(),A()):G(y,!1)},z=A();return y.resetPeek(),z}function $(y){g(y);const x=y.currentPeek()==="|";return y.resetPeek(),x}function G(y,x=!0){const I=(z=!1,B="")=>{const T=y.currentPeek();return T==="{"||T==="@"||!T?z:T==="|"?!(B===Sn||B===wt):T===Sn?(y.peek(),I(!0,Sn)):T===wt?(y.peek(),I(!0,wt)):!0},A=I();return x&&y.resetPeek(),A}function K(y,x){const I=y.currentChar();return I===Xn?Xn:x(I)?(y.next(),I):null}function _e(y){const x=y.charCodeAt(0);return x>=97&&x<=122||x>=65&&x<=90||x>=48&&x<=57||x===95||x===36}function Ye(y){return K(y,_e)}function ae(y){const x=y.charCodeAt(0);return x>=97&&x<=122||x>=65&&x<=90||x>=48&&x<=57||x===95||x===36||x===45}function te(y){return K(y,ae)}function Q(y){const x=y.charCodeAt(0);return x>=48&&x<=57}function ne(y){return K(y,Q)}function pe(y){const x=y.charCodeAt(0);return x>=48&&x<=57||x>=65&&x<=70||x>=97&&x<=102}function Ze(y){return K(y,pe)}function et(y){let x="",I="";for(;x=ne(y);)I+=x;return I}function Be(y){let x="";for(;;){const I=y.currentChar();if(I==="{"||I==="}"||I==="@"||I==="|"||!I)break;if(I===Sn||I===wt)if(G(y))x+=I,y.next();else{if($(y))break;x+=I,y.next()}else x+=I,y.next()}return x}function gt(y){_(y);let x="",I="";for(;x=te(y);)I+=x;return y.currentChar()===Xn&&h(Ie.UNTERMINATED_CLOSING_BRACE,r(),0),I}function lt(y){_(y);let x="";return y.currentChar()==="-"?(y.next(),x+=`-${et(y)}`):x+=et(y),y.currentChar()===Xn&&h(Ie.UNTERMINATED_CLOSING_BRACE,r(),0),x}function Ft(y){return y!==af&&y!==wt}function Ue(y){_(y),p(y,"'");let x="",I="";for(;x=K(y,Ft);)x==="\\"?I+=N(y):I+=x;const A=y.currentChar();return A===wt||A===Xn?(h(Ie.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),A===wt&&(y.next(),p(y,"'")),I):(p(y,"'"),I)}function N(y){const x=y.currentChar();switch(x){case"\\":case"'":return y.next(),`\\${x}`;case"u":return j(y,x,4);case"U":return j(y,x,6);default:return h(Ie.UNKNOWN_ESCAPE_SEQUENCE,r(),0,x),""}}function j(y,x,I){p(y,x);let A="";for(let z=0;z<I;z++){const B=Ze(y);if(!B){h(Ie.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,`\\${x}${A}${y.currentChar()}`);break}A+=B}return`\\${x}${A}`}function U(y){return y!=="{"&&y!=="}"&&y!==Sn&&y!==wt}function X(y){_(y);let x="",I="";for(;x=K(y,U);)I+=x;return I}function Ee(y){let x="",I="";for(;x=Ye(y);)I+=x;return I}function C(y){const x=I=>{const A=y.currentChar();return A==="{"||A==="@"||A==="|"||A==="("||A===")"||!A||A===Sn?I:(I+=A,y.next(),x(I))};return x("")}function S(y){_(y);const x=p(y,"|");return _(y),x}function P(y,x){let I=null;switch(y.currentChar()){case"{":return x.braceNest>=1&&h(Ie.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),y.next(),I=f(x,2,"{"),_(y),x.braceNest++,I;case"}":return x.braceNest>0&&x.currentType===2&&h(Ie.EMPTY_PLACEHOLDER,r(),0),y.next(),I=f(x,3,"}"),x.braceNest--,x.braceNest>0&&_(y),x.inLinked&&x.braceNest===0&&(x.inLinked=!1),I;case"@":return x.braceNest>0&&h(Ie.UNTERMINATED_CLOSING_BRACE,r(),0),I=L(y,x)||d(x),x.braceNest=0,I;default:{let z=!0,B=!0,T=!0;if($(y))return x.braceNest>0&&h(Ie.UNTERMINATED_CLOSING_BRACE,r(),0),I=f(x,1,S(y)),x.braceNest=0,x.inLinked=!1,I;if(x.braceNest>0&&(x.currentType===4||x.currentType===5||x.currentType===6))return h(Ie.UNTERMINATED_CLOSING_BRACE,r(),0),x.braceNest=0,W(y,x);if(z=E(y,x))return I=f(x,4,gt(y)),_(y),I;if(B=v(y,x))return I=f(x,5,lt(y)),_(y),I;if(T=w(y,x))return I=f(x,6,Ue(y)),_(y),I;if(!z&&!B&&!T)return I=f(x,12,X(y)),h(Ie.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,I.value),_(y),I;break}}return I}function L(y,x){const{currentType:I}=x;let A=null;const z=y.currentChar();switch((I===7||I===8||I===11||I===9)&&(z===wt||z===Sn)&&h(Ie.INVALID_LINKED_FORMAT,r(),0),z){case"@":return y.next(),A=f(x,7,"@"),x.inLinked=!0,A;case".":return _(y),y.next(),f(x,8,".");case":":return _(y),y.next(),f(x,9,":");default:return $(y)?(A=f(x,1,S(y)),x.braceNest=0,x.inLinked=!1,A):M(y,x)||O(y,x)?(_(y),L(y,x)):k(y,x)?(_(y),f(x,11,Ee(y))):D(y,x)?(_(y),z==="{"?P(y,x)||A:f(x,10,C(y))):(I===7&&h(Ie.INVALID_LINKED_FORMAT,r(),0),x.braceNest=0,x.inLinked=!1,W(y,x))}}function W(y,x){let I={type:13};if(x.braceNest>0)return P(y,x)||d(x);if(x.inLinked)return L(y,x)||d(x);switch(y.currentChar()){case"{":return P(y,x)||d(x);case"}":return h(Ie.UNBALANCED_CLOSING_BRACE,r(),0),y.next(),f(x,3,"}");case"@":return L(y,x)||d(x);default:{if($(y))return I=f(x,1,S(y)),x.braceNest=0,x.inLinked=!1,I;if(G(y))return f(x,0,Be(y));break}}return I}function F(){const{currentType:y,offset:x,startLoc:I,endLoc:A}=l;return l.lastType=y,l.lastOffset=x,l.lastStartLoc=I,l.lastEndLoc=A,l.offset=i(),l.startLoc=r(),s.currentChar()===Xn?f(l,13):W(s,l)}return{nextToken:F,currentOffset:i,currentPosition:r,context:c}}const Fx="parser",Wx=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Bx(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(e||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):"�"}}}function Hx(t={}){const e=t.location!==!1,{onError:n}=t;function s(m,b,E,v,...w){const M=m.currentPosition();if(M.offset+=v,M.column+=v,n){const k=e?cc(E,M):null,O=Fa(b,k,{domain:Fx,args:w});n(O)}}function i(m,b,E){const v={type:m};return e&&(v.start=b,v.end=b,v.loc={start:E,end:E}),v}function r(m,b,E,v){e&&(m.end=b,m.loc&&(m.loc.end=E))}function o(m,b){const E=m.context(),v=i(3,E.offset,E.startLoc);return v.value=b,r(v,m.currentOffset(),m.currentPosition()),v}function a(m,b){const E=m.context(),{lastOffset:v,lastStartLoc:w}=E,M=i(5,v,w);return M.index=parseInt(b,10),m.nextToken(),r(M,m.currentOffset(),m.currentPosition()),M}function l(m,b){const E=m.context(),{lastOffset:v,lastStartLoc:w}=E,M=i(4,v,w);return M.key=b,m.nextToken(),r(M,m.currentOffset(),m.currentPosition()),M}function c(m,b){const E=m.context(),{lastOffset:v,lastStartLoc:w}=E,M=i(9,v,w);return M.value=b.replace(Wx,Bx),m.nextToken(),r(M,m.currentOffset(),m.currentPosition()),M}function u(m){const b=m.nextToken(),E=m.context(),{lastOffset:v,lastStartLoc:w}=E,M=i(8,v,w);return b.type!==11?(s(m,Ie.UNEXPECTED_EMPTY_LINKED_MODIFIER,E.lastStartLoc,0),M.value="",r(M,v,w),{nextConsumeToken:b,node:M}):(b.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,un(b)),M.value=b.value||"",r(M,m.currentOffset(),m.currentPosition()),{node:M})}function h(m,b){const E=m.context(),v=i(7,E.offset,E.startLoc);return v.value=b,r(v,m.currentOffset(),m.currentPosition()),v}function f(m){const b=m.context(),E=i(6,b.offset,b.startLoc);let v=m.nextToken();if(v.type===8){const w=u(m);E.modifier=w.node,v=w.nextConsumeToken||m.nextToken()}switch(v.type!==9&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(v)),v=m.nextToken(),v.type===2&&(v=m.nextToken()),v.type){case 10:v.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(v)),E.key=h(m,v.value||"");break;case 4:v.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(v)),E.key=l(m,v.value||"");break;case 5:v.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(v)),E.key=a(m,v.value||"");break;case 6:v.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(v)),E.key=c(m,v.value||"");break;default:{s(m,Ie.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const w=m.context(),M=i(7,w.offset,w.startLoc);return M.value="",r(M,w.offset,w.startLoc),E.key=M,r(E,w.offset,w.startLoc),{nextConsumeToken:v,node:E}}}return r(E,m.currentOffset(),m.currentPosition()),{node:E}}function d(m){const b=m.context(),E=b.currentType===1?m.currentOffset():b.offset,v=b.currentType===1?b.endLoc:b.startLoc,w=i(2,E,v);w.items=[];let M=null;do{const D=M||m.nextToken();switch(M=null,D.type){case 0:D.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(D)),w.items.push(o(m,D.value||""));break;case 5:D.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(D)),w.items.push(a(m,D.value||""));break;case 4:D.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(D)),w.items.push(l(m,D.value||""));break;case 6:D.value==null&&s(m,Ie.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,un(D)),w.items.push(c(m,D.value||""));break;case 7:{const $=f(m);w.items.push($.node),M=$.nextConsumeToken||null;break}}}while(b.currentType!==13&&b.currentType!==1);const k=b.currentType===1?b.lastOffset:m.currentOffset(),O=b.currentType===1?b.lastEndLoc:m.currentPosition();return r(w,k,O),w}function p(m,b,E,v){const w=m.context();let M=v.items.length===0;const k=i(1,b,E);k.cases=[],k.cases.push(v);do{const O=d(m);M||(M=O.items.length===0),k.cases.push(O)}while(w.currentType!==13);return M&&s(m,Ie.MUST_HAVE_MESSAGES_IN_PLURAL,E,0),r(k,m.currentOffset(),m.currentPosition()),k}function g(m){const b=m.context(),{offset:E,startLoc:v}=b,w=d(m);return b.currentType===13?w:p(m,E,v,w)}function _(m){const b=Nx(m,at({},t)),E=b.context(),v=i(0,E.offset,E.startLoc);return e&&v.loc&&(v.loc.source=m),v.body=g(b),t.onCacheKey&&(v.cacheKey=t.onCacheKey(m)),E.currentType!==13&&s(b,Ie.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,m[E.offset]||""),r(v,b.currentOffset(),b.currentPosition()),v}return{parse:_}}function un(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function $x(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function lf(t,e){for(let n=0;n<t.length;n++)_u(t[n],e)}function _u(t,e){switch(t.type){case 1:lf(t.cases,e),e.helper("plural");break;case 2:lf(t.items,e);break;case 6:{_u(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Vx(t,e={}){const n=$x(t);n.helper("normalize"),t.body&&_u(t.body,n);const s=n.context();t.helpers=Array.from(s.helpers)}function Ux(t){const e=t.body;return e.type===2?cf(e):e.cases.forEach(n=>cf(n)),t}function cf(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const s=t.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;e.push(s.value)}if(e.length===t.items.length){t.static=mu(e);for(let n=0;n<t.items.length;n++){const s=t.items[n];(s.type===3||s.type===9)&&delete s.value}}}}function si(t){switch(t.t=t.type,t.type){case 0:{const e=t;si(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let s=0;s<n.length;s++)si(n[s]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let s=0;s<n.length;s++)si(n[s]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;si(e.key),e.k=e.key,delete e.key,e.modifier&&(si(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function zx(t,e){const{filename:n,breakLineCode:s,needIndent:i}=e,r=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:i,indentLevel:0};r&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(g,_){o.code+=g}function c(g,_=!0){const m=_?s:"";l(i?m+"  ".repeat(g):m)}function u(g=!0){const _=++o.indentLevel;g&&c(_)}function h(g=!0){const _=--o.indentLevel;g&&c(_)}function f(){c(o.indentLevel)}return{context:a,push:l,indent:u,deindent:h,newline:f,helper:g=>`_${g}`,needIndent:()=>o.needIndent}}function jx(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),bi(t,e.key),e.modifier?(t.push(", "),bi(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Yx(t,e){const{helper:n,needIndent:s}=t;t.push(`${n("normalize")}([`),t.indent(s());const i=e.items.length;for(let r=0;r<i&&(bi(t,e.items[r]),r!==i-1);r++)t.push(", ");t.deindent(s()),t.push("])")}function Gx(t,e){const{helper:n,needIndent:s}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(s());const i=e.cases.length;for(let r=0;r<i&&(bi(t,e.cases[r]),r!==i-1);r++)t.push(", ");t.deindent(s()),t.push("])")}}function Kx(t,e){e.body?bi(t,e.body):t.push("null")}function bi(t,e){const{helper:n}=t;switch(e.type){case 0:Kx(t,e);break;case 1:Gx(t,e);break;case 2:Yx(t,e);break;case 6:jx(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const qx=(t,e={})=>{const n=Y(e.mode)?e.mode:"normal",s=Y(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,r=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=zx(t,{filename:s,breakLineCode:i,needIndent:r});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(r),o.length>0&&(a.push(`const { ${mu(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),bi(a,t),a.deindent(r),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function Xx(t,e={}){const n=at({},e),s=!!n.jit,i=!!n.minify,r=n.optimize==null?!0:n.optimize,a=Hx(n).parse(t);return s?(r&&Ux(a),i&&si(a),{ast:a,code:""}):(Vx(a,n),qx(a,n))}/*!
  * core-base v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Qx(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ds().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ds().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function bn(t){return Se(t)&&bu(t)===0&&(Jt(t,"b")||Jt(t,"body"))}const Em=["b","body"];function Jx(t){return ys(t,Em)}const Sm=["c","cases"];function Zx(t){return ys(t,Sm,[])}const wm=["s","static"];function eC(t){return ys(t,wm)}const km=["i","items"];function tC(t){return ys(t,km,[])}const Tm=["t","type"];function bu(t){return ys(t,Tm)}const Im=["v","value"];function go(t,e){const n=ys(t,Im);if(n!=null)return n;throw wr(e)}const Pm=["m","modifier"];function nC(t){return ys(t,Pm)}const Mm=["k","key"];function sC(t){const e=ys(t,Mm);if(e)return e;throw wr(6)}function ys(t,e,n){for(let s=0;s<e.length;s++){const i=e[s];if(Jt(t,i)&&t[i]!=null)return t[i]}return n}const Am=[...Em,...Sm,...wm,...km,...Mm,...Pm,...Im,...Tm];function wr(t){return new Error(`unhandled node type: ${t}`)}function bl(t){return n=>iC(n,t)}function iC(t,e){const n=Jx(e);if(n==null)throw wr(0);if(bu(n)===1){const r=Zx(n);return t.plural(r.reduce((o,a)=>[...o,uf(t,a)],[]))}else return uf(t,n)}function uf(t,e){const n=eC(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const s=tC(e).reduce((i,r)=>[...i,uc(t,r)],[]);return t.normalize(s)}}function uc(t,e){const n=bu(e);switch(n){case 3:return go(e,n);case 9:return go(e,n);case 4:{const s=e;if(Jt(s,"k")&&s.k)return t.interpolate(t.named(s.k));if(Jt(s,"key")&&s.key)return t.interpolate(t.named(s.key));throw wr(n)}case 5:{const s=e;if(Jt(s,"i")&&tt(s.i))return t.interpolate(t.list(s.i));if(Jt(s,"index")&&tt(s.index))return t.interpolate(t.list(s.index));throw wr(n)}case 6:{const s=e,i=nC(s),r=sC(s);return t.linked(uc(t,r),i?uc(t,i):void 0,t.type)}case 7:return go(e,n);case 8:return go(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const rC=t=>t;let mo=Ae();function oC(t,e={}){let n=!1;const s=e.onError||Px;return e.onError=i=>{n=!0,s(i)},{...Xx(t,e),detectError:n}}function aC(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Y(t)){ve(e.warnHtmlMessage)&&e.warnHtmlMessage;const s=(e.onCacheKey||rC)(t),i=mo[s];if(i)return i;const{ast:r,detectError:o}=oC(t,{...e,location:!1,jit:!0}),a=bl(r);return o?a:mo[s]=a}else{const n=t.cacheKey;if(n){const s=mo[n];return s||(mo[n]=bl(t))}else return bl(t)}}let kr=null;function lC(t){kr=t}function cC(t,e,n){kr&&kr.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const uC=hC("function:translate");function hC(t){return e=>kr&&kr.emit(t,e)}const On={INVALID_ARGUMENT:Ix,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},fC=24;function Dn(t){return Fa(t,null,void 0)}function yu(t,e){return e.locale!=null?hf(e.locale):hf(t.locale)}let yl;function hf(t){if(Y(t))return t;if($e(t)){if(t.resolvedOnce&&yl!=null)return yl;if(t.constructor.name==="Function"){const e=t();if(wx(e))throw Dn(On.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return yl=e}else throw Dn(On.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Dn(On.NOT_SUPPORT_LOCALE_TYPE)}function dC(t,e,n){return[...new Set([n,...Ge(e)?e:Se(e)?Object.keys(e):Y(e)?[e]:[n]])]}function Rm(t,e,n){const s=Y(n)?n:Tr,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let r=i.__localeChainCache.get(s);if(!r){r=[];let o=[n];for(;Ge(o);)o=ff(r,o,e);const a=Ge(e)||!fe(e)?e:e.default?e.default:null;o=Y(a)?[a]:a,Ge(o)&&ff(r,o,!1),i.__localeChainCache.set(s,r)}return r}function ff(t,e,n){let s=!0;for(let i=0;i<e.length&&ve(s);i++){const r=e[i];Y(r)&&(s=pC(t,e[i],n))}return s}function pC(t,e,n){let s;const i=e.split("-");do{const r=i.join("-");s=gC(t,r,n),i.splice(-1,1)}while(i.length&&s===!0);return s}function gC(t,e,n){let s=!1;if(!t.includes(e)&&(s=!0,e)){s=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Ge(n)||fe(n))&&n[i]&&(s=n[i])}return s}const vs=[];vs[0]={w:[0],i:[3,0],"[":[4],o:[7]};vs[1]={w:[1],".":[2],"[":[4],o:[7]};vs[2]={w:[2],i:[3,0],0:[3,0]};vs[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};vs[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};vs[5]={"'":[4,0],o:8,l:[5,0]};vs[6]={'"':[4,0],o:8,l:[6,0]};const mC=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function _C(t){return mC.test(t)}function bC(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function yC(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function vC(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:_C(e)?bC(e):"*"+e}function xC(t){const e=[];let n=-1,s=0,i=0,r,o,a,l,c,u,h;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),i++},f[3]=()=>{if(i>0)i--,s=4,f[0]();else{if(i=0,o===void 0||(o=vC(o),o===!1))return!1;f[1]()}};function d(){const p=t[n+1];if(s===5&&p==="'"||s===6&&p==='"')return n++,a="\\"+p,f[0](),!0}for(;s!==null;)if(n++,r=t[n],!(r==="\\"&&d())){if(l=yC(r),h=vs[s],c=h[l]||h.l||8,c===8||(s=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=r,u()===!1))))return;if(s===7)return e}}const df=new Map;function CC(t,e){return Se(t)?t[e]:null}function EC(t,e){if(!Se(t))return null;let n=df.get(e);if(n||(n=xC(e),n&&df.set(e,n)),!n)return null;const s=n.length;let i=t,r=0;for(;r<s;){const o=n[r];if(Am.includes(o)&&bn(i))return null;const a=i[o];if(a===void 0||$e(i))return null;i=a,r++}return i}const SC="11.1.11",Wa=-1,Tr="en-US",pf="",gf=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function wC(){return{upper:(t,e)=>e==="text"&&Y(t)?t.toUpperCase():e==="vnode"&&Se(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Y(t)?t.toLowerCase():e==="vnode"&&Se(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Y(t)?gf(t):e==="vnode"&&Se(t)&&"__v_isVNode"in t?gf(t.children):t}}let Om;function kC(t){Om=t}let Dm;function TC(t){Dm=t}let Lm;function IC(t){Lm=t}let Nm=null;const PC=t=>{Nm=t},MC=()=>Nm;let Fm=null;const mf=t=>{Fm=t},AC=()=>Fm;let _f=0;function RC(t={}){const e=$e(t.onWarn)?t.onWarn:bx,n=Y(t.version)?t.version:SC,s=Y(t.locale)||$e(t.locale)?t.locale:Tr,i=$e(s)?Tr:s,r=Ge(t.fallbackLocale)||fe(t.fallbackLocale)||Y(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=fe(t.messages)?t.messages:vl(i),a=fe(t.datetimeFormats)?t.datetimeFormats:vl(i),l=fe(t.numberFormats)?t.numberFormats:vl(i),c=at(Ae(),t.modifiers,wC()),u=t.pluralRules||Ae(),h=$e(t.missing)?t.missing:null,f=ve(t.missingWarn)||_i(t.missingWarn)?t.missingWarn:!0,d=ve(t.fallbackWarn)||_i(t.fallbackWarn)?t.fallbackWarn:!0,p=!!t.fallbackFormat,g=!!t.unresolving,_=$e(t.postTranslation)?t.postTranslation:null,m=fe(t.processor)?t.processor:null,b=ve(t.warnHtmlMessage)?t.warnHtmlMessage:!0,E=!!t.escapeParameter,v=$e(t.messageCompiler)?t.messageCompiler:Om,w=$e(t.messageResolver)?t.messageResolver:Dm||CC,M=$e(t.localeFallbacker)?t.localeFallbacker:Lm||dC,k=Se(t.fallbackContext)?t.fallbackContext:void 0,O=t,D=Se(O.__datetimeFormatters)?O.__datetimeFormatters:new Map,$=Se(O.__numberFormatters)?O.__numberFormatters:new Map,G=Se(O.__meta)?O.__meta:{};_f++;const K={version:n,cid:_f,locale:s,fallbackLocale:r,messages:o,modifiers:c,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:d,fallbackFormat:p,unresolving:g,postTranslation:_,processor:m,warnHtmlMessage:b,escapeParameter:E,messageCompiler:v,messageResolver:w,localeFallbacker:M,fallbackContext:k,onWarn:e,__meta:G};return K.datetimeFormats=a,K.numberFormats=l,K.__datetimeFormatters=D,K.__numberFormatters=$,__INTLIFY_PROD_DEVTOOLS__&&cC(K,n,G),K}const vl=t=>({[t]:Ae()});function vu(t,e,n,s,i){const{missing:r,onWarn:o}=t;if(r!==null){const a=r(t,n,e,i);return Y(a)?a:e}else return e}function Ni(t,e,n){const s=t;s.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function OC(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function DC(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let s=n+1;s<e.length;s++)if(OC(t,e[s]))return!0;return!1}function bf(t,...e){const{datetimeFormats:n,unresolving:s,fallbackLocale:i,onWarn:r,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,u,h]=hc(...e),f=ve(u.missingWarn)?u.missingWarn:t.missingWarn;ve(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const d=!!u.part,p=yu(t,u),g=o(t,i,p);if(!Y(l)||l==="")return new Intl.DateTimeFormat(p,h).format(c);let _={},m,b=null;const E="datetime format";for(let M=0;M<g.length&&(m=g[M],_=n[m]||{},b=_[l],!fe(b));M++)vu(t,l,m,f,E);if(!fe(b)||!Y(m))return s?Wa:l;let v=`${m}__${l}`;Na(h)||(v=`${v}__${JSON.stringify(h)}`);let w=a.get(v);return w||(w=new Intl.DateTimeFormat(m,at({},b,h)),a.set(v,w)),d?w.formatToParts(c):w.format(c)}const Wm=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function hc(...t){const[e,n,s,i]=t,r=Ae();let o=Ae(),a;if(Y(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Dn(On.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Dn(On.INVALID_ISO_DATE_ARGUMENT)}}else if(xx(e)){if(isNaN(e.getTime()))throw Dn(On.INVALID_DATE_ARGUMENT);a=e}else if(tt(e))a=e;else throw Dn(On.INVALID_ARGUMENT);return Y(n)?r.key=n:fe(n)&&Object.keys(n).forEach(l=>{Wm.includes(l)?o[l]=n[l]:r[l]=n[l]}),Y(s)?r.locale=s:fe(s)&&(o=s),fe(i)&&(o=i),[r.key||"",a,r,o]}function yf(t,e,n){const s=t;for(const i in n){const r=`${e}__${i}`;s.__datetimeFormatters.has(r)&&s.__datetimeFormatters.delete(r)}}function vf(t,...e){const{numberFormats:n,unresolving:s,fallbackLocale:i,onWarn:r,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,u,h]=fc(...e),f=ve(u.missingWarn)?u.missingWarn:t.missingWarn;ve(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const d=!!u.part,p=yu(t,u),g=o(t,i,p);if(!Y(l)||l==="")return new Intl.NumberFormat(p,h).format(c);let _={},m,b=null;const E="number format";for(let M=0;M<g.length&&(m=g[M],_=n[m]||{},b=_[l],!fe(b));M++)vu(t,l,m,f,E);if(!fe(b)||!Y(m))return s?Wa:l;let v=`${m}__${l}`;Na(h)||(v=`${v}__${JSON.stringify(h)}`);let w=a.get(v);return w||(w=new Intl.NumberFormat(m,at({},b,h)),a.set(v,w)),d?w.formatToParts(c):w.format(c)}const Bm=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function fc(...t){const[e,n,s,i]=t,r=Ae();let o=Ae();if(!tt(e))throw Dn(On.INVALID_ARGUMENT);const a=e;return Y(n)?r.key=n:fe(n)&&Object.keys(n).forEach(l=>{Bm.includes(l)?o[l]=n[l]:r[l]=n[l]}),Y(s)?r.locale=s:fe(s)&&(o=s),fe(i)&&(o=i),[r.key||"",a,r,o]}function xf(t,e,n){const s=t;for(const i in n){const r=`${e}__${i}`;s.__numberFormatters.has(r)&&s.__numberFormatters.delete(r)}}const LC=t=>t,NC=t=>"",FC="text",WC=t=>t.length===0?"":mu(t),BC=kx;function Cf(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function HC(t){const e=tt(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(tt(t.named.count)||tt(t.named.n))?tt(t.named.count)?t.named.count:tt(t.named.n)?t.named.n:e:e}function $C(t,e){e.count||(e.count=t),e.n||(e.n=t)}function VC(t={}){const e=t.locale,n=HC(t),s=Se(t.pluralRules)&&Y(e)&&$e(t.pluralRules[e])?t.pluralRules[e]:Cf,i=Se(t.pluralRules)&&Y(e)&&$e(t.pluralRules[e])?Cf:void 0,r=m=>m[s(n,m.length,i)],o=t.list||[],a=m=>o[m],l=t.named||Ae();tt(t.pluralIndex)&&$C(n,l);const c=m=>l[m];function u(m,b){const E=$e(t.messages)?t.messages(m,!!b):Se(t.messages)?t.messages[m]:!1;return E||(t.parent?t.parent.message(m):NC)}const h=m=>t.modifiers?t.modifiers[m]:LC,f=fe(t.processor)&&$e(t.processor.normalize)?t.processor.normalize:WC,d=fe(t.processor)&&$e(t.processor.interpolate)?t.processor.interpolate:BC,p=fe(t.processor)&&Y(t.processor.type)?t.processor.type:FC,_={list:a,named:c,plural:r,linked:(m,...b)=>{const[E,v]=b;let w="text",M="";b.length===1?Se(E)?(M=E.modifier||M,w=E.type||w):Y(E)&&(M=E||M):b.length===2&&(Y(E)&&(M=E||M),Y(v)&&(w=v||w));const k=u(m,!0)(_),O=w==="vnode"&&Ge(k)&&M?k[0]:k;return M?h(M)(O,w):O},message:u,type:p,interpolate:d,normalize:f,values:at(Ae(),o,l)};return _}const Ef=()=>"",Gt=t=>$e(t);function Sf(t,...e){const{fallbackFormat:n,postTranslation:s,unresolving:i,messageCompiler:r,fallbackLocale:o,messages:a}=t,[l,c]=dc(...e),u=ve(c.missingWarn)?c.missingWarn:t.missingWarn,h=ve(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=ve(c.escapeParameter)?c.escapeParameter:t.escapeParameter,d=!!c.resolvedMessage,p=Y(c.default)||ve(c.default)?ve(c.default)?r?l:()=>l:c.default:n?r?l:()=>l:null,g=n||p!=null&&(Y(p)||$e(p)),_=yu(t,c);f&&UC(c);let[m,b,E]=d?[l,_,a[_]||Ae()]:Hm(t,l,_,o,h,u),v=m,w=l;if(!d&&!(Y(v)||bn(v)||Gt(v))&&g&&(v=p,w=v),!d&&(!(Y(v)||bn(v)||Gt(v))||!Y(b)))return i?Wa:l;let M=!1;const k=()=>{M=!0},O=Gt(v)?v:$m(t,l,b,v,w,k);if(M)return v;const D=YC(t,b,E,c),$=VC(D),G=zC(t,O,$);let K=s?s(G,l):G;if(f&&Y(K)&&(K=Ex(K)),__INTLIFY_PROD_DEVTOOLS__){const _e={timestamp:Date.now(),key:Y(l)?l:Gt(v)?v.key:"",locale:b||(Gt(v)?v.locale:""),format:Y(v)?v:Gt(v)?v.source:"",message:K};_e.meta=at({},t.__meta,MC()||{}),uC(_e)}return K}function UC(t){Ge(t.list)?t.list=t.list.map(e=>Y(e)?rf(e):e):Se(t.named)&&Object.keys(t.named).forEach(e=>{Y(t.named[e])&&(t.named[e]=rf(t.named[e]))})}function Hm(t,e,n,s,i,r){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,s,n);let h=Ae(),f,d=null;const p="translate";for(let g=0;g<u.length&&(f=u[g],h=o[f]||Ae(),(d=l(h,e))===null&&(d=h[e]),!(Y(d)||bn(d)||Gt(d)));g++)if(!DC(f,u)){const _=vu(t,e,f,r,p);_!==e&&(d=_)}return[d,f,h]}function $m(t,e,n,s,i,r){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Gt(s)){const c=s;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>s;return c.locale=n,c.key=e,c}const l=o(s,jC(t,n,i,s,a,r));return l.locale=n,l.key=e,l.source=s,l}function zC(t,e,n){return e(n)}function dc(...t){const[e,n,s]=t,i=Ae();if(!Y(e)&&!tt(e)&&!Gt(e)&&!bn(e))throw Dn(On.INVALID_ARGUMENT);const r=tt(e)?String(e):(Gt(e),e);return tt(n)?i.plural=n:Y(n)?i.default=n:fe(n)&&!Na(n)?i.named=n:Ge(n)&&(i.list=n),tt(s)?i.plural=s:Y(s)?i.default=s:fe(s)&&at(i,s),[r,i]}function jC(t,e,n,s,i,r){return{locale:e,key:n,warnHtmlMessage:i,onError:o=>{throw r&&r(o),o},onCacheKey:o=>yx(e,n,o)}}function YC(t,e,n,s){const{modifiers:i,pluralRules:r,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:i,pluralRules:r,messages:(d,p)=>{let g=o(n,d);if(g==null&&(u||p)){const[,,_]=Hm(u||t,d,e,a,l,c);g=o(_,d)}if(Y(g)||bn(g)){let _=!1;const b=$m(t,d,e,g,d,()=>{_=!0});return _?Ef:b}else return Gt(g)?g:Ef}};return t.processor&&(f.processor=t.processor),s.list&&(f.list=s.list),s.named&&(f.named=s.named),tt(s.plural)&&(f.pluralIndex=s.plural),f}Qx();/*!
  * vue-i18n v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const GC="11.1.11";function KC(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ds().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ds().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ds().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ds().__INTLIFY_PROD_DEVTOOLS__=!1)}const Lt={UNEXPECTED_RETURN_TYPE:fC,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function zt(t,...e){return Fa(t,null,void 0)}const pc=bs("__translateVNode"),gc=bs("__datetimeParts"),mc=bs("__numberParts"),Vm=bs("__setPluralRules"),Um=bs("__injectWithOption"),_c=bs("__dispose");function Ir(t){if(!Se(t)||bn(t))return t;for(const e in t)if(Jt(t,e))if(!e.includes("."))Se(t[e])&&Ir(t[e]);else{const n=e.split("."),s=n.length-1;let i=t,r=!1;for(let o=0;o<s;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in i||(i[n[o]]=Ae()),!Se(i[n[o]])){r=!0;break}i=i[n[o]]}if(r||(bn(i)?Am.includes(n[s])||delete t[e]:(i[n[s]]=t[e],delete t[e])),!bn(i)){const o=i[n[s]];Se(o)&&Ir(o)}}return t}function xu(t,e){const{messages:n,__i18n:s,messageResolver:i,flatJson:r}=e,o=fe(n)?n:Ge(s)?Ae():{[t]:Ae()};if(Ge(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Ae(),Fo(c,o[l])):Fo(c,o)}else Y(a)&&Fo(JSON.parse(a),o)}),i==null&&r)for(const a in o)Jt(o,a)&&Ir(o[a]);return o}function zm(t){return t.type}function jm(t,e,n){let s=Se(e.messages)?e.messages:Ae();"__i18nGlobal"in n&&(s=xu(t.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const i=Object.keys(s);i.length&&i.forEach(r=>{t.mergeLocaleMessage(r,s[r])});{if(Se(e.datetimeFormats)){const r=Object.keys(e.datetimeFormats);r.length&&r.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Se(e.numberFormats)){const r=Object.keys(e.numberFormats);r.length&&r.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function wf(t){return se(Jr,null,t,0)}const kf="__INTLIFY_META__",Tf=()=>[],qC=()=>!1;let If=0;function Pf(t){return(e,n,s,i)=>t(n,s,mi()||void 0,i)}const XC=()=>{const t=mi();let e=null;return t&&(e=zm(t)[kf])?{[kf]:e}:null};function Cu(t={}){const{__root:e,__injectWithOption:n}=t,s=e===void 0,i=t.flatJson,r=qo?kt:$g;let o=ve(t.inheritLocale)?t.inheritLocale:!0;const a=r(e&&o?e.locale.value:Y(t.locale)?t.locale:Tr),l=r(e&&o?e.fallbackLocale.value:Y(t.fallbackLocale)||Ge(t.fallbackLocale)||fe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),c=r(xu(a.value,t)),u=r(fe(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),h=r(fe(t.numberFormats)?t.numberFormats:{[a.value]:{}});let f=e?e.missingWarn:ve(t.missingWarn)||_i(t.missingWarn)?t.missingWarn:!0,d=e?e.fallbackWarn:ve(t.fallbackWarn)||_i(t.fallbackWarn)?t.fallbackWarn:!0,p=e?e.fallbackRoot:ve(t.fallbackRoot)?t.fallbackRoot:!0,g=!!t.fallbackFormat,_=$e(t.missing)?t.missing:null,m=$e(t.missing)?Pf(t.missing):null,b=$e(t.postTranslation)?t.postTranslation:null,E=e?e.warnHtmlMessage:ve(t.warnHtmlMessage)?t.warnHtmlMessage:!0,v=!!t.escapeParameter;const w=e?e.modifiers:fe(t.modifiers)?t.modifiers:{};let M=t.pluralRules||e&&e.pluralRules,k;k=(()=>{s&&mf(null);const T={version:GC,locale:a.value,fallbackLocale:l.value,messages:c.value,modifiers:w,pluralRules:M,missing:m===null?void 0:m,missingWarn:f,fallbackWarn:d,fallbackFormat:g,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:E,escapeParameter:v,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};T.datetimeFormats=u.value,T.numberFormats=h.value,T.__datetimeFormatters=fe(k)?k.__datetimeFormatters:void 0,T.__numberFormatters=fe(k)?k.__numberFormatters:void 0;const R=RC(T);return s&&mf(R),R})(),Ni(k,a.value,l.value);function D(){return[a.value,l.value,c.value,u.value,h.value]}const $=Me({get:()=>a.value,set:T=>{k.locale=T,a.value=T}}),G=Me({get:()=>l.value,set:T=>{k.fallbackLocale=T,l.value=T,Ni(k,a.value,T)}}),K=Me(()=>c.value),_e=Me(()=>u.value),Ye=Me(()=>h.value);function ae(){return $e(b)?b:null}function te(T){b=T,k.postTranslation=T}function Q(){return _}function ne(T){T!==null&&(m=Pf(T)),_=T,k.missing=m}const pe=(T,R,q,ee,ue,st)=>{D();let Xe;try{__INTLIFY_PROD_DEVTOOLS__,s||(k.fallbackContext=e?AC():void 0),Xe=T(k)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(k.fallbackContext=void 0)}if(q!=="translate exists"&&tt(Xe)&&Xe===Wa||q==="translate exists"&&!Xe){const[jt,Xt]=R();return e&&p?ee(e):ue(jt)}else{if(st(Xe))return Xe;throw zt(Lt.UNEXPECTED_RETURN_TYPE)}};function Ze(...T){return pe(R=>Reflect.apply(Sf,null,[R,...T]),()=>dc(...T),"translate",R=>Reflect.apply(R.t,R,[...T]),R=>R,R=>Y(R))}function et(...T){const[R,q,ee]=T;if(ee&&!Se(ee))throw zt(Lt.INVALID_ARGUMENT);return Ze(R,q,at({resolvedMessage:!0},ee||{}))}function Be(...T){return pe(R=>Reflect.apply(bf,null,[R,...T]),()=>hc(...T),"datetime format",R=>Reflect.apply(R.d,R,[...T]),()=>pf,R=>Y(R)||Ge(R))}function gt(...T){return pe(R=>Reflect.apply(vf,null,[R,...T]),()=>fc(...T),"number format",R=>Reflect.apply(R.n,R,[...T]),()=>pf,R=>Y(R)||Ge(R))}function lt(T){return T.map(R=>Y(R)||tt(R)||ve(R)?wf(String(R)):R)}const Ue={normalize:lt,interpolate:T=>T,type:"vnode"};function N(...T){return pe(R=>{let q;const ee=R;try{ee.processor=Ue,q=Reflect.apply(Sf,null,[ee,...T])}finally{ee.processor=null}return q},()=>dc(...T),"translate",R=>R[pc](...T),R=>[wf(R)],R=>Ge(R))}function j(...T){return pe(R=>Reflect.apply(vf,null,[R,...T]),()=>fc(...T),"number format",R=>R[mc](...T),Tf,R=>Y(R)||Ge(R))}function U(...T){return pe(R=>Reflect.apply(bf,null,[R,...T]),()=>hc(...T),"datetime format",R=>R[gc](...T),Tf,R=>Y(R)||Ge(R))}function X(T){M=T,k.pluralRules=M}function Ee(T,R){return pe(()=>{if(!T)return!1;const q=Y(R)?R:a.value,ee=P(q),ue=k.messageResolver(ee,T);return bn(ue)||Gt(ue)||Y(ue)},()=>[T],"translate exists",q=>Reflect.apply(q.te,q,[T,R]),qC,q=>ve(q))}function C(T){let R=null;const q=Rm(k,l.value,a.value);for(let ee=0;ee<q.length;ee++){const ue=c.value[q[ee]]||{},st=k.messageResolver(ue,T);if(st!=null){R=st;break}}return R}function S(T){const R=C(T);return R??(e?e.tm(T)||{}:{})}function P(T){return c.value[T]||{}}function L(T,R){if(i){const q={[T]:R};for(const ee in q)Jt(q,ee)&&Ir(q[ee]);R=q[T]}c.value[T]=R,k.messages=c.value}function W(T,R){c.value[T]=c.value[T]||{};const q={[T]:R};if(i)for(const ee in q)Jt(q,ee)&&Ir(q[ee]);R=q[T],Fo(R,c.value[T]),k.messages=c.value}function F(T){return u.value[T]||{}}function y(T,R){u.value[T]=R,k.datetimeFormats=u.value,yf(k,T,R)}function x(T,R){u.value[T]=at(u.value[T]||{},R),k.datetimeFormats=u.value,yf(k,T,R)}function I(T){return h.value[T]||{}}function A(T,R){h.value[T]=R,k.numberFormats=h.value,xf(k,T,R)}function z(T,R){h.value[T]=at(h.value[T]||{},R),k.numberFormats=h.value,xf(k,T,R)}If++,e&&qo&&(Bn(e.locale,T=>{o&&(a.value=T,k.locale=T,Ni(k,a.value,l.value))}),Bn(e.fallbackLocale,T=>{o&&(l.value=T,k.fallbackLocale=T,Ni(k,a.value,l.value))}));const B={id:If,locale:$,fallbackLocale:G,get inheritLocale(){return o},set inheritLocale(T){o=T,T&&e&&(a.value=e.locale.value,l.value=e.fallbackLocale.value,Ni(k,a.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:K,get modifiers(){return w},get pluralRules(){return M||{}},get isGlobal(){return s},get missingWarn(){return f},set missingWarn(T){f=T,k.missingWarn=f},get fallbackWarn(){return d},set fallbackWarn(T){d=T,k.fallbackWarn=d},get fallbackRoot(){return p},set fallbackRoot(T){p=T},get fallbackFormat(){return g},set fallbackFormat(T){g=T,k.fallbackFormat=g},get warnHtmlMessage(){return E},set warnHtmlMessage(T){E=T,k.warnHtmlMessage=T},get escapeParameter(){return v},set escapeParameter(T){v=T,k.escapeParameter=T},t:Ze,getLocaleMessage:P,setLocaleMessage:L,mergeLocaleMessage:W,getPostTranslationHandler:ae,setPostTranslationHandler:te,getMissingHandler:Q,setMissingHandler:ne,[Vm]:X};return B.datetimeFormats=_e,B.numberFormats=Ye,B.rt=et,B.te=Ee,B.tm=S,B.d=Be,B.n=gt,B.getDateTimeFormat=F,B.setDateTimeFormat=y,B.mergeDateTimeFormat=x,B.getNumberFormat=I,B.setNumberFormat=A,B.mergeNumberFormat=z,B[Um]=n,B[pc]=N,B[gc]=U,B[mc]=j,B}function QC(t){const e=Y(t.locale)?t.locale:Tr,n=Y(t.fallbackLocale)||Ge(t.fallbackLocale)||fe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,s=$e(t.missing)?t.missing:void 0,i=ve(t.silentTranslationWarn)||_i(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,r=ve(t.silentFallbackWarn)||_i(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=ve(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=fe(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=$e(t.postTranslation)?t.postTranslation:void 0,h=Y(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,d=ve(t.sync)?t.sync:!0;let p=t.messages;if(fe(t.sharedMessages)){const w=t.sharedMessages;p=Object.keys(w).reduce((k,O)=>{const D=k[O]||(k[O]={});return at(D,w[O]),k},p||{})}const{__i18n:g,__root:_,__injectWithOption:m}=t,b=t.datetimeFormats,E=t.numberFormats,v=t.flatJson;return{locale:e,fallbackLocale:n,messages:p,flatJson:v,datetimeFormats:b,numberFormats:E,missing:s,missingWarn:i,fallbackWarn:r,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:d,__i18n:g,__root:_,__injectWithOption:m}}function bc(t={}){const e=Cu(QC(t)),{__extender:n}=t,s={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return ve(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=ve(i)?!i:i},get silentFallbackWarn(){return ve(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=ve(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){return Reflect.apply(e.t,e,[...i])},rt(...i){return Reflect.apply(e.rt,e,[...i])},te(i,r){return e.te(i,r)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,r){e.setLocaleMessage(i,r)},mergeLocaleMessage(i,r){e.mergeLocaleMessage(i,r)},d(...i){return Reflect.apply(e.d,e,[...i])},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,r){e.setDateTimeFormat(i,r)},mergeDateTimeFormat(i,r){e.mergeDateTimeFormat(i,r)},n(...i){return Reflect.apply(e.n,e,[...i])},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,r){e.setNumberFormat(i,r)},mergeNumberFormat(i,r){e.mergeNumberFormat(i,r)}};return s.__extender=n,s}function JC(t,e,n){return{beforeCreate(){const s=mi();if(!s)throw zt(Lt.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const r=i.i18n;if(i.__i18n&&(r.__i18n=i.__i18n),r.__root=e,this===this.$root)this.$i18n=Mf(t,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=bc(r);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=Mf(t,i);else{this.$i18n=bc({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&jm(e,i,i),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$te=(r,o)=>this.$i18n.te(r,o),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=mi();if(!s)throw zt(Lt.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(s),delete this.$i18n}}}function Mf(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[Vm](e.pluralizationRules||t.pluralizationRules);const n=xu(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(s=>t.mergeLocaleMessage(s,n[s])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(s=>t.mergeDateTimeFormat(s,e.datetimeFormats[s])),e.numberFormats&&Object.keys(e.numberFormats).forEach(s=>t.mergeNumberFormat(s,e.numberFormats[s])),t}const Eu={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function ZC({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((s,i)=>[...s,...i.type===Qe?i.children:[i]],[]):e.reduce((n,s)=>{const i=t[s];return i&&(n[s]=i()),n},Ae())}function Ym(){return Qe}const eE=Pt({name:"i18n-t",props:at({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>tt(t)||!isNaN(t)}},Eu),setup(t,e){const{slots:n,attrs:s}=e,i=t.i18n||Ba({useScope:t.scope,__useComponent:!0});return()=>{const r=Object.keys(n).filter(h=>h[0]!=="_"),o=Ae();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Y(t.plural)?+t.plural:t.plural);const a=ZC(e,r),l=i[pc](t.keypath,a,o),c=at(Ae(),s),u=Y(t.tag)||Se(t.tag)?t.tag:Ym();return Vs(u,c,l)}}}),Af=eE;function tE(t){return Ge(t)&&!Y(t[0])}function Gm(t,e,n,s){const{slots:i,attrs:r}=e;return()=>{const o={part:!0};let a=Ae();t.locale&&(o.locale=t.locale),Y(t.format)?o.key=t.format:Se(t.format)&&(Y(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,d)=>n.includes(d)?at(Ae(),f,{[d]:t.format[d]}):f,Ae()));const l=s(t.value,o,a);let c=[o.key];Ge(l)?c=l.map((f,d)=>{const p=i[f.type],g=p?p({[f.type]:f.value,index:d,parts:l}):[f.value];return tE(g)&&(g[0].key=`${f.type}-${d}`),g}):Y(l)&&(c=[l]);const u=at(Ae(),r),h=Y(t.tag)||Se(t.tag)?t.tag:Ym();return Vs(h,u,c)}}const nE=Pt({name:"i18n-n",props:at({value:{type:Number,required:!0},format:{type:[String,Object]}},Eu),setup(t,e){const n=t.i18n||Ba({useScope:t.scope,__useComponent:!0});return Gm(t,e,Bm,(...s)=>n[mc](...s))}}),Rf=nE;function sE(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const s=n.__getInstance(e);return s!=null?s.__composer:t.global.__composer}}function iE(t){const e=o=>{const{instance:a,value:l}=o;if(!a||!a.$)throw zt(Lt.UNEXPECTED_ERROR);const c=sE(t,a.$),u=Of(l);return[Reflect.apply(c.t,c,[...Df(u)]),c]};return{created:(o,a)=>{const[l,c]=e(a);qo&&t.global===c&&(o.__i18nWatcher=Bn(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{qo&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=Of(a);o.textContent=Reflect.apply(l.t,l,[...Df(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function Of(t){if(Y(t))return{path:t};if(fe(t)){if(!("path"in t))throw zt(Lt.REQUIRED_VALUE,"path");return t}else throw zt(Lt.INVALID_VALUE)}function Df(t){const{path:e,locale:n,args:s,choice:i,plural:r}=t,o={},a=s||{};return Y(n)&&(o.locale=n),tt(i)&&(o.plural=i),tt(r)&&(o.plural=r),[e,a,o]}function rE(t,e,...n){const s=fe(n[0])?n[0]:{};(ve(s.globalInstall)?s.globalInstall:!0)&&([Af.name,"I18nT"].forEach(r=>t.component(r,Af)),[Rf.name,"I18nN"].forEach(r=>t.component(r,Rf)),[Nf.name,"I18nD"].forEach(r=>t.component(r,Nf))),t.directive("t",iE(e))}const oE=bs("global-vue-i18n");function aE(t={}){const e=__VUE_I18N_LEGACY_API__&&ve(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=ve(t.globalInjection)?t.globalInjection:!0,s=new Map,[i,r]=lE(t,e),o=bs("");function a(h){return s.get(h)||null}function l(h,f){s.set(h,f)}function c(h){s.delete(h)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(h,...f){if(h.__VUE_I18N_SYMBOL__=o,h.provide(h.__VUE_I18N_SYMBOL__,u),fe(f[0])){const g=f[0];u.__composerExtend=g.__composerExtend,u.__vueI18nExtend=g.__vueI18nExtend}let d=null;!e&&n&&(d=mE(h,u.global)),__VUE_I18N_FULL_INSTALL__&&rE(h,u,...f),__VUE_I18N_LEGACY_API__&&e&&h.mixin(JC(r,r.__composer,u));const p=h.unmount;h.unmount=()=>{d&&d(),u.dispose(),p()}},get global(){return r},dispose(){i.stop()},__instances:s,__getInstance:a,__setInstance:l,__deleteInstance:c};return u}function Ba(t={}){const e=mi();if(e==null)throw zt(Lt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw zt(Lt.NOT_INSTALLED);const n=cE(e),s=hE(n),i=zm(e),r=uE(t,i);if(r==="global")return jm(s,t,i),s;if(r==="parent"){let l=fE(n,e,t.__useComponent);return l==null&&(l=s),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=at({},t);"__i18n"in i&&(l.__i18n=i.__i18n),s&&(l.__root=s),a=Cu(l),o.__composerExtend&&(a[_c]=o.__composerExtend(a)),pE(o,e,a),o.__setInstance(e,a)}return a}function lE(t,e){const n=sv(),s=__VUE_I18N_LEGACY_API__&&e?n.run(()=>bc(t)):n.run(()=>Cu(t));if(s==null)throw zt(Lt.UNEXPECTED_ERROR);return[n,s]}function cE(t){const e=sn(t.isCE?oE:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw zt(t.isCE?Lt.NOT_INSTALLED_WITH_PROVIDE:Lt.UNEXPECTED_ERROR);return e}function uE(t,e){return Na(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function hE(t){return t.mode==="composition"?t.global:t.global.__composer}function fE(t,e,n=!1){let s=null;const i=e.root;let r=dE(e,n);for(;r!=null;){const o=t;if(t.mode==="composition")s=o.__getInstance(r);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(r);a!=null&&(s=a.__composer,n&&s&&!s[Um]&&(s=null))}if(s!=null||i===r)break;r=r.parent}return s}function dE(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function pE(t,e,n){Oa(()=>{},e),cu(()=>{const s=n;t.__deleteInstance(e);const i=s[_c];i&&(i(),delete s[_c])},e)}const gE=["locale","fallbackLocale","availableLocales"],Lf=["t","rt","d","n","tm","te"];function mE(t,e){const n=Object.create(null);return gE.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r)throw zt(Lt.UNEXPECTED_ERROR);const o=pt(r.value)?{get(){return r.value.value},set(a){r.value.value=a}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,i,o)}),t.config.globalProperties.$i18n=n,Lf.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r||!r.value)throw zt(Lt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,r)}),()=>{delete t.config.globalProperties.$i18n,Lf.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}const _E=Pt({name:"i18n-d",props:at({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Eu),setup(t,e){const n=t.i18n||Ba({useScope:t.scope,__useComponent:!0});return Gm(t,e,Wm,(...s)=>n[gc](...s))}}),Nf=_E;KC();kC(aC);TC(EC);IC(Rm);if(__INTLIFY_PROD_DEVTOOLS__){const t=Ds();t.__INTLIFY__=!0,lC(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const bE={class:"main-nav"},yE={class:"nav-container"},vE={class:"nav-links"},xE=Pt({__name:"NavigationComp",setup(t){const{t:e}=Ba(),n=Me(()=>new Date().toISOString().split("T")[0]);return(s,i)=>{const r=Qr("router-link");return re(),le("nav",bE,[H("div",yE,[se(r,{to:"/my-workout-tracker",class:"nav-brand"},{default:ts(()=>[se(be(xm),{size:24}),i[0]||(i[0]=H("span",null,"FitTracker",-1))]),_:1,__:[0]}),H("div",vE,[se(r,{to:"/my-workout-tracker",class:"nav-link","active-class":"active",exact:""},{default:ts(()=>[se(be(mx),{size:18}),H("span",null,ye(be(e)("nav.dashboard")),1)]),_:1}),se(r,{to:`/workout/${n.value}`,class:"nav-link","active-class":"active"},{default:ts(()=>[se(be(pu),{size:18}),H("span",null,ye(be(e)("nav.workout")),1)]),_:1},8,["to"]),se(r,{to:"/history",class:"nav-link","active-class":"active"},{default:ts(()=>[se(be(hx),{size:18}),H("span",null,ye(be(e)("nav.history")),1)]),_:1})])])])}}}),Yn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},CE=Yn(xE,[["__scopeId","data-v-be4a6db7"]]);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=()=>{};var Ff={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw Pi(e)},Pi=function(t){return new Error("Firebase Database ("+Km.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Su={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),s.push(n[u],n[h],n[f],n[d])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||h==null)throw new wE;const f=r<<2|a>>4;if(s.push(f),c!==64){const d=a<<4&240|c>>2;if(s.push(d),h!==64){const p=c<<6&192|h;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xm=function(t){const e=qm(t);return Su.encodeByteArray(e,!0)},Xo=function(t){return Xm(t).replace(/\./g,"")},yc=function(t){try{return Su.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){return Qm(void 0,t)}function Qm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!TE(n)||(t[n]=Qm(t[n],e[n]));return t}function TE(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=()=>IE().__FIREBASE_DEFAULTS__,ME=()=>{if(typeof process>"u"||typeof Ff>"u")return;const t=Ff.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yc(t[1]);return e&&JSON.parse(e)},Jm=()=>{try{return EE()||PE()||ME()||AE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RE=t=>Jm()?.emulatorHosts?.[t],OE=t=>{const e=RE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Zm=()=>Jm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xo(JSON.stringify(n)),Xo(JSON.stringify(o)),""].join(".")}const rr={};function NE(){const t={prod:[],emulator:[]};for(const e of Object.keys(rr))rr[e]?t.emulator.push(e):t.prod.push(e);return t}function FE(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Wf=!1;function WE(t,e){if(typeof window>"u"||typeof document>"u"||!wu(window.location.host)||rr[t]===e||rr[t]||Wf)return;rr[t]=e;function n(f){return`__firebase__banner__${f}`}const s="__firebase__banner",r=NE().prod.length>0;function o(){const f=document.getElementById(s);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,d){f.setAttribute("width","24"),f.setAttribute("id",d),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Wf=!0,o()},f}function u(f,d){f.setAttribute("id",d),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=FE(s),d=n("text"),p=document.getElementById(d)||document.createElement("span"),g=n("learnmore"),_=document.getElementById(g)||document.createElement("a"),m=n("preprendIcon"),b=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),u(_,g);const v=c();l(b,m),E.append(b,p,_,v),document.body.appendChild(E)}r?(p.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(BE())}function HE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $E(){return Km.NODE_ADMIN===!0}function VE(){try{return typeof indexedDB=="object"}catch{return!1}}function UE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="FirebaseError";class eo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zE,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t_.prototype.create)}}class t_{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?jE(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new eo(i,a,s)}}function jE(t,e){return t.replace(YE,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const YE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){return JSON.parse(t)}function it(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=Pr(yc(r[0])||""),n=Pr(yc(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},GE=function(t){const e=n_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},KE=function(t){const e=n_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Jo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Hf(r)&&Hf(o)){if(!Jo(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Hf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)s[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)s[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):h<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[h]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function ku(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,V(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$a=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ha;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eS(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZE(t){return t===Ms?void 0:t}function eS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const nS={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},sS=Ne.INFO,iS={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},rS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=iS[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s_{constructor(e){this.name=e,this._logLevel=sS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const oS=(t,e)=>e.some(n=>t instanceof n);let $f,Vf;function aS(){return $f||($f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return Vf||(Vf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i_=new WeakMap,vc=new WeakMap,r_=new WeakMap,xl=new WeakMap,Tu=new WeakMap;function cS(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(os(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&i_.set(n,t)}).catch(()=>{}),Tu.set(e,t),e}function uS(t){if(vc.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});vc.set(t,e)}let xc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||r_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hS(t){xc=t(xc)}function fS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Cl(this),e,...n);return r_.set(s,e.sort?e.sort():[e]),os(s)}:lS().includes(t)?function(...e){return t.apply(Cl(this),e),os(i_.get(this))}:function(...e){return os(t.apply(Cl(this),e))}}function dS(t){return typeof t=="function"?fS(t):(t instanceof IDBTransaction&&uS(t),oS(t,aS())?new Proxy(t,xc):t)}function os(t){if(t instanceof IDBRequest)return cS(t);if(xl.has(t))return xl.get(t);const e=dS(t);return e!==t&&(xl.set(t,e),Tu.set(e,t)),e}const Cl=t=>Tu.get(t);function pS(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=os(o);return s&&o.addEventListener("upgradeneeded",l=>{s(os(o.result),l.oldVersion,l.newVersion,os(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const gS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],El=new Map;function Uf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(El.get(e))return El.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=mS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||gS.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return El.set(e,r),r}hS(t=>({...t,get:(e,n,s)=>Uf(e,n)||t.get(e,n,s),has:(e,n)=>!!Uf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bS(t){return t.getComponent()?.type==="VERSION"}const Cc="@firebase/app",zf="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new s_("@firebase/app"),yS="@firebase/app-compat",vS="@firebase/analytics-compat",xS="@firebase/analytics",CS="@firebase/app-check-compat",ES="@firebase/app-check",SS="@firebase/auth",wS="@firebase/auth-compat",kS="@firebase/database",TS="@firebase/data-connect",IS="@firebase/database-compat",PS="@firebase/functions",MS="@firebase/functions-compat",AS="@firebase/installations",RS="@firebase/installations-compat",OS="@firebase/messaging",DS="@firebase/messaging-compat",LS="@firebase/performance",NS="@firebase/performance-compat",FS="@firebase/remote-config",WS="@firebase/remote-config-compat",BS="@firebase/storage",HS="@firebase/storage-compat",$S="@firebase/firestore",VS="@firebase/ai",US="@firebase/firestore-compat",zS="firebase",jS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="[DEFAULT]",YS={[Cc]:"fire-core",[yS]:"fire-core-compat",[xS]:"fire-analytics",[vS]:"fire-analytics-compat",[ES]:"fire-app-check",[CS]:"fire-app-check-compat",[SS]:"fire-auth",[wS]:"fire-auth-compat",[kS]:"fire-rtdb",[TS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[PS]:"fire-fn",[MS]:"fire-fn-compat",[AS]:"fire-iid",[RS]:"fire-iid-compat",[OS]:"fire-fcm",[DS]:"fire-fcm-compat",[LS]:"fire-perf",[NS]:"fire-perf-compat",[FS]:"fire-rc",[WS]:"fire-rc-compat",[BS]:"fire-gcs",[HS]:"fire-gcs-compat",[$S]:"fire-fst",[US]:"fire-fst-compat",[VS]:"fire-vertex","fire-js":"fire-js",[zS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Map,GS=new Map,Sc=new Map;function jf(t,e){try{t.container.addComponent(e)}catch(n){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ea(t){const e=t.name;if(Sc.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;Sc.set(e,t);for(const n of Zo.values())jf(n,t);for(const n of GS.values())jf(n,t);return!0}function KS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qS(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new t_("app","Firebase",XS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=jS;function o_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Ec,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw as.create("bad-app-name",{appName:String(i)});if(n||(n=Zm()),!n)throw as.create("no-options");const r=Zo.get(i);if(r){if(Jo(n,r.options)&&Jo(s,r.config))return r;throw as.create("duplicate-app",{appName:i})}const o=new tS(i);for(const l of Sc.values())o.addComponent(l);const a=new QS(n,s,o);return Zo.set(i,a),a}function ZS(t=Ec){const e=Zo.get(t);if(!e&&t===Ec&&Zm())return o_();if(!e)throw as.create("no-app",{appName:t});return e}function hi(t,e,n){let s=YS[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(o.join(" "));return}ea(new Mr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebase-heartbeat-database",tw=1,Ar="firebase-heartbeat-store";let Sl=null;function a_(){return Sl||(Sl=pS(ew,tw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ar)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),Sl}async function nw(t){try{const n=(await a_()).transaction(Ar),s=await n.objectStore(Ar).get(l_(t));return await n.done,s}catch(e){if(e instanceof eo)Un.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e?.message});Un.warn(n.message)}}}async function Yf(t,e){try{const s=(await a_()).transaction(Ar,"readwrite");await s.objectStore(Ar).put(e,l_(t)),await s.done}catch(n){if(n instanceof eo)Un.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});Un.warn(s.message)}}}function l_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=1024,iw=30;class rw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gf();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>iw){const i=lw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Un.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gf(),{heartbeatsToSend:n,unsentEntries:s}=ow(this._heartbeatsCache.heartbeats),i=Xo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Un.warn(e),""}}}function Gf(){return new Date().toISOString().substring(0,10)}function ow(t,e=sw){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Kf(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Kf(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VE()?UE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Kf(t){return Xo(JSON.stringify({version:2,heartbeats:t})).length}function lw(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){ea(new Mr("platform-logger",e=>new _S(e),"PRIVATE")),ea(new Mr("heartbeat",e=>new rw(e),"PRIVATE")),hi(Cc,zf,t),hi(Cc,zf,"esm2020"),hi("fire-js","")}cw("");var qf={};const Xf="@firebase/database",Qf="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_="";function uw(t){c_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),it(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Pr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Gn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hw(e)}}catch{}return new fw},Ls=u_("localStorage"),dw=u_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new s_("@firebase/database"),pw=function(){let t=1;return function(){return t++}}(),h_=function(t){const e=QE(t),n=new XE;n.update(e);const s=n.digest();return Su.encodeByteArray(s)},to=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=to.apply(null,s):typeof s=="object"?e+=it(s):e+=s,e+=" "}return e};let or=null,Jf=!0;const gw=function(t,e){V(!0,"Can't turn on custom loggers persistently."),fi.logLevel=Ne.VERBOSE,or=fi.log.bind(fi)},yt=function(...t){if(Jf===!0&&(Jf=!1,or===null&&dw.get("logging_enabled")===!0&&gw()),or){const e=to.apply(null,t);or(e)}},no=function(t){return function(...e){yt(t,...e)}},wc=function(...t){const e="FIREBASE INTERNAL ERROR: "+to(...t);fi.error(e)},zn=function(...t){const e=`FIREBASE FATAL ERROR: ${to(...t)}`;throw fi.error(e),new Error(e)},Dt=function(...t){const e="FIREBASE WARNING: "+to(...t);fi.warn(e)},mw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},f_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_w=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},vi="[MIN_NAME]",Us="[MAX_NAME]",Mi=function(t,e){if(t===e)return 0;if(t===vi||e===Us)return-1;if(e===vi||t===Us)return 1;{const n=Zf(t),s=Zf(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},bw=function(t,e){return t===e?0:t<e?-1:1},Fi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+it(e))},Iu=function(t){if(typeof t!="object"||t===null)return it(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=it(e[s]),n+=":",n+=Iu(t[e[s]]);return n+="}",n},d_=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const p_=function(t){V(!f_(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},yw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const Cw=new RegExp("^-?(0*)\\d{1,10}$"),Ew=-2147483648,Sw=2147483647,Zf=function(t){if(Cw.test(t)){const e=Number(t);if(e>=Ew&&e<=Sw)return e}return null},Ai=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},ww=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ar=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,qS(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(e)}}class Wo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Wo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="5",g_="v",m_="s",__="r",b_="f",y_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,v_="ls",x_="p",kc="ac",C_="websocket",E_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Iw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function w_(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let s;if(e===C_)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===E_)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Iw(t)&&(n.ns=t.namespace);const i=[];return Nt(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.counters_={}}incrementCounter(e,n=1){Gn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return kE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl={},kl={};function Mu(t){const e=t.toString();return wl[e]||(wl[e]=new Pw),wl[e]}function Mw(t,e){const n=t.toString();return kl[n]||(kl[n]=e()),kl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Ai(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="start",Rw="close",Ow="pLPCommand",Dw="pRTLPCB",k_="id",T_="pw",I_="ser",Lw="cb",Nw="seg",Fw="ts",Ww="d",Bw="dframe",P_=1870,M_=30,Hw=P_-M_,$w=25e3,Vw=3e4;class ri{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=no(e),this.stats_=Mu(n),this.urlFn=l=>(this.appCheckToken&&(l[kc]=this.appCheckToken),w_(n,E_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Aw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Vw)),_w(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Au((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ed)this.id=a,this.password=l;else if(o===Rw)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[ed]="t",s[I_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Lw]=this.scriptTagHolder.uniqueCallbackIdentifier),s[g_]=Pu,this.transportSessionId&&(s[m_]=this.transportSessionId),this.lastSessionId&&(s[v_]=this.lastSessionId),this.applicationId&&(s[x_]=this.applicationId),this.appCheckToken&&(s[kc]=this.appCheckToken),typeof location<"u"&&location.hostname&&y_.test(location.hostname)&&(s[__]=b_);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ri.forceAllow_=!0}static forceDisallow(){ri.forceDisallow_=!0}static isAvailable(){return ri.forceAllow_?!0:!ri.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yw()&&!vw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=it(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Xm(n),i=d_(s,Hw);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[Bw]="t",s[k_]=e,s[T_]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=it(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Au{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pw(),window[Ow+this.uniqueCallbackIdentifier]=e,window[Dw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Au.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yt("frame writing exception"),a.stack&&yt(a.stack),yt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[k_]=this.myID,e[T_]=this.myPW,e[I_]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+M_+s.length<=P_;){const o=this.pendingSegs.shift();s=s+"&"+Nw+i+"="+o.seg+"&"+Fw+i+"="+o.ts+"&"+Ww+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor($w)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=16384,zw=45e3;let ta=null;typeof MozWebSocket<"u"?ta=MozWebSocket:typeof WebSocket<"u"&&(ta=WebSocket);class Qt{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=no(this.connId),this.stats_=Mu(n),this.connURL=Qt.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[g_]=Pu,typeof location<"u"&&location.hostname&&y_.test(location.hostname)&&(o[__]=b_),n&&(o[m_]=n),s&&(o[v_]=s),i&&(o[kc]=i),r&&(o[x_]=r),w_(e,C_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ls.set("previous_websocket_failure",!0);try{let s;$E(),this.mySock=new ta(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Qt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&ta!==null&&!Qt.forceDisallow_}static previouslyFailed(){return Ls.isInMemoryStorage||Ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ls.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Pr(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=it(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=d_(n,Uw);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qt.responsesRequiredToBeHealthy=2;Qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{static get ALL_TRANSPORTS(){return[ri,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Qt&&Qt.isAvailable();let s=n&&!Qt.previouslyFailed();if(e.webSocketOnly&&(n||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Qt];else{const i=this.transports_=[];for(const r of Rr.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);Rr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=6e4,Yw=5e3,Gw=10*1024,Kw=100*1024,Tl="t",td="d",qw="s",nd="r",Xw="e",sd="o",id="a",rd="n",od="p",Qw="h";class Jw{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=no("c:"+this.id+":"),this.transportManager_=new Rr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ar(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Kw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Gw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tl in e){const n=e[Tl];n===id?this.upgradeIfSecondaryHealthy_():n===nd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fi("t",e),s=Fi("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:od,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:id,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fi("t",e),s=Fi("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fi(Tl,e);if(td in e){const s=e[td];if(n===Qw){const i={...s};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qw?this.onConnectionShutdown_(s):n===nd?this.onReset_(s):n===Xw?wc("Server Error: "+s):n===sd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Pu!==s&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ar(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ar(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Yw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:od,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends R_{static getInstance(){return new na}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!e_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=32,ld=768;class Oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new Oe("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ds(t){return t.pieces_.length-t.pieceNum_}function Fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Oe(t.pieces_,e)}function O_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Zw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function D_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function L_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Oe(e,0)}function rt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Oe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Oe(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function It(t,e){const n=ge(t),s=ge(e);if(n===null)return e;if(n===s)return It(Fe(t),Fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function N_(t,e){if(ds(t)!==ds(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Zt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(ds(t)>ds(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class e1{constructor(e,n){this.errorPrefix_=n,this.parts_=D_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=$a(this.parts_[s]);F_(this)}}function t1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$a(e),F_(t)}function n1(t){const e=t.parts_.pop();t.byteLength_-=$a(e),t.parts_.length>0&&(t.byteLength_-=1)}function F_(t){if(t.byteLength_>ld)throw new Error(t.errorPrefix_+"has a key path longer than "+ld+" bytes ("+t.byteLength_+").");if(t.parts_.length>ad)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ad+") or object contains a cycle "+As(t))}function As(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends R_{static getInstance(){return new Ru}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=1e3,s1=300*1e3,cd=30*1e3,i1=1.3,r1=3e4,o1="server_kill",ud=3;class Hn extends A_{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Hn.nextPersistentConnectionId_++,this.log_=no("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wi,this.maxReconnectDelay_=s1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ru.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&na.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(it(r)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new Ha,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Hn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Gn(e,"w")){const s=yi(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||KE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=GE(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+it(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wc("Unrecognized action received from server: "+it(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>r1&&(this.reconnectDelay_=Wi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*i1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Hn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(h){V(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new Jw(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,d=>{Dt(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(o1)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Dt(h),l())}}}interrupt(e){yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bf(this.interruptReasons_)&&(this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Iu(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Oe(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){yt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ud&&(this.reconnectDelay_=cd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ud&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+c_.replace(/\./g,"-")]=1,e_()?e["framework.cordova"]=1:HE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=na.getInstance().currentlyOnline();return Bf(this.interruptReasons_)&&e}}Hn.nextPersistentConnectionId_=0;Hn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new ce(vi,e),i=new ce(vi,n);return this.compare(s,i)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;class W_ extends Va{static get __EMPTY_NODE(){return _o}static set __EMPTY_NODE(e){_o=e}compare(e,n){return Mi(e.name,n.name)}isDefinedOn(e){throw Pi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Us,_o)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,_o)}toString(){return".key"}}const di=new W_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ut{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??ut.RED,this.left=i??Ot.EMPTY_NODE,this.right=r??Ot.EMPTY_NODE}copy(e,n,s,i,r){return new ut(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ut.RED=!0;ut.BLACK=!1;class a1{copy(e,n,s,i,r){return this}insert(e,n,s){return new ut(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(e,n=Ot.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ot(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ut.BLACK,null,null))}remove(e){return new Ot(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ut.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bo(this.root_,null,this.comparator_,!0,e)}}Ot.EMPTY_NODE=new a1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e){return Mi(t.name,e.name)}function Ou(t,e){return Mi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;function c1(t){Tc=t}const B_=function(t){return typeof t=="number"?"number:"+p_(t):"string:"+t},H_=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gn(e,".sv"),"Priority must be a string or number.")}else V(t===Tc||t.isEmpty(),"priority of unexpected type.");V(t===Tc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd;class ct{static set __childrenNodeConstructor(e){hd=e}static get __childrenNodeConstructor(){return hd}constructor(e,n=ct.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),H_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ct(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:ge(e)===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ct.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ge(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(V(s!==".priority"||ds(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ct.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+B_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=p_(this.value_):e+=this.value_,this.lazyHash_=h_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ct.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ct.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=ct.VALUE_TYPE_ORDER.indexOf(n),r=ct.VALUE_TYPE_ORDER.indexOf(s);return V(i>=0,"Unknown leaf type: "+n),V(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ct.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_,V_;function u1(t){$_=t}function h1(t){V_=t}class f1 extends Va{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?Mi(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Us,new ct("[PRIORITY-POST]",V_))}makePost(e,n){const s=$_(e);return new ce(n,new ct("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ke=new f1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=Math.log(2);class p1{constructor(e){const n=r=>parseInt(Math.log(r)/d1,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sa=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new ut(f,h.node,ut.BLACK,null,null);{const d=parseInt(u/2,10)+l,p=i(l,d),g=i(d+1,c);return h=t[d],f=n?n(h):h,new ut(f,h.node,ut.BLACK,p,g)}},r=function(l){let c=null,u=null,h=t.length;const f=function(p,g){const _=h-p,m=h;h-=p;const b=i(_+1,m),E=t[_],v=n?n(E):E;d(new ut(v,E.node,g,null,b))},d=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?f(_,ut.BLACK):(f(_,ut.BLACK),f(_,ut.RED))}return u},o=new p1(t.length),a=r(o);return new Ot(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;const Zs={};class Ln{static get Default(){return V(Zs&&Ke,"ChildrenNode.ts has not been loaded"),Il=Il||new Ln({".priority":Zs},{".priority":Ke}),Il}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=yi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ot?n:null}hasIndex(e){return Gn(this.indexSet_,e.toString())}addIndex(e,n){V(e!==di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(ce.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=sa(s,e.getCompare()):a=Zs;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new Ln(u,c)}addToIndexes(e,n){const s=Qo(this.indexes_,(i,r)=>{const o=yi(this.indexSet_,r);if(V(o,"Missing index implementation for "+r),i===Zs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ce.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),sa(a,o.getCompare())}else return Zs;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ce(e.name,a))),l.insert(e,e.node)}});return new Ln(s,this.indexSet_)}removeFromIndexes(e,n){const s=Qo(this.indexes_,i=>{if(i===Zs)return i;{const r=n.get(e.name);return r?i.remove(new ce(e.name,r)):i}});return new Ln(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi;class J{static get EMPTY_NODE(){return Bi||(Bi=new J(new Ot(Ou),null,Ln.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&H_(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bi}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Bi:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(Fe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new ce(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?Bi:this.priorityNode_;return new J(i,o,r)}}updateChild(e,n){const s=ge(e);if(s===null)return n;{V(ge(e)!==".priority"||ds(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(Fe(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(Ke,(o,a)=>{n[o]=a.val(e),s++,r&&J.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+B_(this.getPriority().val())+":"),this.forEachChild(Ke,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":h_(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new ce(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ce.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===so?-1:0}withIndex(e){if(e===di||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===di||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ke),i=n.getIterator(Ke);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===di?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class g1 extends J{constructor(){super(new Ot(Ou),J.EMPTY_NODE,Ln.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const so=new g1;Object.defineProperties(ce,{MIN:{value:new ce(vi,J.EMPTY_NODE)},MAX:{value:new ce(Us,so)}});W_.__EMPTY_NODE=J.EMPTY_NODE;ct.__childrenNodeConstructor=J;c1(so);h1(so);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=!0;function ht(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ct(n,ht(e))}if(!(t instanceof Array)&&m1){const n=[];let s=!1;if(Nt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ht(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new ce(o,l)))}}),n.length===0)return J.EMPTY_NODE;const r=sa(n,l1,o=>o.name,Ou);if(s){const o=sa(n,Ke.getCompare());return new J(r,ht(e),new Ln({".priority":o},{".priority":Ke}))}else return new J(r,ht(e),Ln.Default)}else{let n=J.EMPTY_NODE;return Nt(t,(s,i)=>{if(Gn(t,s)&&s.substring(0,1)!=="."){const r=ht(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(ht(e))}}u1(ht);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends Va{constructor(e){super(),this.indexPath_=e,V(!he(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?Mi(e.name,n.name):r}makePost(e,n){const s=ht(e),i=J.EMPTY_NODE.updateChild(this.indexPath_,s);return new ce(n,i)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,so);return new ce(Us,e)}toString(){return D_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends Va{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Mi(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const s=ht(e);return new ce(n,s)}toString(){return".value"}}const y1=new b1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){return{type:"value",snapshotNode:t}}function xi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Or(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Dr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function v1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(Or(n,a)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(xi(n,s)):o.trackChildChange(Dr(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ke,(i,r)=>{n.hasChild(i)||s.trackChildChange(Or(i,r))}),n.isLeafNode()||n.forEachChild(Ke,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(Dr(i,r,o))}else s.trackChildChange(xi(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.indexedFilter_=new Du(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Lr.getStartPost_(e),this.endPost_=Lr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new ce(n,s))||(s=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);const r=this;return n.forEachChild(Ke,(o,a)=>{r.matches(new ce(o,a))||(i=i.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Lr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new ce(n,s))||(s=J.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,d)=>h(d,f)}else o=this.index_.getCompare();const a=e;V(a.numChildren()===this.limit_,"");const l=new ce(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const d=f==null?1:o(f,l);if(u&&!s.isEmpty()&&d>=0)return r?.trackChildChange(Dr(n,s,h)),a.updateImmediateChild(n,s);{r?.trackChildChange(Or(n,h));const g=a.updateImmediateChild(n,J.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r?.trackChildChange(xi(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(Or(c.name,c.node)),r.trackChildChange(xi(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vi}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const e=new Lu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function C1(t){return t.loadsAllData()?new Du(t.getIndex()):t.hasLimit()?new x1(t):new Lr(t)}function fd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ke?n="$priority":t.index_===y1?n="$value":t.index_===di?n="$key":(V(t.index_ instanceof _1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=it(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=it(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+it(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=it(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+it(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends A_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=no("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=ia.getListenId_(e,s),a={};this.listens_[o]=a;const l=fd(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,s),yi(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=ia.getListenId_(e,n);delete this.listens_[s]}get(e){const n=fd(e._queryParams),s=e._path.toString(),i=new Ha;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qE(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Pr(a.responseText)}catch{Dt("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&Dt("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return{value:null,children:new Map}}function z_(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ge(e);t.children.has(s)||t.children.set(s,ra());const i=t.children.get(s);e=Fe(e),z_(i,e,n)}}function Ic(t,e,n){t.value!==null?n(e,t.value):S1(t,(s,i)=>{const r=new Oe(e.toString()+"/"+s);Ic(i,r,n)})}function S1(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Nt(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=10*1e3,k1=30*1e3,T1=300*1e3;class I1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new w1(e);const s=pd+(k1-pd)*Math.random();ar(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Nt(e,(i,r)=>{r>0&&Gn(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),ar(this.reportStats_.bind(this),Math.floor(Math.random()*2*T1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(en||(en={}));function j_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=en.ACK_USER_WRITE,this.source=j_()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(e));return new oa(Ce(),n,this.revert)}}else return V(ge(this.path)===e,"operationForChild called for unrelated child."),new oa(Fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){this.source=e,this.path=n,this.type=en.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new Nr(this.source,Ce()):new Nr(this.source,Fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=en.OVERWRITE}operationForChild(e){return he(this.path)?new zs(this.source,Ce(),this.snap.getImmediateChild(e)):new zs(this.source,Fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=en.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Oe(e));return n.isEmpty()?null:n.value?new zs(this.source,Ce(),n.value):new Fr(this.source,Ce(),n)}else return V(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fr(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function M1(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(v1(o.childName,o.snapshotNode))}),Hi(t,i,"child_removed",e,s,n),Hi(t,i,"child_added",e,s,n),Hi(t,i,"child_moved",r,s,n),Hi(t,i,"child_changed",e,s,n),Hi(t,i,"value",e,s,n),i}function Hi(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>R1(t,a,l)),o.forEach(a=>{const l=A1(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function A1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function R1(t,e,n){if(e.childName==null||n.childName==null)throw Pi("Should only compare child_ events.");const s=new ce(e.childName,e.snapshotNode),i=new ce(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t,e){return{eventCache:t,serverCache:e}}function lr(t,e,n,s){return Ua(new ps(e,n,s),t.serverCache)}function Y_(t,e,n,s){return Ua(t.eventCache,new ps(e,n,s))}function aa(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function js(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;const O1=()=>(Pl||(Pl=new Ot(bw)),Pl);class He{static fromObject(e){let n=new He(null);return Nt(e,(s,i)=>{n=n.set(new Oe(s),i)}),n}constructor(e,n=O1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(he(e))return null;{const s=ge(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(Fe(e),n);return r!=null?{path:rt(new Oe(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=ge(e),s=this.children.get(n);return s!==null?s.subtree(Fe(e)):new He(null)}}set(e,n){if(he(e))return new He(n,this.children);{const s=ge(e),r=(this.children.get(s)||new He(null)).set(Fe(e),n),o=this.children.insert(s,r);return new He(this.value,o)}}remove(e){if(he(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=ge(e),s=this.children.get(n);if(s){const i=s.remove(Fe(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new He(null):new He(this.value,r)}else return this}}get(e){if(he(e))return this.value;{const n=ge(e),s=this.children.get(n);return s?s.get(Fe(e)):null}}setTree(e,n){if(he(e))return n;{const s=ge(e),r=(this.children.get(s)||new He(null)).setTree(Fe(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new He(this.value,o)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(rt(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(he(e))return null;{const r=ge(e),o=this.children.get(r);return o?o.findOnPath_(Fe(e),rt(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,s){if(he(e))return this;{this.value&&s(n,this.value);const i=ge(e),r=this.children.get(i);return r?r.foreachOnPath_(Fe(e),rt(n,i),s):new He(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(rt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new He(null))}}function cr(t,e,n){if(he(e))return new rn(new He(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=It(i,e);return r=r.updateChild(o,n),new rn(t.writeTree_.set(i,r))}else{const i=new He(n),r=t.writeTree_.setTree(e,i);return new rn(r)}}}function gd(t,e,n){let s=t;return Nt(n,(i,r)=>{s=cr(s,rt(e,i),r)}),s}function md(t,e){if(he(e))return rn.empty();{const n=t.writeTree_.setTree(e,new He(null));return new rn(n)}}function Pc(t,e){return Xs(t,e)!=null}function Xs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(It(n.path,e)):null}function _d(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ke,(s,i)=>{e.push(new ce(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new ce(s,i.value))}),e}function ls(t,e){if(he(e))return t;{const n=Xs(t,e);return n!=null?new rn(new He(n)):new rn(t.writeTree_.subtree(e))}}function Mc(t){return t.writeTree_.isEmpty()}function Ci(t,e){return G_(Ce(),t.writeTree_,e)}function G_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(V(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=G_(rt(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(rt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t,e){return Q_(e,t)}function D1(t,e,n,s,i){V(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=cr(t.visibleWrites,e,n)),t.lastWriteId=s}function L1(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function N1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&F1(a,s.path)?i=!1:Zt(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return W1(t),!0;if(s.snap)t.visibleWrites=md(t.visibleWrites,s.path);else{const a=s.children;Nt(a,l=>{t.visibleWrites=md(t.visibleWrites,rt(s.path,l))})}return!0}else return!1}function F1(t,e){if(t.snap)return Zt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Zt(rt(t.path,n),e))return!0;return!1}function W1(t){t.visibleWrites=K_(t.allWrites,B1,Ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function B1(t){return t.visible}function K_(t,e,n){let s=rn.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)Zt(n,o)?(a=It(n,o),s=cr(s,a,r.snap)):Zt(o,n)&&(a=It(o,n),s=cr(s,Ce(),r.snap.getChild(a)));else if(r.children){if(Zt(n,o))a=It(n,o),s=gd(s,a,r.children);else if(Zt(o,n))if(a=It(o,n),he(a))s=gd(s,Ce(),r.children);else{const l=yi(r.children,ge(a));if(l){const c=l.getChild(Fe(a));s=cr(s,Ce(),c)}}}else throw Pi("WriteRecord should have .snap or .children")}}return s}function q_(t,e,n,s,i){if(!s&&!i){const r=Xs(t.visibleWrites,e);if(r!=null)return r;{const o=ls(t.visibleWrites,e);if(Mc(o))return n;if(n==null&&!Pc(o,Ce()))return null;{const a=n||J.EMPTY_NODE;return Ci(o,a)}}}else{const r=ls(t.visibleWrites,e);if(!i&&Mc(r))return n;if(!i&&n==null&&!Pc(r,Ce()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Zt(c.path,e)||Zt(e,c.path))},a=K_(t.allWrites,o,e),l=n||J.EMPTY_NODE;return Ci(a,l)}}}function H1(t,e,n){let s=J.EMPTY_NODE;const i=Xs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ke,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=ls(t.visibleWrites,e);return n.forEachChild(Ke,(o,a)=>{const l=Ci(ls(r,new Oe(o)),a);s=s.updateImmediateChild(o,l)}),_d(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=ls(t.visibleWrites,e);return _d(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function $1(t,e,n,s,i){V(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=rt(e,n);if(Pc(t.visibleWrites,r))return null;{const o=ls(t.visibleWrites,r);return Mc(o)?i.getChild(n):Ci(o,i.getChild(n))}}function V1(t,e,n,s){const i=rt(e,n),r=Xs(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=ls(t.visibleWrites,i);return Ci(o,s.getNode().getImmediateChild(n))}else return null}function U1(t,e){return Xs(t.visibleWrites,e)}function z1(t,e,n,s,i,r,o){let a;const l=ls(t.visibleWrites,e),c=Xs(l,Ce());if(c!=null)a=c;else if(n!=null)a=Ci(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let d=f.getNext();for(;d&&u.length<i;)h(d,s)!==0&&u.push(d),d=f.getNext();return u}else return[]}function j1(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function la(t,e,n,s){return q_(t.writeTree,t.treePath,e,n,s)}function Wu(t,e){return H1(t.writeTree,t.treePath,e)}function bd(t,e,n,s){return $1(t.writeTree,t.treePath,e,n,s)}function ca(t,e){return U1(t.writeTree,rt(t.treePath,e))}function Y1(t,e,n,s,i,r){return z1(t.writeTree,t.treePath,e,n,s,i,r)}function Bu(t,e,n){return V1(t.writeTree,t.treePath,e,n)}function X_(t,e){return Q_(rt(t.treePath,e),t.writeTree)}function Q_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,Dr(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,Or(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,xi(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,Dr(s,e.snapshotNode,i.oldSnap));else throw Pi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const J_=new K1;class Hu{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ps(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bu(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:js(this.viewCache_),r=Y1(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){return{filter:t}}function X1(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Q1(t,e,n,s,i){const r=new G1;let o,a;if(n.type===en.OVERWRITE){const c=n;c.source.fromUser?o=Ac(t,e,c.path,c.snap,s,i,r):(V(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!he(c.path),o=ua(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===en.MERGE){const c=n;c.source.fromUser?o=Z1(t,e,c.path,c.children,s,i,r):(V(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Rc(t,e,c.path,c.children,s,i,a,r))}else if(n.type===en.ACK_USER_WRITE){const c=n;c.revert?o=nk(t,e,c.path,s,i,r):o=ek(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===en.LISTEN_COMPLETE)o=tk(t,e,n.path,s,r);else throw Pi("Unknown operation type: "+n.type);const l=r.getChanges();return J1(e,o,l),{viewCache:o,changes:l}}function J1(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=aa(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(U_(aa(e)))}}function Z_(t,e,n,s,i,r){const o=e.eventCache;if(ca(s,n)!=null)return e;{let a,l;if(he(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=js(e),u=c instanceof J?c:J.EMPTY_NODE,h=Wu(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=la(s,js(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=ge(n);if(c===".priority"){V(ds(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=bd(s,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=Fe(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=bd(s,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=Bu(s,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,r):a=o.getNode()}}return lr(e,a,o.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function ua(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(he(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),d,null)}else{const d=ge(n);if(!l.isCompleteForPath(n)&&ds(n)>1)return e;const p=Fe(n),_=l.getNode().getImmediateChild(d).updateChild(p,s);d===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),d,_,p,J_,null)}const h=Y_(e,c,l.isFullyInitialized()||he(n),u.filtersNodes()),f=new Hu(i,h,r);return Z_(t,h,n,i,f,a)}function Ac(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new Hu(i,e,r);if(he(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=lr(e,c,!0,t.filter.filtersNodes());else{const h=ge(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=lr(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Fe(n),d=a.getNode().getImmediateChild(h);let p;if(he(f))p=s;else{const g=u.getCompleteChild(h);g!=null?O_(f)===".priority"&&g.getChild(L_(f)).isEmpty()?p=g:p=g.updateChild(f,s):p=J.EMPTY_NODE}if(d.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),h,p,f,u,o);l=lr(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function yd(t,e){return t.eventCache.isCompleteForChild(e)}function Z1(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=rt(n,l);yd(e,ge(u))&&(a=Ac(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=rt(n,l);yd(e,ge(u))||(a=Ac(t,a,u,c,i,r,o))}),a}function vd(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Rc(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;he(n)?c=s:c=new He(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const d=e.serverCache.getNode().getImmediateChild(h),p=vd(t,d,f);l=ua(t,l,new Oe(h),p,i,r,o,a)}}),c.children.inorderTraversal((h,f)=>{const d=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!d){const p=e.serverCache.getNode().getImmediateChild(h),g=vd(t,p,f);l=ua(t,l,new Oe(h),g,i,r,o,a)}}),l}function ek(t,e,n,s,i,r,o){if(ca(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(he(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ua(t,e,n,l.getNode().getChild(n),i,r,a,o);if(he(n)){let c=new He(null);return l.getNode().forEachChild(di,(u,h)=>{c=c.set(new Oe(u),h)}),Rc(t,e,n,c,i,r,a,o)}else return e}else{let c=new He(null);return s.foreach((u,h)=>{const f=rt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Rc(t,e,n,c,i,r,a,o)}}function tk(t,e,n,s,i){const r=e.serverCache,o=Y_(e,r.getNode(),r.isFullyInitialized()||he(n),r.isFiltered());return Z_(t,o,n,s,J_,i)}function nk(t,e,n,s,i,r){let o;if(ca(s,n)!=null)return e;{const a=new Hu(s,e,i),l=e.eventCache.getNode();let c;if(he(n)||ge(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=la(s,js(e));else{const h=e.serverCache.getNode();V(h instanceof J,"serverChildren would be complete if leaf node"),u=Wu(s,h)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=ge(n);let h=Bu(s,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,Fe(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,J.EMPTY_NODE,Fe(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=la(s,js(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||ca(s,Ce())!=null,lr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Du(s.getIndex()),r=C1(s);this.processor_=q1(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(J.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(J.EMPTY_NODE,a.getNode(),null),u=new ps(l,o.isFullyInitialized(),i.filtersNodes()),h=new ps(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Ua(h,u),this.eventGenerator_=new P1(this.query_)}get query(){return this.query_}}function ik(t){return t.viewCache_.serverCache.getNode()}function rk(t){return aa(t.viewCache_)}function ok(t,e){const n=js(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function xd(t){return t.eventRegistrations_.length===0}function ak(t,e){t.eventRegistrations_.push(e)}function Cd(t,e,n){const s=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function Ed(t,e,n,s){e.type===en.MERGE&&e.source.queryId!==null&&(V(js(t.viewCache_),"We should always have a full cache before handling merges"),V(aa(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=Q1(t.processor_,i,e,n,s);return X1(t.processor_,r.viewCache),V(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,eb(t,r.changes,r.viewCache.eventCache.getNode(),null)}function lk(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ke,(r,o)=>{s.push(xi(r,o))}),n.isFullyInitialized()&&s.push(U_(n.getNode())),eb(t,s,n.getNode(),e)}function eb(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return M1(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha;class tb{constructor(){this.views=new Map}}function ck(t){V(!ha,"__referenceConstructor has already been defined"),ha=t}function uk(){return V(ha,"Reference.ts has not been loaded"),ha}function hk(t){return t.views.size===0}function $u(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return V(r!=null,"SyncTree gave us an op for an invalid query."),Ed(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(Ed(o,e,n,s));return r}}function nb(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=la(n,i?s:null),l=!1;a?l=!0:s instanceof J?(a=Wu(n,s),l=!1):(a=J.EMPTY_NODE,l=!1);const c=Ua(new ps(a,l,!1),new ps(s,i,!1));return new sk(e,c)}return o}function fk(t,e,n,s,i,r){const o=nb(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ak(o,n),lk(o,n)}function dk(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=gs(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Cd(c,n,s)),xd(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Cd(l,n,s)),xd(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!gs(t)&&r.push(new(uk())(e._repo,e._path)),{removed:r,events:o}}function sb(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function cs(t,e){let n=null;for(const s of t.views.values())n=n||ok(s,e);return n}function ib(t,e){if(e._queryParams.loadsAllData())return ja(t);{const s=e._queryIdentifier;return t.views.get(s)}}function rb(t,e){return ib(t,e)!=null}function gs(t){return ja(t)!=null}function ja(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa;function pk(t){V(!fa,"__referenceConstructor has already been defined"),fa=t}function gk(){return V(fa,"Reference.ts has not been loaded"),fa}let mk=1;class Sd{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=j1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ob(t,e,n,s,i){return D1(t.pendingWriteTree_,e,n,s,i),i?ro(t,new zs(j_(),e,n)):[]}function Ns(t,e,n=!1){const s=L1(t.pendingWriteTree_,e);if(N1(t.pendingWriteTree_,e)){let r=new He(null);return s.snap!=null?r=r.set(Ce(),!0):Nt(s.children,o=>{r=r.set(new Oe(o),!0)}),ro(t,new oa(s.path,r,n))}else return[]}function io(t,e,n){return ro(t,new zs(Nu(),e,n))}function _k(t,e,n){const s=He.fromObject(n);return ro(t,new Fr(Nu(),e,s))}function bk(t,e){return ro(t,new Nr(Nu(),e))}function yk(t,e,n){const s=Uu(t,n);if(s){const i=zu(s),r=i.path,o=i.queryId,a=It(r,e),l=new Nr(Fu(o),a);return ju(t,r,l)}else return[]}function ab(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||rb(o,e))){const l=dk(o,e,n,s);hk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(f,d)=>gs(d));if(u&&!h){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const d=Ek(f);for(let p=0;p<d.length;++p){const g=d[p],_=g.query,m=hb(t,g);t.listenProvider_.startListening(ur(_),Wr(t,_),m.hashFn,m.onComplete)}}}!h&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(ur(e),null):c.forEach(f=>{const d=t.queryToTagMap.get(Ya(f));t.listenProvider_.stopListening(ur(f),d)}))}Sk(t,c)}return a}function lb(t,e,n,s){const i=Uu(t,s);if(i!=null){const r=zu(i),o=r.path,a=r.queryId,l=It(o,e),c=new zs(Fu(a),l,n);return ju(t,o,c)}else return[]}function vk(t,e,n,s){const i=Uu(t,s);if(i){const r=zu(i),o=r.path,a=r.queryId,l=It(o,e),c=He.fromObject(n),u=new Fr(Fu(a),l,c);return ju(t,o,u)}else return[]}function xk(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,d)=>{const p=It(f,i);r=r||cs(d,p),o=o||gs(d)});let a=t.syncPointTree_.get(i);a?(o=o||gs(a),r=r||cs(a,Ce())):(a=new tb,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=J.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,p)=>{const g=cs(p,Ce());g&&(r=r.updateImmediateChild(d,g))}));const c=rb(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ya(e);V(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const d=wk();t.queryToTagMap.set(f,d),t.tagToQueryMap.set(d,f)}const u=za(t.pendingWriteTree_,i);let h=fk(a,e,n,u,r,l);if(!c&&!o&&!s){const f=ib(a,e);h=h.concat(kk(t,e,f))}return h}function Vu(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=It(o,e),c=cs(a,l);if(c)return c});return q_(i,e,r,n,!0)}function Ck(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=It(c,n);s=s||cs(u,h)});let i=t.syncPointTree_.get(n);i?s=s||cs(i,Ce()):(i=new tb,t.syncPointTree_=t.syncPointTree_.set(n,i));const r=s!=null,o=r?new ps(s,!0,!1):null,a=za(t.pendingWriteTree_,e._path),l=nb(i,e,a,r?o.getNode():J.EMPTY_NODE,r);return rk(l)}function ro(t,e){return cb(e,t.syncPointTree_,null,za(t.pendingWriteTree_,Ce()))}function cb(t,e,n,s){if(he(t.path))return ub(t,e,n,s);{const i=e.get(Ce());n==null&&i!=null&&(n=cs(i,Ce()));let r=[];const o=ge(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=X_(s,o);r=r.concat(cb(a,l,c,u))}return i&&(r=r.concat($u(i,t,s,n))),r}}function ub(t,e,n,s){const i=e.get(Ce());n==null&&i!=null&&(n=cs(i,Ce()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=X_(s,o),u=t.operationForChild(o);u&&(r=r.concat(ub(u,a,l,c)))}),i&&(r=r.concat($u(i,t,s,n))),r}function hb(t,e){const n=e.query,s=Wr(t,n);return{hashFn:()=>(ik(e)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?yk(t,n._path,s):bk(t,n._path);{const r=xw(i,n);return ab(t,n,null,r)}}}}function Wr(t,e){const n=Ya(e);return t.queryToTagMap.get(n)}function Ya(t){return t._path.toString()+"$"+t._queryIdentifier}function Uu(t,e){return t.tagToQueryMap.get(e)}function zu(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Oe(t.substr(0,e))}}function ju(t,e,n){const s=t.syncPointTree_.get(e);V(s,"Missing sync point for query tag that we're tracking");const i=za(t.pendingWriteTree_,e);return $u(s,n,i,null)}function Ek(t){return t.fold((e,n,s)=>{if(n&&gs(n))return[ja(n)];{let i=[];return n&&(i=sb(n)),Nt(s,(r,o)=>{i=i.concat(o)}),i}})}function ur(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(gk())(t._repo,t._path):t}function Sk(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Ya(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function wk(){return mk++}function kk(t,e,n){const s=e._path,i=Wr(t,e),r=hb(t,n),o=t.listenProvider_.startListening(ur(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)V(!gs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!he(c)&&u&&gs(u))return[ja(u).query];{let f=[];return u&&(f=f.concat(sb(u).map(d=>d.query))),Nt(h,(d,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ur(u),Wr(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Yu(n)}node(){return this.node_}}class Gu{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=rt(this.path_,e);return new Gu(this.syncTree_,n)}node(){return Vu(this.syncTree_,this.path_)}}const Tk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},wd=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ik(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Pk(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ik=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},Pk=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&V(!1,"Unexpected increment value: "+s);const i=e.node();if(V(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},Mk=function(t,e,n,s){return Ku(e,new Gu(n,t),s)},fb=function(t,e,n){return Ku(t,new Yu(e),n)};function Ku(t,e,n){const s=t.getPriority().val(),i=wd(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=wd(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ct(a,ht(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new ct(i))),o.forEachChild(Ke,(a,l)=>{const c=Ku(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Xu(t,e){let n=e instanceof Oe?e:new Oe(e),s=t,i=ge(n);for(;i!==null;){const r=yi(s.node.children,i)||{children:{},childCount:0};s=new qu(i,s,r),n=Fe(n),i=ge(n)}return s}function Ri(t){return t.node.value}function db(t,e){t.node.value=e,Oc(t)}function pb(t){return t.node.childCount>0}function Ak(t){return Ri(t)===void 0&&!pb(t)}function Ga(t,e){Nt(t.node.children,(n,s)=>{e(new qu(n,t,s))})}function gb(t,e,n,s){n&&e(t),Ga(t,i=>{gb(i,e,!0)})}function Rk(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function oo(t){return new Oe(t.parent===null?t.name:oo(t.parent)+"/"+t.name)}function Oc(t){t.parent!==null&&Ok(t.parent,t.name,t)}function Ok(t,e,n){const s=Ak(n),i=Gn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Oc(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Oc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=/[\[\].#$\/\u0000-\u001F\u007F]/,Lk=/[\[\].#$\u0000-\u001F\u007F]/,Ml=10*1024*1024,mb=function(t){return typeof t=="string"&&t.length!==0&&!Dk.test(t)},_b=function(t){return typeof t=="string"&&t.length!==0&&!Lk.test(t)},Nk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_b(t)},bb=function(t,e,n,s){s&&e===void 0||Qu(ku(t,"value"),e,n)},Qu=function(t,e,n){const s=n instanceof Oe?new e1(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+As(s));if(typeof e=="function")throw new Error(t+"contains a function "+As(s)+" with contents = "+e.toString());if(f_(e))throw new Error(t+"contains "+e.toString()+" "+As(s));if(typeof e=="string"&&e.length>Ml/3&&$a(e)>Ml)throw new Error(t+"contains a string greater than "+Ml+" utf8 bytes "+As(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Nt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!mb(o)))throw new Error(t+" contains an invalid key ("+o+") "+As(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);t1(s,o),Qu(t,a,s),n1(s)}),i&&r)throw new Error(t+' contains ".value" child '+As(s)+" in addition to actual children.")}},yb=function(t,e,n,s){if(!_b(n))throw new Error(ku(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fk=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yb(t,e,n)},vb=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Wk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!mb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Nk(n))throw new Error(ku(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xb(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!N_(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function Cn(t,e,n){xb(t,n),Hk(t,s=>Zt(s,e)||Zt(e,s))}function Hk(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?($k(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $k(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();or&&yt("event: "+n.toString()),Ai(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="repo_interrupt",Uk=25;class zk{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ra(),this.transactionQueueTree_=new qu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jk(t,e,n){if(t.stats_=Mu(t.repoInfo_),t.forceRestClient_||ww())t.server_=new ia(t.repoInfo_,(s,i,r,o)=>{kd(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Td(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Hn(t.repoInfo_,e,(s,i,r,o)=>{kd(t,s,i,r,o)},s=>{Td(t,s)},s=>{Yk(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=Mw(t.repoInfo_,()=>new I1(t.stats_,t.server_)),t.infoData_=new E1,t.infoSyncTree_=new Sd({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=io(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Zu(t,"connected",!1),t.serverSyncTree_=new Sd({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);Cn(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function Cb(t){const n=t.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ju(t){return Tk({timestamp:Cb(t)})}function kd(t,e,n,s,i){t.dataUpdateCount++;const r=new Oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=Qo(n,c=>ht(c));o=vk(t.serverSyncTree_,r,l,i)}else{const l=ht(n);o=lb(t.serverSyncTree_,r,l,i)}else if(s){const l=Qo(n,c=>ht(c));o=_k(t.serverSyncTree_,r,l)}else{const l=ht(n);o=io(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=qa(t,r)),Cn(t.eventQueue_,a,o)}function Td(t,e){Zu(t,"connected",e),e===!1&&qk(t)}function Yk(t,e){Nt(e,(n,s)=>{Zu(t,n,s)})}function Zu(t,e,n){const s=new Oe("/.info/"+e),i=ht(n);t.infoData_.updateSnapshot(s,i);const r=io(t.infoSyncTree_,s,i);Cn(t.eventQueue_,s,r)}function Eb(t){return t.nextWriteId_++}function Gk(t,e,n){const s=Ck(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const r=ht(i).withIndex(e._queryParams.getIndex());xk(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=io(t.serverSyncTree_,e._path,r);else{const a=Wr(t.serverSyncTree_,e);o=lb(t.serverSyncTree_,e._path,r,a)}return Cn(t.eventQueue_,e._path,o),ab(t.serverSyncTree_,e,n,null,!0),r},i=>(Ka(t,"get for query "+it(e)+" failed: "+i),Promise.reject(new Error(i))))}function Kk(t,e,n,s,i){Ka(t,"set",{path:e.toString(),value:n,priority:s});const r=Ju(t),o=ht(n,s),a=Vu(t.serverSyncTree_,e),l=fb(o,a,r),c=Eb(t),u=ob(t.serverSyncTree_,e,l,c,!0);xb(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,d)=>{const p=f==="ok";p||Dt("set at "+e+" failed: "+f);const g=Ns(t.serverSyncTree_,c,!p);Cn(t.eventQueue_,e,g),Qk(t,i,f,d)});const h=Ib(t,e);qa(t,h),Cn(t.eventQueue_,h,[])}function qk(t){Ka(t,"onDisconnectEvents");const e=Ju(t),n=ra();Ic(t.onDisconnect_,Ce(),(i,r)=>{const o=Mk(i,r,t.serverSyncTree_,e);z_(n,i,o)});let s=[];Ic(n,Ce(),(i,r)=>{s=s.concat(io(t.serverSyncTree_,i,r));const o=Ib(t,i);qa(t,o)}),t.onDisconnect_=ra(),Cn(t.eventQueue_,Ce(),s)}function Xk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Vk)}function Ka(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yt(n,...e)}function Qk(t,e,n,s){e&&Ai(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function Sb(t,e,n){return Vu(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function eh(t,e=t.transactionQueueTree_){if(e||Xa(t,e),Ri(e)){const n=kb(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Jk(t,oo(e),n)}else pb(e)&&Ga(e,n=>{eh(t,n)})}function Jk(t,e,n){const s=n.map(c=>c.currentWriteId),i=Sb(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];V(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=It(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ka(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ns(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Xa(t,Xu(t.transactionQueueTree_,e)),eh(t,t.transactionQueueTree_),Cn(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)Ai(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Dt("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}qa(t,e)}},o)}function qa(t,e){const n=wb(t,e),s=oo(n),i=kb(t,n);return Zk(t,i,s),s}function Zk(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=It(n,l.path);let u=!1,h;if(V(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(Ns(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Uk)u=!0,h="maxretry",i=i.concat(Ns(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Sb(t,l.path,o);l.currentInputSnapshot=f;const d=e[a].update(f.val());if(d!==void 0){Qu("transaction failed: Data returned ",d,l.path);let p=ht(d);typeof d=="object"&&d!=null&&Gn(d,".priority")||(p=p.updatePriority(f.getPriority()));const _=l.currentWriteId,m=Ju(t),b=fb(p,f,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=b,l.currentWriteId=Eb(t),o.splice(o.indexOf(_),1),i=i.concat(ob(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(Ns(t.serverSyncTree_,_,!0))}else u=!0,h="nodata",i=i.concat(Ns(t.serverSyncTree_,l.currentWriteId,!0))}Cn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(h),!1,null))))}Xa(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)Ai(s[a]);eh(t,t.transactionQueueTree_)}function wb(t,e){let n,s=t.transactionQueueTree_;for(n=ge(e);n!==null&&Ri(s)===void 0;)s=Xu(s,n),e=Fe(e),n=ge(e);return s}function kb(t,e){const n=[];return Tb(t,e,n),n.sort((s,i)=>s.order-i.order),n}function Tb(t,e,n){const s=Ri(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Ga(e,i=>{Tb(t,i,n)})}function Xa(t,e){const n=Ri(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,db(e,n.length>0?n:void 0)}Ga(e,s=>{Xa(t,s)})}function Ib(t,e){const n=oo(wb(t,e)),s=Xu(t.transactionQueueTree_,e);return Rk(s,i=>{Al(t,i)}),Al(t,s),gb(s,i=>{Al(t,i)}),n}function Al(t,e){const n=Ri(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(V(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(V(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ns(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?db(e,void 0):n.length=r+1,Cn(t.eventQueue_,oo(e),i);for(let o=0;o<s.length;o++)Ai(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function tT(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Dt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Id=function(t,e){const n=nT(t),s=n.namespace;n.domain==="firebase.com"&&zn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new S_(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Oe(n.pathString)}},nT=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=eT(t.substring(u,h)));const f=tT(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const d=e.slice(0,c);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sT=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let i;const r=new Array(8);for(i=7;i>=0;i--)r[i]=Pd.charAt(n%64),n=Math.floor(n/64);V(n===0,"Cannot push at time == 0");let o=r.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Pd.charAt(e[i]);return V(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+it(this.snapshot.exportVal())}}class rT{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return he(this._path)?null:O_(this._path)}get ref(){return new Kn(this._repo,this._path)}get _queryIdentifier(){const e=dd(this._queryParams),n=Iu(e);return n==="{}"?"default":n}get _queryObject(){return dd(this._queryParams)}isEqual(e){if(e=qs(e),!(e instanceof th))return!1;const n=this._repo===e._repo,s=N_(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Zw(this._path)}}class Kn extends th{constructor(e,n){super(e,n,new Lu,!1)}get parent(){const e=L_(this._path);return e===null?null:new Kn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Br{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Oe(e),s=Ei(this.ref,e);return new Br(this._node.getChild(n),s,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Br(i,Ei(this.ref,s),Ke)))}hasChild(e){const n=new Oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pb(t,e){return t=qs(t),t._checkNotDeleted("ref"),e!==void 0?Ei(t._root,e):t._root}function Ei(t,e){return t=qs(t),ge(t._path)===null?Fk("child","path",e):yb("child","path",e),new Kn(t._repo,rt(t._path,e))}function aT(t,e){t=qs(t),vb("push",t._path),bb("push",e,t._path,!0);const n=Cb(t._repo),s=sT(n),i=Ei(t,s),r=Ei(t,s);let o;return e!=null?o=lT(r,e).then(()=>r):o=Promise.resolve(r),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function lT(t,e){t=qs(t),vb("set",t._path),bb("set",e,t._path,!1);const n=new Ha;return Kk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function cT(t){t=qs(t);const e=new oT(()=>{}),n=new nh(e);return Gk(t._repo,t,n).then(s=>new Br(s,new Kn(t._repo,t._path),t._queryParams.getIndex()))}class nh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new iT("value",this,new Br(e.snapshotNode,new Kn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rT(this,e,n):null}matches(e){return e instanceof nh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}ck(Kn);pk(Kn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="FIREBASE_DATABASE_EMULATOR_HOST",Dc={};let hT=!1;function fT(t,e,n,s){const i=e.lastIndexOf(":"),r=e.substring(0,i),o=wu(r);t.repoInfo_=new S_(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function dT(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Id(r,i),a=o.repoInfo,l;typeof process<"u"&&qf&&(l=qf[uT]),l?(r=`http://${l}?ns=${a.namespace}`,o=Id(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new Tw(t.name,t.options,e);Wk("Invalid Firebase Database URL",o),he(o.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=gT(a,t,c,new kw(t,n));return new mT(u,t)}function pT(t,e){const n=Dc[e];(!n||n[t.key]!==t)&&zn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Xk(t),delete n[t.key]}function gT(t,e,n,s){let i=Dc[e.name];i||(i={},Dc[e.name]=i);let r=i[t.toURLString()];return r&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new zk(t,hT,n,s),i[t.toURLString()]=r,r}class mT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kn(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zn("Cannot call "+e+" on a deleted database.")}}function Mb(t=ZS(),e){const n=KS(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=OE("database");s&&_T(n,...s)}return n}function _T(t,e,n,s={}){t=qs(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,r=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Jo(s,r.repoInfo_.emulatorOptions))return;zn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Wo(Wo.OWNER);else if(s.mockUserToken){const a=typeof s.mockUserToken=="string"?s.mockUserToken:LE(s.mockUserToken,t.app.options.projectId);o=new Wo(a)}wu(e)&&(DE(e),WE("Database",!0)),fT(r,i,s,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){uw(JS),ea(new Mr("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return dT(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),hi(Xf,Qf,t),hi(Xf,Qf,"esm2020")}Hn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Hn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bT();const gn=kt([]),Md=kt(!0),yT=kt(""),vT=async()=>{Md.value=!0;const t=Pb(Mb());try{const e=await cT(Ei(t,"dailyWorkout"));if(e.exists()){const n=e.val(),s=[];for(const i in n)s.push({id:i,...n[i]});gn.value=s,console.log("All workouts fetched once:",gn)}else gn.value=[],console.log("No workouts available (fetched once).")}catch(e){yT.value=`Failed to load all workouts. Please try again. Error received : ${e}`}finally{Md.value=!1}},xT={id:"app"},CT={class:"main-content"},ET=Pt({__name:"App",setup(t){return Oa(()=>{vT()}),(e,n)=>{const s=Qr("router-view");return re(),le("div",xT,[se(CE),H("main",CT,[se(s)])])}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ii=typeof document<"u";function Ab(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ST(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ab(t.default)}const we=Object.assign;function Rl(t,e){const n={};for(const s in e){const i=e[s];n[s]=on(i)?i.map(t):t(i)}return n}const hr=()=>{},on=Array.isArray,Rb=/#/g,wT=/&/g,kT=/\//g,TT=/=/g,IT=/\?/g,Ob=/\+/g,PT=/%5B/g,MT=/%5D/g,Db=/%5E/g,AT=/%60/g,Lb=/%7B/g,RT=/%7C/g,Nb=/%7D/g,OT=/%20/g;function sh(t){return encodeURI(""+t).replace(RT,"|").replace(PT,"[").replace(MT,"]")}function DT(t){return sh(t).replace(Lb,"{").replace(Nb,"}").replace(Db,"^")}function Lc(t){return sh(t).replace(Ob,"%2B").replace(OT,"+").replace(Rb,"%23").replace(wT,"%26").replace(AT,"`").replace(Lb,"{").replace(Nb,"}").replace(Db,"^")}function LT(t){return Lc(t).replace(TT,"%3D")}function NT(t){return sh(t).replace(Rb,"%23").replace(IT,"%3F")}function FT(t){return t==null?"":NT(t).replace(kT,"%2F")}function Hr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const WT=/\/$/,BT=t=>t.replace(WT,"");function Ol(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=UT(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Hr(o)}}function HT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ad(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $T(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Si(e.matched[s],n.matched[i])&&Fb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Si(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Fb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!VT(t[n],e[n]))return!1;return!0}function VT(t,e){return on(t)?Rd(t,e):on(e)?Rd(e,t):t===e}function Rd(t,e){return on(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function UT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $r;(function(t){t.pop="pop",t.push="push"})($r||($r={}));var fr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fr||(fr={}));function zT(t){if(!t)if(ii){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),BT(t)}const jT=/^[^#]+#/;function YT(t,e){return t.replace(jT,"#")+e}function GT(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Qa=()=>({left:window.scrollX,top:window.scrollY});function KT(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=GT(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Od(t,e){return(history.state?history.state.position-e:-1)+t}const Nc=new Map;function qT(t,e){Nc.set(t,e)}function XT(t){const e=Nc.get(t);return Nc.delete(t),e}let QT=()=>location.protocol+"//"+location.host;function Wb(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Ad(l,"")}return Ad(n,t)+s+i}function JT(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const d=Wb(t,location),p=n.value,g=e.value;let _=0;if(f){if(n.value=d,e.value=f,o&&o===p){o=null;return}_=g?f.position-g.position:0}else s(d);i.forEach(m=>{m(n.value,p,{delta:_,type:$r.pop,direction:_?_>0?fr.forward:fr.back:fr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const d=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(we({},f.state,{scroll:Qa()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Dd(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Qa():null}}function ZT(t){const{history:e,location:n}=window,s={value:Wb(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:QT()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=we({},e.state,Dd(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=we({},i.value,e.state,{forward:l,scroll:Qa()});r(u.current,u,!0);const h=we({},Dd(s.value,l,null),{position:u.position+1},c);r(l,h,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function eI(t){t=zT(t);const e=ZT(t),n=JT(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=we({location:"",base:t,go:s,createHref:YT.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function tI(t){return typeof t=="string"||t&&typeof t=="object"}function Bb(t){return typeof t=="string"||typeof t=="symbol"}const Hb=Symbol("");var Ld;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ld||(Ld={}));function wi(t,e){return we(new Error,{type:t,[Hb]:!0},e)}function wn(t,e){return t instanceof Error&&Hb in t&&(e==null||!!(t.type&e))}const Nd="[^/]+?",nI={sensitive:!1,strict:!1,start:!0,end:!0},sI=/[.+*?^${}()[\]/\\]/g;function iI(t,e){const n=we({},nI,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(sI,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:_,regexp:m}=f;r.push({name:p,repeatable:g,optional:_});const b=m||Nd;if(b!==Nd){d+=10;try{new RegExp(`(${b})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+v.message)}}let E=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(E=_&&c.length<2?`(?:/${E})`:"/"+E),_&&(E+="?"),i+=E,d+=20,_&&(d+=-8),g&&(d+=-20),b===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=r[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:_}=d,m=p in c?c[p]:"";if(on(m)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=on(m)?m.join("/"):m;if(!b)if(_)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function rI(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function $b(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=rI(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Fd(s))return 1;if(Fd(i))return-1}return i.length-s.length}function Fd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const oI={type:0,value:""},aI=/[a-zA-Z0-9_]/;function lI(t){if(!t)return[[]];if(t==="/")return[[oI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:aI.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function cI(t,e,n){const s=iI(lI(t.path),n),i=we(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function uI(t,e){const n=[],s=new Map;e=$d({strict:!1,end:!0,sensitive:!1},e);function i(h){return s.get(h)}function r(h,f,d){const p=!d,g=Bd(h);g.aliasOf=d&&d.record;const _=$d(e,h),m=[g];if("alias"in h){const v=typeof h.alias=="string"?[h.alias]:h.alias;for(const w of v)m.push(Bd(we({},g,{components:d?d.record.components:g.components,path:w,aliasOf:d?d.record:g})))}let b,E;for(const v of m){const{path:w}=v;if(f&&w[0]!=="/"){const M=f.record.path,k=M[M.length-1]==="/"?"":"/";v.path=f.record.path+(w&&k+w)}if(b=cI(v,f,_),d?d.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),p&&h.name&&!Hd(b)&&o(h.name)),Vb(b)&&l(b),g.children){const M=g.children;for(let k=0;k<M.length;k++)r(M[k],b,d&&d.children[k])}d=d||b}return E?()=>{o(E)}:hr}function o(h){if(Bb(h)){const f=s.get(h);f&&(s.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=dI(h,n);n.splice(f,0,h),h.record.name&&!Hd(h)&&s.set(h.record.name,h)}function c(h,f){let d,p={},g,_;if("name"in h&&h.name){if(d=s.get(h.name),!d)throw wi(1,{location:h});_=d.record.name,p=we(Wd(f.params,d.keys.filter(E=>!E.optional).concat(d.parent?d.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&Wd(h.params,d.keys.map(E=>E.name))),g=d.stringify(p)}else if(h.path!=null)g=h.path,d=n.find(E=>E.re.test(g)),d&&(p=d.parse(g),_=d.record.name);else{if(d=f.name?s.get(f.name):n.find(E=>E.re.test(f.path)),!d)throw wi(1,{location:h,currentLocation:f});_=d.record.name,p=we({},f.params,h.params),g=d.stringify(p)}const m=[];let b=d;for(;b;)m.unshift(b.record),b=b.parent;return{name:_,path:g,params:p,matched:m,meta:fI(m)}}t.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Wd(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Bd(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:hI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function hI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Hd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fI(t){return t.reduce((e,n)=>we(e,n.meta),{})}function $d(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function dI(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;$b(t,e[r])<0?s=r:n=r+1}const i=pI(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function pI(t){let e=t;for(;e=e.parent;)if(Vb(e)&&$b(t,e)===0)return e}function Vb({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function gI(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Ob," "),o=r.indexOf("="),a=Hr(o<0?r:r.slice(0,o)),l=o<0?null:Hr(r.slice(o+1));if(a in e){let c=e[a];on(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Vd(t){let e="";for(let n in t){const s=t[n];if(n=LT(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(on(s)?s.map(r=>r&&Lc(r)):[s&&Lc(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function mI(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=on(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const _I=Symbol(""),Ud=Symbol(""),Ja=Symbol(""),Ub=Symbol(""),Fc=Symbol("");function $i(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function es(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(wi(4,{from:n,to:e})):f instanceof Error?l(f):tI(f)?l(wi(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Dl(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ab(l)){const u=(l.__vccOpts||l)[e];u&&r.push(es(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=ST(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&es(d,n,s,o,a,i)()}))}}return r}function zd(t){const e=sn(Ja),n=sn(Ub),s=Me(()=>{const l=be(t.to);return e.resolve(l)}),i=Me(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Si.bind(null,u));if(f>-1)return f;const d=jd(l[c-2]);return c>1&&jd(u)===d&&h[h.length-1].path!==d?h.findIndex(Si.bind(null,l[c-2])):f}),r=Me(()=>i.value>-1&&CI(n.params,s.value.params)),o=Me(()=>i.value>-1&&i.value===n.matched.length-1&&Fb(n.params,s.value.params));function a(l={}){if(xI(l)){const c=e[be(t.replace)?"replace":"push"](be(t.to)).catch(hr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Me(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function bI(t){return t.length===1?t[0]:t}const yI=Pt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:zd,setup(t,{slots:e}){const n=Pa(zd(t)),{options:s}=sn(Ja),i=Me(()=>({[Yd(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Yd(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&bI(e.default(n));return t.custom?r:Vs("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),vI=yI;function xI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CI(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!on(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function jd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Yd=(t,e,n)=>t??e??n,EI=Pt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=sn(Fc),i=Me(()=>t.route||s.value),r=sn(Ud,0),o=Me(()=>{let c=be(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Me(()=>i.value.matched[o.value]);Do(Ud,Me(()=>o.value+1)),Do(_I,a),Do(Fc,i);const l=kt();return Bn(()=>[l.value,a.value,t.name],([c,u,h],[f,d,p])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Si(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return Gd(n.default,{Component:f,route:c});const d=h.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,_=Vs(f,we({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Gd(n.default,{Component:_,route:c})||_}}});function Gd(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const SI=EI;function wI(t){const e=uI(t.routes,t),n=t.parseQuery||gI,s=t.stringifyQuery||Vd,i=t.history,r=$i(),o=$i(),a=$i(),l=$g(Qn);let c=Qn;ii&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Rl.bind(null,N=>""+N),h=Rl.bind(null,FT),f=Rl.bind(null,Hr);function d(N,j){let U,X;return Bb(N)?(U=e.getRecordMatcher(N),X=j):X=N,e.addRoute(X,U)}function p(N){const j=e.getRecordMatcher(N);j&&e.removeRoute(j)}function g(){return e.getRoutes().map(N=>N.record)}function _(N){return!!e.getRecordMatcher(N)}function m(N,j){if(j=we({},j||l.value),typeof N=="string"){const P=Ol(n,N,j.path),L=e.resolve({path:P.path},j),W=i.createHref(P.fullPath);return we(P,L,{params:f(L.params),hash:Hr(P.hash),redirectedFrom:void 0,href:W})}let U;if(N.path!=null)U=we({},N,{path:Ol(n,N.path,j.path).path});else{const P=we({},N.params);for(const L in P)P[L]==null&&delete P[L];U=we({},N,{params:h(P)}),j.params=h(j.params)}const X=e.resolve(U,j),Ee=N.hash||"";X.params=u(f(X.params));const C=HT(s,we({},N,{hash:DT(Ee),path:X.path})),S=i.createHref(C);return we({fullPath:C,hash:Ee,query:s===Vd?mI(N.query):N.query||{}},X,{redirectedFrom:void 0,href:S})}function b(N){return typeof N=="string"?Ol(n,N,l.value.path):we({},N)}function E(N,j){if(c!==N)return wi(8,{from:j,to:N})}function v(N){return k(N)}function w(N){return v(we(b(N),{replace:!0}))}function M(N){const j=N.matched[N.matched.length-1];if(j&&j.redirect){const{redirect:U}=j;let X=typeof U=="function"?U(N):U;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=b(X):{path:X},X.params={}),we({query:N.query,hash:N.hash,params:X.path!=null?{}:N.params},X)}}function k(N,j){const U=c=m(N),X=l.value,Ee=N.state,C=N.force,S=N.replace===!0,P=M(U);if(P)return k(we(b(P),{state:typeof P=="object"?we({},Ee,P.state):Ee,force:C,replace:S}),j||U);const L=U;L.redirectedFrom=j;let W;return!C&&$T(s,X,U)&&(W=wi(16,{to:L,from:X}),et(X,X,!0,!1)),(W?Promise.resolve(W):$(L,X)).catch(F=>wn(F)?wn(F,2)?F:Ze(F):ne(F,L,X)).then(F=>{if(F){if(wn(F,2))return k(we({replace:S},b(F.to),{state:typeof F.to=="object"?we({},Ee,F.to.state):Ee,force:C}),j||L)}else F=K(L,X,!0,S,Ee);return G(L,X,F),F})}function O(N,j){const U=E(N,j);return U?Promise.reject(U):Promise.resolve()}function D(N){const j=lt.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(N):N()}function $(N,j){let U;const[X,Ee,C]=kI(N,j);U=Dl(X.reverse(),"beforeRouteLeave",N,j);for(const P of X)P.leaveGuards.forEach(L=>{U.push(es(L,N,j))});const S=O.bind(null,N,j);return U.push(S),Ue(U).then(()=>{U=[];for(const P of r.list())U.push(es(P,N,j));return U.push(S),Ue(U)}).then(()=>{U=Dl(Ee,"beforeRouteUpdate",N,j);for(const P of Ee)P.updateGuards.forEach(L=>{U.push(es(L,N,j))});return U.push(S),Ue(U)}).then(()=>{U=[];for(const P of C)if(P.beforeEnter)if(on(P.beforeEnter))for(const L of P.beforeEnter)U.push(es(L,N,j));else U.push(es(P.beforeEnter,N,j));return U.push(S),Ue(U)}).then(()=>(N.matched.forEach(P=>P.enterCallbacks={}),U=Dl(C,"beforeRouteEnter",N,j,D),U.push(S),Ue(U))).then(()=>{U=[];for(const P of o.list())U.push(es(P,N,j));return U.push(S),Ue(U)}).catch(P=>wn(P,8)?P:Promise.reject(P))}function G(N,j,U){a.list().forEach(X=>D(()=>X(N,j,U)))}function K(N,j,U,X,Ee){const C=E(N,j);if(C)return C;const S=j===Qn,P=ii?history.state:{};U&&(X||S?i.replace(N.fullPath,we({scroll:S&&P&&P.scroll},Ee)):i.push(N.fullPath,Ee)),l.value=N,et(N,j,U,S),Ze()}let _e;function Ye(){_e||(_e=i.listen((N,j,U)=>{if(!Ft.listening)return;const X=m(N),Ee=M(X);if(Ee){k(we(Ee,{replace:!0,force:!0}),X).catch(hr);return}c=X;const C=l.value;ii&&qT(Od(C.fullPath,U.delta),Qa()),$(X,C).catch(S=>wn(S,12)?S:wn(S,2)?(k(we(b(S.to),{force:!0}),X).then(P=>{wn(P,20)&&!U.delta&&U.type===$r.pop&&i.go(-1,!1)}).catch(hr),Promise.reject()):(U.delta&&i.go(-U.delta,!1),ne(S,X,C))).then(S=>{S=S||K(X,C,!1),S&&(U.delta&&!wn(S,8)?i.go(-U.delta,!1):U.type===$r.pop&&wn(S,20)&&i.go(-1,!1)),G(X,C,S)}).catch(hr)}))}let ae=$i(),te=$i(),Q;function ne(N,j,U){Ze(N);const X=te.list();return X.length?X.forEach(Ee=>Ee(N,j,U)):console.error(N),Promise.reject(N)}function pe(){return Q&&l.value!==Qn?Promise.resolve():new Promise((N,j)=>{ae.add([N,j])})}function Ze(N){return Q||(Q=!N,Ye(),ae.list().forEach(([j,U])=>N?U(N):j()),ae.reset()),N}function et(N,j,U,X){const{scrollBehavior:Ee}=t;if(!ii||!Ee)return Promise.resolve();const C=!U&&XT(Od(N.fullPath,0))||(X||!U)&&history.state&&history.state.scroll||null;return Aa().then(()=>Ee(N,j,C)).then(S=>S&&KT(S)).catch(S=>ne(S,N,j))}const Be=N=>i.go(N);let gt;const lt=new Set,Ft={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:g,resolve:m,options:t,push:v,replace:w,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:te.add,isReady:pe,install(N){const j=this;N.component("RouterLink",vI),N.component("RouterView",SI),N.config.globalProperties.$router=j,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>be(l)}),ii&&!gt&&l.value===Qn&&(gt=!0,v(i.location).catch(Ee=>{}));const U={};for(const Ee in Qn)Object.defineProperty(U,Ee,{get:()=>l.value[Ee],enumerable:!0});N.provide(Ja,j),N.provide(Ub,Bg(U)),N.provide(Fc,l);const X=N.unmount;lt.add(N),N.unmount=function(){lt.delete(N),lt.size<1&&(c=Qn,_e&&_e(),_e=null,l.value=Qn,gt=!1,Q=!1),X()}}};function Ue(N){return N.reduce((j,U)=>j.then(()=>D(U)),Promise.resolve())}return Ft}function kI(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Si(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Si(c,l))||i.push(l))}return[n,s,i]}function TI(){return sn(Ja)}const II={class:"empty-state"},PI=Pt({__name:"EmptyWorkout",props:{today:{}},setup(t){return(e,n)=>{const s=Qr("router-link");return re(),le("div",II,[se(be(xm),{size:48,class:"empty-icon"}),n[1]||(n[1]=H("p",null,"No workouts yet. Start your first workout today!",-1)),se(s,{to:`/workout/${e.today}`,class:"start-first-workout-btn"},{default:ts(()=>n[0]||(n[0]=[Ut(" Start Your First Workout ",-1)])),_:1,__:[0]},8,["to"])])}}}),MI=Yn(PI,[["__scopeId","data-v-e68d7992"]]),AI={class:"workouts-section"},RI={class:"workouts-list"},OI={class:"workout-header"},DI={class:"workout-date"},LI={class:"workout-stats"},NI={class:"stat"},FI={class:"stat"},WI={class:"workout-exercises"},BI={class:"exercise-info"},HI={class:"exercise-name"},$I={class:"exercise-sets"},VI={class:"exercise-details"},UI={key:0,class:"pagination"},zI=["disabled"],jI={class:"page-info"},YI=["disabled"],Ll=10,GI=Pt({__name:"WorkoutSection",props:{workouts:{}},setup(t){const e=kt(1),n=Me(()=>Math.ceil(t.workouts.length/Ll)),s=Me(()=>{const o=(e.value-1)*Ll,a=o+Ll;return t.workouts.slice(o,a)}),i=o=>{const a=new Date(o),l=new Date,c=new Date(l);return c.setDate(l.getDate()-1),o===l.toISOString().split("T")[0]?"Today":o===c.toISOString().split("T")[0]?"Yesterday":a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},r=o=>o.exercises.reduce((a,l)=>a+l.sets.length,0);return(o,a)=>(re(),le("div",AI,[a[4]||(a[4]=H("h2",null,"Recent Workouts",-1)),H("div",RI,[(re(!0),le(Qe,null,_n(s.value,(l,c)=>(re(),le("div",{key:c,class:"workout-item"},[H("div",OI,[H("div",DI,[H("h3",null,ye(i(l.date)),1),H("span",{class:$s(["workout-status",{completed:l.completed}])},ye(l.completed?"Completed":"In Progress"),3)]),H("div",LI,[H("span",NI,ye(l.exercises.length)+" exercises",1),H("span",FI,ye(r(l))+" sets",1)])]),H("div",WI,[(re(!0),le(Qe,null,_n(l.exercises,u=>(re(),le("div",{key:u.exerciseId,class:"exercise-summary"},[H("div",BI,[H("span",HI,ye(u.exercise.name),1),H("span",$I,ye(u.sets.length)+" sets",1)]),H("div",VI,[(re(!0),le(Qe,null,_n(u.sets,(h,f)=>(re(),le("span",{key:f,class:"set-detail"},ye(h.reps)+ye(h.weight?` × ${h.weight}kg`:"")+ye(h.duration?` × ${h.duration}s`:""),1))),128))])]))),128))])]))),128))]),n.value>1?(re(),le("div",UI,[H("button",{onClick:a[0]||(a[0]=l=>e.value--),disabled:e.value<=1,class:"page-btn"},[se(be(dx),{size:16}),a[2]||(a[2]=Ut(" Previous ",-1))],8,zI),H("span",jI," Page "+ye(e.value)+" of "+ye(n.value),1),H("button",{onClick:a[1]||(a[1]=l=>e.value++),disabled:e.value>=n.value,class:"page-btn"},[a[3]||(a[3]=Ut(" Next ",-1)),se(be(fx),{size:16})],8,YI)])):Ws("",!0)]))}}),zb=Yn(GI,[["__scopeId","data-v-294907dc"]]),KI={class:"dashboard"},qI={class:"dashboard-header"},XI={class:"header-actions"},QI={class:"dashboard-content"},JI=Pt({__name:"DashboardPage",setup(t){const e=Me(()=>new Date().toISOString().split("T")[0]);return(n,s)=>{const i=Qr("router-link");return re(),le("div",KI,[H("header",qI,[s[1]||(s[1]=H("div",{class:"header-content"},[H("h1",null,"Workout Tracker"),H("p",null,"Track your fitness journey with precision")],-1)),H("div",XI,[se(i,{to:`/workout/${e.value}`,class:"start-workout-btn"},{default:ts(()=>[se(be(pu),{size:18}),s[0]||(s[0]=Ut(" Start Today's Workout ",-1))]),_:1,__:[0]},8,["to"])])]),H("div",QI,[be(gn).length===0?(re(),Cr(MI,{key:0,today:e.value},null,8,["today"])):(re(),Cr(zb,{key:1,workouts:be(gn)},null,8,["workouts"]))])])}}}),ZI=Yn(JI,[["__scopeId","data-v-004460a2"]]),eP={class:"exercise-header"},tP={class:"exercise-name"},nP={class:"exercise-description"},sP={class:"muscle-tags"},iP={key:0,class:"selected-indicator"},rP=Pt({__name:"ExerciseCard",props:{exercise:{},isSelected:{type:Boolean}},emits:["select"],setup(t){return(e,n)=>(re(),le("div",{class:$s(["exercise-card",{selected:e.isSelected}]),onClick:n[0]||(n[0]=s=>e.$emit("select",e.exercise))},[H("div",eP,[H("h3",tP,ye(e.exercise.name),1),H("span",{class:$s(["difficulty-badge",e.exercise.difficulty])},ye(e.exercise.difficulty),3)]),H("p",nP,ye(e.exercise.description),1),H("div",sP,[(re(!0),le(Qe,null,_n(e.exercise.targetMuscles,s=>(re(),le("span",{key:s,class:"muscle-tag"},ye(s),1))),128))]),e.isSelected?(re(),le("div",iP,[se(be(du),{size:20})])):Ws("",!0)],2))}}),oP=Yn(rP,[["__scopeId","data-v-7f831a42"]]),aP={class:"set-tracker"},lP={class:"set-tracker__exercise-info"},cP={class:"set-tracker__container"},uP={class:"set-tracker__number"},hP={class:"set-tracker__inputs"},fP={class:"input-group"},dP=["onUpdate:modelValue","onChange"],pP=["value"],gP={class:"input-group"},mP=["onUpdate:modelValue"],_P=["value"],bP={key:0,class:"set-tracker__complete"},yP={class:"set-tracker__summary"},vP={key:0,class:"set-tracker__summary-buttons"},xP=Pt({__name:"SetTracker",props:{exercise:{},initialSets:{}},emits:["setsUpdated"],setup(t,{emit:e}){const n=t,s=e,i=()=>({reps:0,weight:0,duration:0,completedAt:new Date}),r=kt(n.initialSets?.length?n.initialSets:[i()]),o=Array.from({length:50},(d,p)=>(p+1)*2.5),a=Me(()=>r.value.filter(d=>f(d)).length),l=Me(()=>r.value.every(d=>f(d))&&r.value.length>0),c=d=>{const p=r.value[d];p.reps>0&&p.weight>0&&(p.completedAt=new Date),s("setsUpdated",r.value.filter(g=>f(g)))},u=()=>{r.value.push(i())},h=()=>{if(r.value.length>0){const d=r.value[r.value.length-1];r.value.push({...d,completedAt:new Date})}},f=d=>d.reps>0&&d.weight>0;return Bn(()=>r.value,()=>{s("setsUpdated",r.value.filter(d=>f(d)))},{deep:!0}),(d,p)=>(re(),le("div",aP,[H("div",lP,[H("h3",null,ye(d.exercise.name),1),H("p",null,ye(d.exercise.description),1)]),H("div",cP,[(re(!0),le(Qe,null,_n(r.value,(g,_)=>(re(),le("div",{key:_},[H("div",{class:$s(["set-tracker__row",{completed:f(g)}])},[H("span",uP,"Set "+ye(_+1),1),H("div",hP,[H("div",fP,[p[1]||(p[1]=H("label",null,"Reps",-1)),vr(H("select",{"onUpdate:modelValue":m=>g.reps=m,onChange:m=>c(_),class:"set-tracker__select"},[p[0]||(p[0]=H("option",{value:"0"},"Select reps",-1)),(re(),le(Qe,null,_n(50,m=>H("option",{key:m,value:m},ye(m),9,pP)),64))],40,dP),[[Sr,g.reps]])]),H("div",gP,[p[3]||(p[3]=H("label",null,"Weight (kg)",-1)),vr(H("select",{"onUpdate:modelValue":m=>g.weight=m,class:"set-tracker__select"},[p[2]||(p[2]=H("option",{value:"0"},"Weight",-1)),(re(!0),le(Qe,null,_n(be(o),m=>(re(),le("option",{key:m,value:m},ye(m),9,_P))),128))],8,mP),[[Sr,g.weight]])])]),f(g)?(re(),le("div",bP,[se(be(du),{size:20,class:"complete-icon"})])):Ws("",!0)],2)]))),128))]),H("div",yP,[H("p",null,"Completed Sets: "+ye(a.value)+"/"+ye(r.value.length),1),l.value?(re(),le("div",vP,[H("button",{onClick:h,class:"add-set-btn"},[se(be(lc),{size:16}),p[4]||(p[4]=Ut(" Duplicate Last Set ",-1))]),H("button",{onClick:u,class:"add-set-btn"},[se(be(lc),{size:16}),p[5]||(p[5]=Ut(" Add Another Set ",-1))])])):Ws("",!0)])]))}}),CP=Yn(xP,[["__scopeId","data-v-21e443db"]]),EP=[{id:"1",name:"Bench Press",category:"chest",description:"Compound chest pressing movement",targetMuscles:["chest","triceps","shoulders"],difficulty:"intermediate"},{id:"2",name:"Deadlifts",category:"full-body",description:"Complete posterior chain exercise",targetMuscles:["hamstrings","glutes","erector spinae"],difficulty:"advanced"},{id:"3",name:"Sissy Squats",category:"legs",description:"Lower body compound movement",targetMuscles:["quadriceps","glutes","hamstrings"],difficulty:"beginner"},{id:"4",name:"Seated Rows",category:"back",description:"Horizontal pulling exercise",targetMuscles:["lats","rhomboids","rear delts"],difficulty:"beginner"},{id:"5",name:"Biceps curls",category:"arm",description:"Biceps focused movement",targetMuscles:["biceps"],difficulty:"beginner"},{id:"6",name:"Calf Raises",category:"calves",description:"Calf strengthening exercise",targetMuscles:["calves"],difficulty:"beginner"},{id:"7",name:"Legs extentions",category:"legs",description:"Quad strengthening exercise",targetMuscles:["quadriceps"],difficulty:"beginner"},{id:"8",name:"Adductors",category:"legs",description:"Adductor strengthening exercise",targetMuscles:["adductor"],difficulty:"beginner"},{id:"9",name:"Squats",category:"legs",description:"Lower body compound movement",targetMuscles:["quadriceps","glutes","hamstrings"],difficulty:"beginner"},{id:"10",name:"Dips",category:"triceps",description:"Tricep focused compound movement",targetMuscles:["triceps","chest","shoulders"],difficulty:"intermediate"},{id:"11",name:"Lat Pulldowns",category:"back",description:"Vertical pulling movement",targetMuscles:["lats","rhomboids","biceps"],difficulty:"beginner"},{id:"12",name:"Leg Press",category:"legs",description:"Machine-based leg exercise",targetMuscles:["quadriceps","glutes"],difficulty:"beginner"},{id:"13",name:"Push-ups",category:"chest",description:"Classic bodyweight chest exercise",targetMuscles:["chest","triceps","shoulders"],difficulty:"beginner"},{id:"14",name:"Pull-ups",category:"back",description:"Upper body pulling exercise",targetMuscles:["lats","rhomboids","biceps"],difficulty:"intermediate"}],SP="/workout-data.json";class jb{static async saveWorkout(e){try{const n=Mb(),s=Pb(n,"dailyWorkout");aT(s,e)}catch(n){console.error("Error saving workout:",n)}}static async getHistory(){try{const e=await fetch(SP);return e.ok?await e.json():{workouts:[]}}catch(e){return console.error("Error reading workout history:",e),{workouts:[]}}}static async getWorkoutByDate(e){try{return(await this.getHistory()).workouts.find(s=>s.date===e)||null}catch(n){return console.error("Error getting workout by date:",n),null}}static async exportData(){try{const e=await this.getHistory();return JSON.stringify(e,null,2)}catch(e){return console.error("Error exporting data:",e),JSON.stringify({workouts:[]},null,2)}}}const wP={class:"workout-page"},kP={class:"workout-header"},TP={class:"workout-header-content"},IP={key:0},PP={key:0,class:"workout-header__buttons"},MP=["disabled"],AP=["disabled"],RP={class:"workout-content"},OP={key:0,class:"active-workout"},DP={class:"workout-progress"},LP={class:"progress-bar"},NP={class:"progress-text"},FP={class:"exercise-trackers"},WP={key:1,class:"exercise-selection"},BP={class:"selection-header"},HP={class:"exercise-filters"},$P=["value"],VP={class:"exercises-grid"},UP={key:0,class:"selection-actions"},zP=Pt({__name:"WorkoutPage",props:{date:{}},setup(t){const e=t,n=TI(),s=Me(()=>e.date||new Date().toISOString().split("T")[0]),i=Me(()=>s.value===new Date().toISOString().split("T")[0]),r=kt(EP),o=kt([]),a=kt(null),l=kt(!0),c=kt(""),u=kt(""),h=Me(()=>[...new Set(r.value.map(O=>O.category))]),f=Me(()=>r.value.filter(O=>{const D=!c.value||O.category===c.value,$=!u.value||O.difficulty===u.value;return D&&$})),d=Me(()=>a.value?a.value.exercises.reduce((O,D)=>O+D.sets.length,0):0),p=Me(()=>{if(!a.value||a.value.exercises.length===0)return 0;const O=a.value.exercises.length,D=a.value.exercises.filter($=>$.sets.length>0).length;return Math.round(D/O*100)}),g=Me(()=>a.value?.exercises.some(O=>O.sets.length>0)||!1);function _(O){return o.value.some(D=>D.id===O)}function m(O){const D=o.value.findIndex($=>$.id===O.id);D>=0?o.value.splice(D,1):o.value.push(O)}function b(){if(o.value.length===0)return;const O=o.value.map(D=>({exerciseId:D.id,exercise:D,sets:[],notes:""}));a.value={date:s.value,exercises:O,completed:!1},l.value=!1}async function E(O,D){if(!a.value)return;const $=a.value.exercises.findIndex(G=>G.exerciseId===O);$>=0&&(a.value.exercises[$].sets=D)}async function v(){a.value&&(a.value.completed=!0,await w(),n.push("/"))}async function w(){a.value&&await jb.saveWorkout(a.value)}const M=()=>{a.value=null,l.value=!0,o.value=[]};function k(O){return new Date(O).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}return(O,D)=>(re(),le("div",wP,[H("header",kP,[H("div",TP,[H("h1",null,ye(i.value?"Today's Workout":`Workout - ${k(s.value)}`),1),a.value?(re(),le("p",IP,ye(a.value.exercises.length)+" exercises • "+ye(d.value)+" sets completed ",1)):Ws("",!0)]),a.value&&a.value.exercises.length>0?(re(),le("div",PP,[H("button",{onClick:v,class:"workout-header__buttons--finish",disabled:!g.value},[se(be(du),{size:18}),D[3]||(D[3]=Ut(" Finish Workout ",-1))],8,MP),H("button",{onClick:M,class:"workout-header__buttons--cancel",disabled:!g.value},[se(be(px),{size:18}),D[4]||(D[4]=Ut(" Cancel Workout ",-1))],8,AP)])):Ws("",!0)]),H("div",RP,[!l.value&&a.value?.exercises.length?(re(),le("div",OP,[H("div",DP,[H("div",LP,[H("div",{class:"progress-fill",style:ka({width:`${p.value}%`})},null,4)]),H("span",NP,ye(p.value)+"% Complete",1)]),H("div",FP,[(re(!0),le(Qe,null,_n(a.value.exercises,$=>(re(),Cr(CP,{key:$.exerciseId,exercise:$.exercise,"initial-sets":$.sets,onSetsUpdated:G=>E($.exerciseId,G)},null,8,["exercise","initial-sets","onSetsUpdated"]))),128))]),H("button",{onClick:D[0]||(D[0]=$=>l.value=!0),class:"add-exercise-btn"},[se(be(lc),{size:18}),D[5]||(D[5]=Ut(" Add Another Exercise ",-1))])])):(re(),le("div",WP,[H("div",BP,[H("h2",null,ye(a.value?.exercises.length?"Add Exercise":"Choose Your Exercises"),1),D[6]||(D[6]=H("p",null,"Select exercises for your workout",-1))]),H("div",HP,[vr(H("select",{"onUpdate:modelValue":D[1]||(D[1]=$=>c.value=$),class:"filter-select"},[D[7]||(D[7]=H("option",{value:""},"All Categories",-1)),(re(!0),le(Qe,null,_n(h.value,($,G)=>(re(),le("option",{key:G,value:$},ye($),9,$P))),128))],512),[[Sr,c.value]]),vr(H("select",{"onUpdate:modelValue":D[2]||(D[2]=$=>u.value=$),class:"filter-select"},D[8]||(D[8]=[H("option",{value:""},"All Difficulties",-1),H("option",{value:"beginner"},"Beginner",-1),H("option",{value:"intermediate"},"Intermediate",-1),H("option",{value:"advanced"},"Advanced",-1)]),512),[[Sr,u.value]])]),H("div",VP,[(re(!0),le(Qe,null,_n(f.value,$=>(re(),Cr(oP,{key:$.id,exercise:$,"is-selected":_($.id),onSelect:m},null,8,["exercise","is-selected"]))),128))]),o.value.length>0?(re(),le("div",UP,[H("button",{onClick:b,class:"start-workout-btn"},[se(be(pu),{size:18}),Ut(" Start Workout ("+ye(o.value.length)+" exercises) ",1)])])):Ws("",!0)]))])]))}}),jP=Yn(zP,[["__scopeId","data-v-a4386fed"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ao(t){return t+.5|0}const ns=(t,e,n)=>Math.max(Math.min(t,n),e);function Ki(t){return ns(ao(t*2.55),0,255)}function us(t){return ns(ao(t*255),0,255)}function Mn(t){return ns(ao(t/2.55)/100,0,1)}function Kd(t){return ns(ao(t*100),0,100)}const Yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wc=[..."0123456789ABCDEF"],YP=t=>Wc[t&15],GP=t=>Wc[(t&240)>>4]+Wc[t&15],yo=t=>(t&240)>>4===(t&15),KP=t=>yo(t.r)&&yo(t.g)&&yo(t.b)&&yo(t.a);function qP(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Yt[t[1]]*17,g:255&Yt[t[2]]*17,b:255&Yt[t[3]]*17,a:e===5?Yt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Yt[t[1]]<<4|Yt[t[2]],g:Yt[t[3]]<<4|Yt[t[4]],b:Yt[t[5]]<<4|Yt[t[6]],a:e===9?Yt[t[7]]<<4|Yt[t[8]]:255})),n}const XP=(t,e)=>t<255?e(t):"";function QP(t){var e=KP(t)?YP:GP;return t?"#"+e(t.r)+e(t.g)+e(t.b)+XP(t.a,e):void 0}const JP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yb(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function ZP(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function eM(t,e,n){const s=Yb(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function tM(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function ih(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=tM(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function rh(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(us)}function oh(t,e,n){return rh(Yb,t,e,n)}function nM(t,e,n){return rh(eM,t,e,n)}function sM(t,e,n){return rh(ZP,t,e,n)}function Gb(t){return(t%360+360)%360}function iM(t){const e=JP.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Ki(+e[5]):us(+e[5]));const i=Gb(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=nM(i,r,o):e[1]==="hsv"?s=sM(i,r,o):s=oh(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function rM(t,e){var n=ih(t);n[0]=Gb(n[0]+e),n=oh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function oM(t){if(!t)return;const e=ih(t),n=e[0],s=Kd(e[1]),i=Kd(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Mn(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const qd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Xd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function aM(){const t={},e=Object.keys(Xd),n=Object.keys(qd);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,qd[r]);r=parseInt(Xd[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let vo;function lM(t){vo||(vo=aM(),vo.transparent=[0,0,0,0]);const e=vo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const cM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uM(t){const e=cM.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?Ki(o):ns(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?Ki(s):ns(s,0,255)),i=255&(e[4]?Ki(i):ns(i,0,255)),r=255&(e[6]?Ki(r):ns(r,0,255)),{r:s,g:i,b:r,a:n}}}function hM(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Mn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Nl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ei=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function fM(t,e,n){const s=ei(Mn(t.r)),i=ei(Mn(t.g)),r=ei(Mn(t.b));return{r:us(Nl(s+n*(ei(Mn(e.r))-s))),g:us(Nl(i+n*(ei(Mn(e.g))-i))),b:us(Nl(r+n*(ei(Mn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function xo(t,e,n){if(t){let s=ih(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=oh(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Kb(t,e){return t&&Object.assign(e||{},t)}function Qd(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=us(t[3]))):(e=Kb(t,{r:0,g:0,b:0,a:1}),e.a=us(e.a)),e}function dM(t){return t.charAt(0)==="r"?uM(t):iM(t)}class Vr{constructor(e){if(e instanceof Vr)return e;const n=typeof e;let s;n==="object"?s=Qd(e):n==="string"&&(s=qP(e)||lM(e)||dM(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Kb(this._rgb);return e&&(e.a=Mn(e.a)),e}set rgb(e){this._rgb=Qd(e)}rgbString(){return this._valid?hM(this._rgb):void 0}hexString(){return this._valid?QP(this._rgb):void 0}hslString(){return this._valid?oM(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=fM(this._rgb,e._rgb,n)),this}clone(){return new Vr(this.rgb)}alpha(e){return this._rgb.a=us(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ao(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xo(this._rgb,2,e),this}darken(e){return xo(this._rgb,2,-e),this}saturate(e){return xo(this._rgb,1,e),this}desaturate(e){return xo(this._rgb,1,-e),this}rotate(e){return rM(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function kn(){}const pM=(()=>{let t=0;return()=>t++})();function de(t){return t==null}function ze(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function me(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function qe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ht(t,e){return qe(t)?t:e}function ie(t,e){return typeof t>"u"?e:t}const gM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,qb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Le(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Pe(t,e,n,s){let i,r,o;if(ze(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(me(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function da(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function pa(t){if(ze(t))return t.map(pa);if(me(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=pa(t[n[i]]);return e}return t}function Xb(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mM(t,e,n,s){if(!Xb(t))return;const i=e[t],r=n[t];me(i)&&me(r)?Ur(i,r,s):e[t]=pa(r)}function Ur(t,e,n){const s=ze(e)?e:[e],i=s.length;if(!me(t))return t;n=n||{};const r=n.merger||mM;let o;for(let a=0;a<i;++a){if(o=s[a],!me(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function dr(t,e){return Ur(t,e,{merger:_M})}function _M(t,e,n){if(!Xb(t))return;const s=e[t],i=n[t];me(s)&&me(i)?dr(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pa(i))}const Jd={"":t=>t,x:t=>t.x,y:t=>t.y};function bM(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function yM(t){const e=bM(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ms(t,e){return(Jd[e]||(Jd[e]=yM(e)))(t)}function ah(t){return t.charAt(0).toUpperCase()+t.slice(1)}const zr=t=>typeof t<"u",_s=t=>typeof t=="function",Zd=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function vM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const xe=Math.PI,Ve=2*xe,xM=Ve+xe,ga=Number.POSITIVE_INFINITY,CM=xe/180,Je=xe/2,ws=xe/4,ep=xe*2/3,ss=Math.log10,yn=Math.sign;function pr(t,e,n){return Math.abs(t-e)<n}function tp(t){const e=Math.round(t);t=pr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ss(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function EM(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function SM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ki(t){return!SM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function wM(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Qb(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function tn(t){return t*(xe/180)}function lh(t){return t*(180/xe)}function np(t){if(!qe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Jb(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*xe&&(r+=Ve),{angle:r,distance:i}}function Bc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function kM(t,e){return(t-e+xM)%Ve-xe}function _t(t){return(t%Ve+Ve)%Ve}function jr(t,e,n,s){const i=_t(t),r=_t(e),o=_t(n),a=_t(r-i),l=_t(o-i),c=_t(i-r),u=_t(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function ft(t,e,n){return Math.max(e,Math.min(n,t))}function TM(t){return ft(t,-32768,32767)}function Nn(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function ch(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Fn=(t,e,n,s)=>ch(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),IM=(t,e,n)=>ch(t,n,s=>t[s][e]>=n);function PM(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Zb=["push","pop","shift","splice","unshift"];function MM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Zb.forEach(n=>{const s="_onData"+ah(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function sp(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Zb.forEach(r=>{delete t[r]}),delete t._chartjs)}function ey(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ty=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ny(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,ty.call(window,()=>{s=!1,t.apply(e,n)}))}}function AM(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const uh=t=>t==="start"?"left":t==="end"?"right":"center",mt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,RM=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function sy(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:d,maxDefined:p}=o.getUserBounds();if(d){if(i=Math.min(Fn(l,u,h).lo,n?s:Fn(e,u,o.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(_=>!de(_[a.axis]));i-=Math.max(0,g)}i=ft(i,0,s-1)}if(p){let g=Math.max(Fn(l,o.axis,f,!0).hi+1,n?0:Fn(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const _=l.slice(g-1).findIndex(m=>!de(m[a.axis]));g+=Math.max(0,_)}r=ft(g,i,s)-i}else r=s-i}return{start:i,count:r}}function iy(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Co=t=>t===0||t===1,ip=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ve/n)),rp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ve/n)+1,gr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Je)+1,easeOutSine:t=>Math.sin(t*Je),easeInOutSine:t=>-.5*(Math.cos(xe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Co(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Co(t)?t:ip(t,.075,.3),easeOutElastic:t=>Co(t)?t:rp(t,.075,.3),easeInOutElastic(t){return Co(t)?t:t<.5?.5*ip(t*2,.1125,.45):.5+.5*rp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-gr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?gr.easeInBounce(t*2)*.5:gr.easeOutBounce(t*2-1)*.5+.5};function hh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function op(t){return hh(t)?t:new Vr(t)}function Fl(t){return hh(t)?t:new Vr(t).saturate(.5).darken(.1).hexString()}const OM=["x","y","borderWidth","radius","tension"],DM=["color","borderColor","backgroundColor"];function LM(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:DM},numbers:{type:"number",properties:OM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function NM(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ap=new Map;function FM(t,e){e=e||{};const n=t+JSON.stringify(e);let s=ap.get(n);return s||(s=new Intl.NumberFormat(t,e),ap.set(n,s)),s}function lo(t,e,n){return FM(e,n).format(t)}const ry={values(t){return ze(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=WM(t,n)}const o=ss(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),lo(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(ss(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?ry.numeric.call(this,t,e,n):""}};function WM(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Za={formatters:ry};function BM(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Za.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ys=Object.create(null),Hc=Object.create(null);function mr(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function Wl(t,e,n){return typeof e=="string"?Ur(mr(t,e),n):Ur(mr(t,""),e)}class HM{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Fl(i.backgroundColor),this.hoverBorderColor=(s,i)=>Fl(i.borderColor),this.hoverColor=(s,i)=>Fl(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Wl(this,e,n)}get(e){return mr(this,e)}describe(e,n){return Wl(Hc,e,n)}override(e,n){return Wl(Ys,e,n)}route(e,n,s,i){const r=mr(this,e),o=mr(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return me(l)?Object.assign({},c,l):ie(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var je=new HM({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LM,NM,BM]);function $M(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ma(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function VM(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!ze(h))o=ma(t,i,r,o,h);else if(ze(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!ze(f)&&(o=ma(t,i,r,o,f));t.restore();const d=r.length/2;if(d>n.length){for(l=0;l<d;l++)delete i[r[l]];r.splice(0,d)}return o}function ks(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function lp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function $c(t,e,n,s){oy(t,e,n,s,null)}function oy(t,e,n,s,i){let r,o,a,l,c,u,h,f;const d=e.pointStyle,p=e.rotation,g=e.radius;let _=(p||0)*CM;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),d){default:i?t.ellipse(n,s,i/2,g,0,0,Ve):t.arc(n,s,g,0,Ve),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(_)*u,s-Math.cos(_)*g),_+=ep,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*g),_+=ep,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(_+ws)*l,h=Math.cos(_+ws)*(i?i/2-c:l),a=Math.sin(_+ws)*l,f=Math.sin(_+ws)*(i?i/2-c:l),t.arc(n-h,s-a,c,_-xe,_-Je),t.arc(n+f,s-o,c,_-Je,_),t.arc(n+h,s+a,c,_,_+Je),t.arc(n-f,s+o,c,_+Je,_+xe),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}_+=ws;case"rectRot":h=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,f=Math.sin(_)*(i?i/2:g),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":_+=ws;case"cross":h=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,f=Math.sin(_)*(i?i/2:g),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,f=Math.sin(_)*(i?i/2:g),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),_+=ws,h=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,f=Math.sin(_)*(i?i/2:g),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(_)*g,a=Math.sin(_)*g,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(i?i/2:g),s+Math.sin(_)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Wn(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function el(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function tl(t){t.restore()}function UM(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function zM(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function jM(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function YM(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function GM(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Gs(t,e,n,s,i,r={}){const o=ze(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,jM(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&GM(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),de(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),YM(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function Yr(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*xe,xe,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,xe,Je,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Je,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Je,!0),t.lineTo(n+o.topLeft,s)}const KM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XM(t,e){const n=(""+t).match(KM);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const QM=t=>+t||0;function fh(t,e){const n={},s=me(e),i=s?Object.keys(e):e,r=me(t)?s?o=>ie(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=QM(r(o));return n}function ay(t){return fh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Bs(t){return fh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Et(t){const e=ay(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ot(t,e){t=t||{},e=e||je.font;let n=ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ie(t.style,e.style);s&&!(""+s).match(qM)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:ie(t.family,e.family),lineHeight:XM(ie(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ie(t.weight,e.weight),string:""};return i.string=$M(i),i}function qi(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function JM(t,e,n){const{min:s,max:i}=t,r=qb(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function xs(t,e){return Object.assign(Object.create(t),e)}function dh(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=hy("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>dh([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return cy(a,l,()=>oA(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return up(a).includes(l)},ownKeys(a){return up(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Ti(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ly(t,s),setContext:r=>Ti(t,r,n,s),override:r=>Ti(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return cy(r,o,()=>eA(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function ly(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:_s(n)?n:()=>n,isIndexable:_s(s)?s:()=>s}}const ZM=(t,e)=>t?t+ah(e):e,ph=(t,e)=>me(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function cy(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function eA(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return _s(a)&&o.isScriptable(e)&&(a=tA(e,a,t,n)),ze(a)&&a.length&&(a=nA(e,a,t,o.isIndexable)),ph(e,a)&&(a=Ti(a,i,r&&r[e],o)),a}function tA(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),ph(t,l)&&(l=gh(i._scopes,i,t,l)),l}function nA(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(me(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=gh(c,i,t,u);e.push(Ti(h,r,o&&o[t],a))}}return e}function uy(t,e,n){return _s(t)?t(e,n):t}const sA=(t,e)=>t===!0?e:typeof t=="string"?ms(e,t):void 0;function iA(t,e,n,s,i){for(const r of e){const o=sA(n,r);if(o){t.add(o);const a=uy(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function gh(t,e,n,s){const i=e._rootScopes,r=uy(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=cp(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=cp(a,o,r,l,s),l===null)?!1:dh(Array.from(a),[""],i,r,()=>rA(e,n,s))}function cp(t,e,n,s,i){for(;n;)n=iA(t,e,n,s,i);return n}function rA(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return ze(i)&&me(n)?n:i||{}}function oA(t,e,n,s){let i;for(const r of e)if(i=hy(ZM(r,t),n),typeof i<"u")return ph(t,i)?gh(n,s,t,i):i}function hy(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function up(t){let e=t._keys;return e||(e=t._keys=aA(t._scopes)),e}function aA(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function fy(t,e,n,s){const{iScale:i}=t,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(ms(u,r),c)};return o}const lA=Number.EPSILON||1e-14,Ii=(t,e)=>e<t.length&&!t[e].skip&&t[e],dy=t=>t==="x"?"y":"x";function cA(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=Bc(r,i),l=Bc(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,f=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function uA(t,e,n){const s=t.length;let i,r,o,a,l,c=Ii(t,0);for(let u=0;u<s-1;++u)if(l=c,c=Ii(t,u+1),!(!l||!c)){if(pr(e[u],0,lA)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function hA(t,e,n="x"){const s=dy(n),i=t.length;let r,o,a,l=Ii(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Ii(t,c+1),!a)continue;const u=a[n],h=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=h+r*e[c])}}function fA(t,e="x"){const n=dy(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=Ii(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=Ii(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?yn(i[o-1])!==yn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}uA(t,i,r),hA(t,r,e)}function Eo(t,e,n){return Math.max(Math.min(t,n),e)}function dA(t,e){let n,s,i,r,o,a=Wn(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Wn(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Eo(i.cp1x,e.left,e.right),i.cp1y=Eo(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Eo(i.cp2x,e.left,e.right),i.cp2y=Eo(i.cp2y,e.top,e.bottom)))}function pA(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")fA(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=cA(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&dA(t,n)}function mh(){return typeof window<"u"&&typeof document<"u"}function _h(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _a(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const nl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function gA(t,e){return nl(t).getPropertyValue(e)}const mA=["top","right","bottom","left"];function Hs(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=mA[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const _A=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function bA(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(_A(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Rs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=nl(n),r=i.boxSizing==="border-box",o=Hs(i,"padding"),a=Hs(i,"border","width"),{x:l,y:c,box:u}=bA(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:p}=e;return r&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/d*n.width/s),y:Math.round((c-f)/p*n.height/s)}}function yA(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&_h(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=nl(r),l=Hs(a,"border","width"),c=Hs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=_a(a.maxWidth,r,"clientWidth"),i=_a(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||ga,maxHeight:i||ga}}const So=t=>Math.round(t*10)/10;function vA(t,e,n,s){const i=nl(t),r=Hs(i,"margin"),o=_a(i.maxWidth,t,"clientWidth")||ga,a=_a(i.maxHeight,t,"clientHeight")||ga,l=yA(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Hs(i,"border","width"),d=Hs(i,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=So(Math.min(c,o,l.maxWidth)),u=So(Math.min(u,a,l.maxHeight)),c&&!u&&(u=So(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=So(Math.floor(u*s))),{width:c,height:u}}function hp(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const xA=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};mh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function fp(t,e){const n=gA(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Os(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function CA(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function EA(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Os(t,i,n),a=Os(i,r,n),l=Os(r,e,n),c=Os(o,a,n),u=Os(a,l,n);return Os(c,u,n)}const SA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},wA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function pi(t,e,n){return t?SA(e,n):wA()}function py(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function gy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function my(t){return t==="angle"?{between:jr,compare:kM,normalize:_t}:{between:Nn,compare:(e,n)=>e-n,normalize:e=>e}}function dp({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function kA(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=my(s),l=e.length;let{start:c,end:u,loop:h}=t,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(e[c%l][s]),i,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function _y(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=my(s),{start:u,end:h,loop:f,style:d}=kA(t,e,n),p=[];let g=!1,_=null,m,b,E;const v=()=>l(i,E,m)&&a(i,E)!==0,w=()=>a(r,m)===0||l(r,E,m),M=()=>g||v(),k=()=>!g||w();for(let O=u,D=u;O<=h;++O)b=e[O%o],!b.skip&&(m=c(b[s]),m!==E&&(g=l(m,i,r),_===null&&M()&&(_=a(m,i)===0?O:D),_!==null&&k()&&(p.push(dp({start:_,end:O,loop:f,count:o,style:d})),_=null),D=O,E=m));return _!==null&&p.push(dp({start:_,end:h,loop:f,count:o,style:d})),p}function by(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=_y(s[i],t.points,e);r.length&&n.push(...r)}return n}function TA(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function IA(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function PA(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=TA(n,i,r,s);if(s===!0)return pp(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return pp(t,IA(n,o,l,c),n,e)}function pp(t,e,n,s){return!s||!s.setContext||!n?e:MA(t,e,n,s)}function MA(t,e,n,s){const i=t._chart.getContext(),r=gp(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,f=h;function d(p,g,_,m){const b=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=b;for(;n[g%l].skip;)g+=b;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:_,style:m}),u=m,h=g%l)}}for(const p of e){h=a?h:p.start;let g=n[h%l],_;for(f=h+1;f<=p.end;f++){const m=n[f%l];_=gp(s.setContext(xs(i,{type:"segment",p0:g,p1:m,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),AA(_,u)&&d(h,f-1,p.loop,u),g=m,u=_}h<f-1&&d(h,f-1,p.loop,u)}return c}function gp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function AA(t,e){if(!e)return!1;const n=[],s=function(i,r){return hh(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function wo(t,e,n){return t.options.clip?t[n]:e[n]}function RA(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:wo(n,e,"left"),right:wo(n,e,"right"),top:wo(s,e,"top"),bottom:wo(s,e,"bottom")}:e}function yy(t,e){const n=e._clip;if(n.disabled)return!1;const s=RA(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class OA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ty.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Tn=new OA;const mp="transparent",DA={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=op(t||mp),i=s.valid&&op(e||mp);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class LA{constructor(e,n,s,i){const r=n[s];i=qi([e.to,i,r,e.from]);const o=qi([e.from,r,i]);this._active=!0,this._fn=e.fn||DA[e.type||typeof o],this._easing=gr[e.easing]||gr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=qi([e.to,n,i,e.from]),this._from=qi([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class vy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!me(e))return;const n=Object.keys(je.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!me(r))return;const o={};for(const a of n)o[a]=r[a];(ze(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=FA(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&NA(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const f=s.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=h=new LA(f,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Tn.add(this._chart,s),!0}}function NA(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function FA(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function _p(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function WA(t,e,n){if(n===!1)return!1;const s=_p(t,n),i=_p(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function BA(t){let e,n,s,i;return me(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function xy(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function bp(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],qe(c)&&(r||e===0||yn(e)===yn(c))&&(e+=c)}return!u&&!s.all?0:e}function HA(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function Bl(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function $A(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function VA(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function UA(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function yp(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function vp(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=$A(r,o,s),h=e.length;let f;for(let d=0;d<h;++d){const p=e[d],{[l]:g,[c]:_}=p,m=p._stacks||(p._stacks={});f=m[c]=UA(i,u,g),f[a]=_,f._top=yp(f,o,!0,s.type),f._bottom=yp(f,o,!1,s.type);const b=f._visualValues||(f._visualValues={});b[a]=_}}function Hl(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function zA(t,e){return xs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jA(t,e,n){return xs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vi(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const $l=t=>t==="reset"||t==="none",xp=(t,e)=>e?t:Object.assign({},t),YA=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:xy(n,!0),values:null};class Cs{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Bl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,d,p)=>h==="x"?f:h==="r"?p:d,r=n.xAxisID=ie(s.xAxisID,Hl(e,"x")),o=n.yAxisID=ie(s.yAxisID,Hl(e,"y")),a=n.rAxisID=ie(s.rAxisID,Hl(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sp(this._data,this),e._stacked&&Vi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(me(n)){const i=this._cachedMeta;this._data=HA(n,i)}else if(s!==n){if(s){sp(s,this);const i=this._cachedMeta;Vi(i),i._parsed=[]}n&&Object.isExtensible(n)&&MM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Bl(n.vScale,n),n.stack!==s.stack&&(i=!0,Vi(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(vp(this,n._parsed),n._stacked=Bl(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{ze(i[e])?f=this.parseArrayData(s,i,e,n):me(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=h=f[u],l&&(d()&&(l=!1),c=h);s._sorted=l}o&&vp(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let f,d,p;for(f=0,d=i;f<d;++f)p=f+s,h[f]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,d;for(u=0,h=i;u<h;++u)f=u+s,d=n[f],c[u]={x:r.parse(ms(d,a),f),y:o.parse(ms(d,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:xy(i,!0),values:n._stacks[e.axis]._visualValues};return bp(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=bp(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=YA(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=VA(a);let f,d;function p(){d=i[f];const g=d[a.axis];return!qe(d[e.axis])||u>g||h<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,d,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],qe(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=BA(ie(this.options.clip,WA(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=jA(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=zA(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&zr(s);if(a)return xp(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(je.elements[e]),p=()=>this.getContext(s,i,n),g=c.resolveNamedOptions(f,d,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(xp(g,l))),g}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,s,n))}const c=new vy(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||$l(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){$l(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!$l(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Vi(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function GA(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=ey(s.sort((i,r)=>i-r))}return t._cache.$bar}function KA(t){const e=t.iScale,n=GA(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(zr(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function qA(t,e,n,s){const i=n.barThickness;let r,o;return de(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function XA(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function QA(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function Cy(t,e,n,s){return ze(t)?QA(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Cp(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,f;for(c=n,u=n+s;c<u;++c)f=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(Cy(f,h,r,c));return l}function Vl(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function JA(t,e,n){return t!==0?yn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function ZA(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function eR(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=ZA(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[Ep(u,o,a,l)]=!0,i=c)),r[Ep(i,o,a,l)]=!0,t.borderSkipped=r}function Ep(t,e,n,s){return s?(t=tR(t,e,n),t=Sp(t,n,e)):t=Sp(t,e,n),t}function tR(t,e,n){return t===e?n:t===n?e:t}function Sp(t,e,n){return t==="start"?e:t==="end"?n:t}function nR(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class sR extends Cs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,i){return Cp(e,n,s,i)}parseArrayData(e,n,s,i){return Cp(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,d,p,g;for(f=s,d=s+i;f<d;++f)g=n[f],p={},p[r.axis]=r.parse(ms(g,c),f),h.push(Cy(ms(g,u),p,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=Vl(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let d=n;d<n+s;d++){const p=this.getParsed(d),g=r||de(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),_=this._calculateBarIndexPixels(d,u),m=(p._stacks||{})[a.axis],b={horizontal:c,base:g.base,enableBorderRadius:!m||Vl(p._custom)||o===m._top||o===m._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};f&&(b.options=h||this.resolveDataElementOptions(d,e[d].active?"active":i));const E=b.options||e[d].options;eR(b,E,m,o),nR(b,E,u.ratio),this.updateElement(e[d],d,b,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(d=>d[s.axis]===l),f=h&&h[u.vScale.axis];if(de(f)||isNaN(f))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ie(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||KA(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Vl(c);let h=l[n.axis],f=0,d=s?this.applyStack(n,l,s):h,p,g;d!==h&&(f=d-h,d=h),u&&(h=c.barStart,d=c.barEnd-c.barStart,h!==0&&yn(h)!==yn(c.barEnd)&&(f=0),f+=h);const _=!de(r)&&!u?r:f;let m=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+d):p=m,g=p-m,Math.abs(g)<o){g=JA(g,n,a)*o,h===a&&(m-=g/2);const b=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),v=Math.min(b,E),w=Math.max(b,E);m=Math.max(Math.min(m,w),v),p=m+g,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const b=yn(g)*n.getLineWidthForValue(a)/2;m+=b,g-=b}return{size:g,base:m,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=ie(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?XA(e,n,i,u*c):qA(e,n,i,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(ie(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+d;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class iR extends Cs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const r=super.parsePrimitiveData(e,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,n,s,i){const r=super.parseArrayData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=ie(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,n,s,i){const r=super.parseObjectData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=ie(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,h=a.axis;for(let f=n;f<n+s;f++){const d=e[f],p=!r&&this.getParsed(f),g={},_=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),m=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(_)||isNaN(m),c&&(g.options=l||this.resolveDataElementOptions(f,d.active?"active":i),r&&(g.options.radius=0)),this.updateElement(d,f,g,i)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=ie(s&&s._custom,r),i}}function rR(t,e,n){let s=1,i=1,r=0,o=0;if(e<Ve){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(E,v,w)=>jr(E,a,l,!0)?1:Math.max(v,v*n,w,w*n),p=(E,v,w)=>jr(E,a,l,!0)?-1:Math.min(v,v*n,w,w*n),g=d(0,c,h),_=d(Je,u,f),m=p(xe,c,h),b=p(xe+Je,u,f);s=(g-m)/2,i=(_-b)/2,r=-(g+m)/2,o=-(_+b)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class bh extends Cs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(me(s[e])){const{key:l="value"}=this._parsing;r=c=>+ms(s[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return tn(this.options.rotation-90)}_getCircumference(){return tn(this.options.circumference)}_getRotationExtents(){let e=Ve,n=-Ve;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(gM(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=rR(h,u,l),_=(s.width-o)/f,m=(s.height-o)/d,b=Math.max(Math.min(_,m)/2,0),E=qb(this.options.radius,b),v=Math.max(E*l,0),w=(E-v)/this._getVisibleDatasetWeightTotal();this.offsetX=p*E,this.offsetY=g*E,i.total=this.calculateTotal(),this.outerRadius=E-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Ve)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,d=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,i);let m=this._getRotation(),b;for(b=0;b<n;++b)m+=this._circumference(b,r);for(b=n;b<n+s;++b){const E=this._circumference(b,r),v=e[b],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+E,circumference:E,outerRadius:p,innerRadius:d};_&&(w.options=g||this.resolveDataElementOptions(b,v.active?"active":i)),m+=E,this.updateElement(v,b,w,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ve*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=lo(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class oR extends Cs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=sy(n,i,o);this._drawStart=a,this._drawCount=l,iy(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,_=ki(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||i==="none",b=n+s,E=e.length;let v=n>0&&this.getParsed(n-1);for(let w=0;w<E;++w){const M=e[w],k=m?M:{};if(w<n||w>=b){k.skip=!0;continue}const O=this.getParsed(w),D=de(O[d]),$=k[f]=o.getPixelForValue(O[f],w),G=k[d]=r||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[d],w);k.skip=isNaN($)||isNaN(G)||D,k.stop=w>0&&Math.abs(O[f]-v[f])>_,g&&(k.parsed=O,k.raw=c.data[w]),h&&(k.options=u||this.resolveDataElementOptions(w,M.active?"active":i)),m||this.updateElement(M,w,k,i),v=O}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Ey extends Cs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=lo(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,n,s,i){return fy.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*xe;let d=f,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)d+=this._computeAngle(p,i,g);for(p=n;p<n+s;p++){const _=e[p];let m=d,b=d+this._computeAngle(p,i,g),E=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=b,r&&(l.animateScale&&(E=0),l.animateRotate&&(m=b=f));const v={x:u,y:h,innerRadius:0,outerRadius:E,startAngle:m,endAngle:b,options:this.resolveDataElementOptions(p,_.active?"active":i)};this.updateElement(_,p,v,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?tn(this.resolveDataElementOptions(e,n).angle||s):0}}class aR extends bh{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class lR extends Cs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return fy.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,d={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,d,i)}}}class cR extends Cs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=sy(n,s,i);if(this._drawStart=r,this._drawCount=o,iy(n)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),f=this.includeOptions(i,h),d=o.axis,p=a.axis,{spanGaps:g,segment:_}=this.options,m=ki(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none";let E=n>0&&this.getParsed(n-1);for(let v=n;v<n+s;++v){const w=e[v],M=this.getParsed(v),k=b?w:{},O=de(M[p]),D=k[d]=o.getPixelForValue(M[d],v),$=k[p]=r||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[p],v);k.skip=isNaN(D)||isNaN($)||O,k.stop=v>0&&Math.abs(M[d]-E[d])>m,_&&(k.parsed=M,k.raw=c.data[v]),f&&(k.options=h||this.resolveDataElementOptions(v,w.active?"active":i)),b||this.updateElement(w,v,k,i),E=M}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}var uR=Object.freeze({__proto__:null,BarController:sR,BubbleController:iR,DoughnutController:bh,LineController:oR,PieController:aR,PolarAreaController:Ey,RadarController:lR,ScatterController:cR});function Ts(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yh{static override(e){Object.assign(yh.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ts()}parse(){return Ts()}format(){return Ts()}add(){return Ts()}diff(){return Ts()}startOf(){return Ts()}endOf(){return Ts()}}var hR={_date:yh};function fR(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?IM:Fn;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(r,e,n-h),d=c(r,e,n+h);return{lo:f.lo,hi:d.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,d=f.slice(0,u.lo+1).reverse().findIndex(g=>!de(g[h.axis]));u.lo-=Math.max(0,d);const p=f.slice(u.hi).findIndex(g=>!de(g[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:r.length-1}}function sl(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=fR(r[a],e,o,i);for(let d=h;d<=f;++d){const p=u[d];p.skip||s(p,c,d)}}}function dR(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ul(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||sl(t,n,e,function(a,l,c){!i&&!Wn(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function pR(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Jb(o,{x:e.x,y:e.y});jr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return sl(t,n,e,r),i}function gR(t,e,n,s,i,r){let o=[];const a=dR(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(e.x,e.y,i);if(s&&!d)return;const p=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(p))&&!d)return;const _=a(e,p);_<l?(o=[{element:u,datasetIndex:h,index:f}],l=_):_===l&&o.push({element:u,datasetIndex:h,index:f})}return sl(t,n,e,c),o}function zl(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?pR(t,e,n,i):gR(t,e,n,s,i,r)}function wp(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return sl(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var mR={modes:{index(t,e,n,s){const i=Rs(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ul(t,i,r,s,o):zl(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=Rs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ul(t,i,r,s,o):zl(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=Rs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ul(t,i,r,s,o)},nearest(t,e,n,s){const i=Rs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return zl(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Rs(e,t);return wp(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Rs(e,t);return wp(t,i,"y",n.intersect,s)}}};const Sy=["left","top","right","bottom"];function Ui(t,e){return t.filter(n=>n.pos===e)}function kp(t,e){return t.filter(n=>Sy.indexOf(n.pos)===-1&&n.box.axis===e)}function zi(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function _R(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function bR(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!Sy.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function yR(t,e){const n=bR(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function vR(t){const e=_R(t),n=zi(e.filter(c=>c.box.fullSize),!0),s=zi(Ui(e,"left"),!0),i=zi(Ui(e,"right")),r=zi(Ui(e,"top"),!0),o=zi(Ui(e,"bottom")),a=kp(e,"x"),l=kp(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Ui(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function Tp(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function wy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function xR(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!me(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&wy(o,r.getPadding());const a=Math.max(0,e.outerWidth-Tp(o,t,"left","right")),l=Math.max(0,e.outerHeight-Tp(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function CR(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ER(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function Xi(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,ER(a.horizontal,e));const{same:h,other:f}=xR(e,n,a,s);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Xi(i,e,n,s)||u}function ko(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function Ip(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;zr(c.start)&&(o=c.start),l.fullSize?ko(l,i.left,o,n.outerWidth-i.right-i.left,f):ko(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;zr(c.start)&&(r=c.start),l.fullSize?ko(l,r,i.top,f,n.outerHeight-i.bottom-i.top):ko(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var xt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Et(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=vR(t.boxes),l=a.vertical,c=a.horizontal;Pe(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);wy(f,Et(s));const d=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),p=yR(l.concat(c),h);Xi(a.fullSize,d,h,p),Xi(l,d,h,p),Xi(c,d,h,p)&&Xi(l,d,h,p),CR(d),Ip(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,Ip(a.rightAndBottom,d,h,p),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Pe(a.chartArea,g=>{const _=g.box;Object.assign(_,t.chartArea),_.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class ky{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class SR extends ky{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bo="$chartjs",wR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pp=t=>t===null||t==="";function kR(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Bo]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Pp(i)){const r=fp(t,"width");r!==void 0&&(t.width=r)}if(Pp(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=fp(t,"height");r!==void 0&&(t.height=r)}return t}const Ty=xA?{passive:!0}:!1;function TR(t,e,n){t&&t.addEventListener(e,n,Ty)}function IR(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Ty)}function PR(t,e){const n=wR[t.type]||t.type,{x:s,y:i}=Rs(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function ba(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function MR(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ba(a.addedNodes,s),o=o&&!ba(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function AR(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ba(a.removedNodes,s),o=o&&!ba(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Gr=new Map;let Mp=0;function Iy(){const t=window.devicePixelRatio;t!==Mp&&(Mp=t,Gr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function RR(t,e){Gr.size||window.addEventListener("resize",Iy),Gr.set(t,e)}function OR(t){Gr.delete(t),Gr.size||window.removeEventListener("resize",Iy)}function DR(t,e,n){const s=t.canvas,i=s&&_h(s);if(!i)return;const r=ny((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),RR(t,r),o}function jl(t,e,n){n&&n.disconnect(),e==="resize"&&OR(t)}function LR(t,e,n){const s=t.canvas,i=ny(r=>{t.ctx!==null&&n(PR(r,t))},t);return TR(s,e,i),i}class NR extends ky{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(kR(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Bo])return!1;const s=n[Bo].initial;["height","width"].forEach(r=>{const o=s[r];de(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Bo],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:MR,detach:AR,resize:DR}[n]||LR;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:jl,detach:jl,resize:jl}[n]||IR)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return vA(e,n,s,i)}isAttached(e){const n=e&&_h(e);return!!(n&&n.isConnected)}}function FR(t){return!mh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?SR:NR}let qn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return ki(this.x)&&ki(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function WR(t,e){const n=t.options.ticks,s=BR(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?$R(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return VR(e,c,r,o/i),c;const u=HR(r,e,i);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(To(e,c,u,de(d)?0:a-d,a),h=0,f=o-1;h<f;h++)To(e,c,u,r[h],r[h+1]);return To(e,c,u,l,de(d)?e.length:l+d),c}return To(e,c,u),c}function BR(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function HR(t,e,n){const s=UR(t),i=e.length/n;if(!s)return Math.max(i,1);const r=EM(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function $R(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function VR(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function To(t,e,n,s,i){const r=ie(s,0),o=Math.min(ie(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function UR(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const zR=t=>t==="left"?"right":t==="right"?"left":t,Ap=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Rp=(t,e)=>Math.min(e||t,t);function Op(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function jR(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function YR(t,e){Pe(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function ji(t){return t.drawTicks?t.tickLength:0}function Dp(t,e){if(!t.display)return 0;const n=ot(t.font,e),s=Et(t.padding);return(ze(t.text)?t.text.length:1)*n.lineHeight+s.height}function GR(t,e){return xs(t,{scale:e,type:"scale"})}function KR(t,e,n){return xs(t,{tick:n,index:e,type:"tick"})}function qR(t,e,n){let s=uh(t);return(n&&e!=="right"||!n&&e==="right")&&(s=zR(s)),s}function XR(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,d,p;const g=o-i,_=a-r;if(t.isHorizontal()){if(d=mt(s,r,a),me(n)){const m=Object.keys(n)[0],b=n[m];p=u[m].getPixelForValue(b)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=Ap(t,n,e);f=a-r}else{if(me(n)){const m=Object.keys(n)[0],b=n[m];d=u[m].getPixelForValue(b)-_+e}else n==="center"?d=(c.left+c.right)/2-_+e:d=Ap(t,n,e);p=mt(s,o,i),h=n==="left"?-Je:Je}return{titleX:d,titleY:p,maxWidth:f,rotation:h}}class Qs extends qn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Ht(e,Number.POSITIVE_INFINITY),n=Ht(n,Number.NEGATIVE_INFINITY),s=Ht(s,Number.POSITIVE_INFINITY),i=Ht(i,Number.NEGATIVE_INFINITY),{min:Ht(e,s),max:Ht(n,i),minDefined:qe(e),maxDefined:qe(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Ht(n,Ht(s,n)),max:Ht(s,Ht(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Le(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JM(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Op(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=WR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Le(this.options.afterUpdate,[this])}beforeSetDimensions(){Le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Le(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Le(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=Le(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){Le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Rp(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=ft(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:d/(s-1),h+6>a&&(a=d/(s-(e.offset?.5:1)),l=this.maxHeight-ji(e.grid)-n.padding-Dp(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=lh(Math.min(Math.asin(ft((u.highest.height+6)/a,-1,1)),Math.asin(ft(l/c,-1,1))-Math.asin(ft(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Le(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Dp(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ji(r)+l):(e.height=this.maxHeight,e.width=ji(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=s.padding*2,p=tn(this.labelRotation),g=Math.cos(p),_=Math.sin(p);if(a){const m=s.mirror?0:_*h.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+m+d)}else{const m=s.mirror?0:g*h.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+m+d)}this._calculatePadding(c,u,_,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=i*e.width,d=s*n.height):(f=s*e.height,d=i*n.width):r==="start"?d=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,d=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Le(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)de(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Op(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Rp(n,s));let c=0,u=0,h,f,d,p,g,_,m,b,E,v,w;for(h=0;h<n;h+=l){if(p=e[h].label,g=this._resolveTickFontOptions(h),i.font=_=g.string,m=r[_]=r[_]||{data:{},gc:[]},b=g.lineHeight,E=v=0,!de(p)&&!ze(p))E=ma(i,m.data,m.gc,E,p),v=b;else if(ze(p))for(f=0,d=p.length;f<d;++f)w=p[f],!de(w)&&!ze(w)&&(E=ma(i,m.data,m.gc,E,w),v+=b);o.push(E),a.push(v),c=Math.max(E,c),u=Math.max(v,u)}YR(r,n);const M=o.indexOf(c),k=a.indexOf(u),O=D=>({width:o[D]||0,height:a[D]||0});return{first:O(0),last:O(n-1),widest:O(M),highest:O(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return TM(this._alignToPixels?ks(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=KR(this.getContext(),e,s))}return this.$context||(this.$context=GR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=tn(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=ji(r),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,_=g/2,m=function(te){return ks(s,te,g)};let b,E,v,w,M,k,O,D,$,G,K,_e;if(o==="top")b=m(this.bottom),k=this.bottom-f,D=b-_,G=m(e.top)+_,_e=e.bottom;else if(o==="bottom")b=m(this.top),G=e.top,_e=m(e.bottom)-_,k=b+_,D=this.top+f;else if(o==="left")b=m(this.right),M=this.right-f,O=b-_,$=m(e.left)+_,K=e.right;else if(o==="right")b=m(this.left),$=e.left,K=m(e.right)-_,M=b+_,O=this.left+f;else if(n==="x"){if(o==="center")b=m((e.top+e.bottom)/2+.5);else if(me(o)){const te=Object.keys(o)[0],Q=o[te];b=m(this.chart.scales[te].getPixelForValue(Q))}G=e.top,_e=e.bottom,k=b+_,D=k+f}else if(n==="y"){if(o==="center")b=m((e.left+e.right)/2);else if(me(o)){const te=Object.keys(o)[0],Q=o[te];b=m(this.chart.scales[te].getPixelForValue(Q))}M=b-_,O=M-f,$=e.left,K=e.right}const Ye=ie(i.ticks.maxTicksLimit,h),ae=Math.max(1,Math.ceil(h/Ye));for(E=0;E<h;E+=ae){const te=this.getContext(E),Q=r.setContext(te),ne=a.setContext(te),pe=Q.lineWidth,Ze=Q.color,et=ne.dash||[],Be=ne.dashOffset,gt=Q.tickWidth,lt=Q.tickColor,Ft=Q.tickBorderDash||[],Ue=Q.tickBorderDashOffset;v=jR(this,E,l),v!==void 0&&(w=ks(s,v,pe),c?M=O=$=K=w:k=D=G=_e=w,d.push({tx1:M,ty1:k,tx2:O,ty2:D,x1:$,y1:G,x2:K,y2:_e,width:pe,color:Ze,borderDash:et,borderDashOffset:Be,tickWidth:gt,tickColor:lt,tickBorderDash:Ft,tickBorderDashOffset:Ue}))}return this._ticksLength=h,this._borderValue=b,d}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=ji(s.grid),d=f+u,p=h?-u:d,g=-tn(this.labelRotation),_=[];let m,b,E,v,w,M,k,O,D,$,G,K,_e="middle";if(i==="top")M=this.bottom-p,k=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+p,k=this._getXAxisLabelAlignment();else if(i==="left"){const ae=this._getYAxisLabelAlignment(f);k=ae.textAlign,w=ae.x}else if(i==="right"){const ae=this._getYAxisLabelAlignment(f);k=ae.textAlign,w=ae.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+d;else if(me(i)){const ae=Object.keys(i)[0],te=i[ae];M=this.chart.scales[ae].getPixelForValue(te)+d}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(e.left+e.right)/2-d;else if(me(i)){const ae=Object.keys(i)[0],te=i[ae];w=this.chart.scales[ae].getPixelForValue(te)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?_e="top":l==="end"&&(_e="bottom"));const Ye=this._getLabelSizes();for(m=0,b=a.length;m<b;++m){E=a[m],v=E.label;const ae=r.setContext(this.getContext(m));O=this.getPixelForTick(m)+r.labelOffset,D=this._resolveTickFontOptions(m),$=D.lineHeight,G=ze(v)?v.length:1;const te=G/2,Q=ae.color,ne=ae.textStrokeColor,pe=ae.textStrokeWidth;let Ze=k;o?(w=O,k==="inner"&&(m===b-1?Ze=this.options.reverse?"left":"right":m===0?Ze=this.options.reverse?"right":"left":Ze="center"),i==="top"?c==="near"||g!==0?K=-G*$+$/2:c==="center"?K=-Ye.highest.height/2-te*$+$:K=-Ye.highest.height+$/2:c==="near"||g!==0?K=$/2:c==="center"?K=Ye.highest.height/2-te*$:K=Ye.highest.height-G*$,h&&(K*=-1),g!==0&&!ae.showLabelBackdrop&&(w+=$/2*Math.sin(g))):(M=O,K=(1-G)*$/2);let et;if(ae.showLabelBackdrop){const Be=Et(ae.backdropPadding),gt=Ye.heights[m],lt=Ye.widths[m];let Ft=K-Be.top,Ue=0-Be.left;switch(_e){case"middle":Ft-=gt/2;break;case"bottom":Ft-=gt;break}switch(k){case"center":Ue-=lt/2;break;case"right":Ue-=lt;break;case"inner":m===b-1?Ue-=lt:m>0&&(Ue-=lt/2);break}et={left:Ue,top:Ft,width:lt+Be.width,height:gt+Be.height,color:ae.backdropColor}}_.push({label:v,font:D,textOffset:K,options:{rotation:g,color:Q,strokeColor:ne,strokeWidth:pe,textAlign:Ze,textBaseline:_e,translation:[w,M],backdrop:et}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-tn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=ks(e,this.left,o)-o/2,u=ks(e,this.right,a)+a/2,h=f=l):(h=ks(e,this.top,o)-o/2,f=ks(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&el(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Gs(s,c,0,u,l,a)}i&&tl(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=ot(s.font),o=Et(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||me(n)?(l+=o.bottom,ze(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=XR(this,l,n,a);Gs(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:qR(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ie(e.grid&&e.grid.z,-1),i=ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Qs.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ot(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Io{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;ZR(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,QR(e,o,s),this.override&&je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in je[i]&&(delete je[i][s],this.override&&delete Ys[s])}}function QR(t,e,n){const s=Ur(Object.create(null),[n?je.get(n):{},je.get(e),t.defaults]);je.set(e,s),t.defaultRoutes&&JR(e,t.defaultRoutes),t.descriptors&&je.describe(e,t.descriptors)}function JR(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");je.route(r,i,l,a)})}function ZR(t){return"id"in t&&"defaults"in t}class eO{constructor(){this.controllers=new Io(Cs,"datasets",!0),this.elements=new Io(qn,"elements"),this.plugins=new Io(Object,"plugins"),this.scales=new Io(Qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Pe(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=ah(e);Le(s["before"+i],[],s),n[e](s),Le(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var dn=new eO;class tO{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(Le(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=ie(s.options&&s.options.plugins,{}),r=nO(s);return i===!1&&!n?[]:iO(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function nO(t){const e={},n=[],s=Object.keys(dn.plugins.items);for(let r=0;r<s.length;r++)n.push(dn.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function sO(t,e){return!e&&t===!1?null:t===!0?{}:t}function iO(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=sO(s[l],i);c!==null&&r.push({plugin:a,options:rO(t.config,{plugin:a,local:n[l]},c,o)})}return r}function rO(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vc(t,e){const n=je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function oO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function aO(t,e){return t===e?"_index_":"_value_"}function Lp(t){if(t==="x"||t==="y"||t==="r")return t}function lO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Uc(t,...e){if(Lp(t))return t;for(const n of e){const s=n.axis||lO(n.position)||t.length>1&&Lp(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Np(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function cO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Np(t,"x",n[0])||Np(t,"y",n[0])}return{}}function uO(t,e){const n=Ys[t.type]||{scales:{}},s=e.scales||{},i=Vc(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!me(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Uc(o,a,cO(o,t),je.scales[a.type]),c=aO(l,i),u=n.scales||{};r[o]=dr(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Vc(a,e),u=(Ys[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=oO(h,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),dr(r[d],[{axis:f},s[d],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];dr(a,[je.scales[a.type],je.scale])}),r}function Py(t){const e=t.options||(t.options={});e.plugins=ie(e.plugins,{}),e.scales=uO(t,e)}function My(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function hO(t){return t=t||{},t.data=My(t.data),Py(t),t}const Fp=new Map,Ay=new Set;function Po(t,e){let n=Fp.get(t);return n||(n=e(),Fp.set(t,n),Ay.add(n)),n}const Yi=(t,e,n)=>{const s=ms(e,n);s!==void 0&&t.add(s)};class fO{constructor(e){this._config=hO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=My(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Py(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Po(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Po(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Po(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Po(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Yi(l,e,h))),u.forEach(h=>Yi(l,i,h)),u.forEach(h=>Yi(l,Ys[r]||{},h)),u.forEach(h=>Yi(l,je,h)),u.forEach(h=>Yi(l,Hc,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ay.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ys[n]||{},je.datasets[n]||{},{type:n},je,Hc]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Wp(this._resolverCache,e,i);let l=o;if(pO(o,n)){r.$shared=!1,s=_s(s)?s():s;const c=this.createResolver(e,s,a);l=Ti(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Wp(this._resolverCache,e,s);return me(n)?Ti(r,n,void 0,i):r}}function Wp(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:dh(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const dO=t=>me(t)&&Object.getOwnPropertyNames(t).some(e=>_s(t[e]));function pO(t,e){const{isScriptable:n,isIndexable:s}=ly(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(_s(a)||dO(a))||o&&ze(a))return!0}return!1}var gO="4.5.0";const mO=["top","bottom","left","right","chartArea"];function Bp(t,e){return t==="top"||t==="bottom"||mO.indexOf(t)===-1&&e==="x"}function Hp(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function $p(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Le(n&&n.onComplete,[t],e)}function _O(t){const e=t.chart,n=e.options.animation;Le(n&&n.onProgress,[t],e)}function Ry(t){return mh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ho={},Vp=t=>{const e=Ry(t);return Object.values(Ho).filter(n=>n.canvas===e).pop()};function bO(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function yO(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}class zc{static defaults=je;static instances=Ho;static overrides=Ys;static registry=dn;static version=gO;static getChart=Vp;static register(...e){dn.add(...e),Up()}static unregister(...e){dn.remove(...e),Up()}constructor(e,n){const s=this.config=new fO(n),i=Ry(e),r=Vp(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||FR(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=pM(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=AM(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ho[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Tn.listen(this,"complete",$p),Tn.listen(this,"progress",_O),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return de(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lp(this.canvas,this.ctx),this}stop(){return Tn.stop(this),this}resize(e,n){Tn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,hp(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Le(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Pe(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Uc(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Pe(r,o=>{const a=o.options,l=a.id,c=Uc(l,a),u=ie(a.type,o.dtype);(a.position===void 0||Bp(a.position,c)!==Bp(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const f=dn.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),Pe(i,(o,a)=>{o||delete s[a]}),Pe(s,o=>{xt.configure(this,o,o.options),xt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Hp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Vc(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=dn.getController(a),{datasetElementType:c,dataElementType:u}=je.datasets[a];Object.assign(l,{dataElementType:dn.getElement(u),datasetElementType:c&&dn.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Pe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Pe(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Hp("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Pe(this.scales,e=>{xt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Zd(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;bO(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Zd(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Pe(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,_s(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Tn.has(this)?this.attached&&!Tn.running(this)&&Tn.start(this):(this.draw(),$p({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=yy(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&el(n,i),e.controller.draw(),i&&tl(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Wn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=mR.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=xs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);zr(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Tn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),lp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ho[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Pe(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Pe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Pe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!da(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=vM(e),c=yO(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Le(r.onHover,[e,a,this],this),l&&Le(r.onClick,[e,a,this],this));const u=!da(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function Up(){return Pe(zc.instances,t=>t._plugins.invalidate())}function vO(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,_t(s-n));if(t.beginPath(),t.arc(i,r,o-c/2,s+h/2,n-h/2),a>0){const f=Math.min(c/a,_t(s-n));t.arc(i,r,a+c/2,n-f/2,s+f/2,!0)}else{const f=Math.min(c/2,o*_t(s-n));if(u==="round")t.arc(i,r,f,n-xe/2,s+xe/2,!0);else if(u==="bevel"){const d=2*f*f,p=-d*Math.cos(n+xe/2)+i,g=-d*Math.sin(n+xe/2)+r,_=d*Math.cos(s+xe/2)+i,m=d*Math.sin(s+xe/2)+r;t.lineTo(p,g),t.lineTo(_,m)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function xO(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,s-c,n+c),l>i?(c=i/l,t.arc(r,o,l,n+c,s-c,!0)):t.arc(r,o,i,n+Je,s-Je),t.closePath(),t.clip()}function CO(t){return fh(t,["outerStart","outerEnd","innerStart","innerEnd"])}function EO(t,e,n,s){const i=CO(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return ft(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ft(i.innerStart,0,o),innerEnd:ft(i.innerEnd,0,o)}}function ti(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function ya(t,e,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+s+n-c,0),f=u>0?u+s+n+c:0;let d=0;const p=i-l;if(s){const ae=u>0?u-s:0,te=h>0?h-s:0,Q=(ae+te)/2,ne=Q!==0?p*Q/(Q+s):p;d=(p-ne)/2}const g=Math.max(.001,p*h-n/xe)/h,_=(p-g)/2,m=l+_+d,b=i-_-d,{outerStart:E,outerEnd:v,innerStart:w,innerEnd:M}=EO(e,f,h,b-m),k=h-E,O=h-v,D=m+E/k,$=b-v/O,G=f+w,K=f+M,_e=m+w/G,Ye=b-M/K;if(t.beginPath(),r){const ae=(D+$)/2;if(t.arc(o,a,h,D,ae),t.arc(o,a,h,ae,$),v>0){const pe=ti(O,$,o,a);t.arc(pe.x,pe.y,v,$,b+Je)}const te=ti(K,b,o,a);if(t.lineTo(te.x,te.y),M>0){const pe=ti(K,Ye,o,a);t.arc(pe.x,pe.y,M,b+Je,Ye+Math.PI)}const Q=(b-M/f+(m+w/f))/2;if(t.arc(o,a,f,b-M/f,Q,!0),t.arc(o,a,f,Q,m+w/f,!0),w>0){const pe=ti(G,_e,o,a);t.arc(pe.x,pe.y,w,_e+Math.PI,m-Je)}const ne=ti(k,m,o,a);if(t.lineTo(ne.x,ne.y),E>0){const pe=ti(k,D,o,a);t.arc(pe.x,pe.y,E,m-Je,D)}}else{t.moveTo(o,a);const ae=Math.cos(D)*h+o,te=Math.sin(D)*h+a;t.lineTo(ae,te);const Q=Math.cos($)*h+o,ne=Math.sin($)*h+a;t.lineTo(Q,ne)}t.closePath()}function SO(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){ya(t,e,n,s,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%Ve||Ve))}return ya(t,e,n,s,l,i),t.fill(),l}function wO(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:d}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(r){ya(t,e,n,s,g,i);for(let _=0;_<r;++_)t.stroke();isNaN(a)||(g=o+(a%Ve||Ve))}p&&xO(t,e,g),l.selfJoin&&g-o>=xe&&d===0&&u!=="miter"&&vO(t,e,g),r||(ya(t,e,n,s,g,i),t.stroke())}class kO extends qn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=Jb(i,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,d=ie(h,l-a),p=jr(r,a,l)&&a!==l,g=d>=Ve||p,_=Nn(o,c+f,u+f);return g&&_}getCenterPoint(e){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,i=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Ve?Math.floor(s/Ve):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(xe,s||0)),c=i*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,SO(e,this,c,r,o),wO(e,this,c,r,o),e.restore()}}function Oy(t,e,n=e){t.lineCap=ie(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ie(n.borderDash,e.borderDash)),t.lineDashOffset=ie(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ie(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ie(n.borderWidth,e.borderWidth),t.strokeStyle=ie(n.borderColor,e.borderColor)}function TO(t,e,n){t.lineTo(n.x,n.y)}function IO(t){return t.stepped?UM:t.tension||t.cubicInterpolationMode==="monotone"?zM:TO}function Dy(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function PO(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=Dy(i,n,s),u=IO(r);let{move:h=!0,reverse:f}=s||{},d,p,g;for(d=0;d<=c;++d)p=i[(a+(f?c-d:d))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,g,p,f,r.stepped),g=p);return l&&(p=i[(a+(f?c:0))%o],u(t,g,p,f,r.stepped)),!!l}function MO(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=Dy(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,f,d,p,g,_,m;const b=v=>(o+(c?a-v:v))%r,E=()=>{g!==_&&(t.lineTo(u,_),t.lineTo(u,g),t.lineTo(u,m))};for(l&&(d=i[b(0)],t.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=i[b(f)],d.skip)continue;const v=d.x,w=d.y,M=v|0;M===p?(w<g?g=w:w>_&&(_=w),u=(h*u+v)/++h):(E(),t.lineTo(v,w),p=M,h=0,g=_=w),m=w}E()}function jc(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?MO:PO}function AO(t){return t.stepped?CA:t.tension||t.cubicInterpolationMode==="monotone"?EA:Os}function RO(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),Oy(t,e.options),t.stroke(i)}function OO(t,e,n,s){const{segments:i,options:r}=e,o=jc(e);for(const a of i)Oy(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const DO=typeof Path2D=="function";function LO(t,e,n,s){DO&&!e.options.segment?RO(t,e,n,s):OO(t,e,n,s)}class il extends qn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;pA(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PA(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=by(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=AO(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=r[h],p=r[f];if(d===p){a.push(d);continue}const g=Math.abs((i-d[n])/(p[n]-d[n])),_=l(d,p,g,s.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,s){return jc(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=jc(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),LO(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function zp(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class NO extends qn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return zp(this,e,"x",n)}inYRange(e,n){return zp(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!Wn(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,$c(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ly(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-h,u=s+h):(h=r/2,a=n-h,l=n+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function is(t,e,n,s){return t?0:ft(e,n,s)}function FO(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=ay(s);return{t:is(i.top,r.top,0,n),r:is(i.right,r.right,0,e),b:is(i.bottom,r.bottom,0,n),l:is(i.left,r.left,0,e)}}function WO(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Bs(i),o=Math.min(e,n),a=t.borderSkipped,l=s||me(i);return{topLeft:is(!l||a.top||a.left,r.topLeft,0,o),topRight:is(!l||a.top||a.right,r.topRight,0,o),bottomLeft:is(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:is(!l||a.bottom||a.right,r.bottomRight,0,o)}}function BO(t){const e=Ly(t),n=e.right-e.left,s=e.bottom-e.top,i=FO(t,n/2,s/2),r=WO(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Yl(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&Ly(t,s);return a&&(i||Nn(e,a.left,a.right))&&(r||Nn(n,a.top,a.bottom))}function HO(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function $O(t,e){t.rect(e.x,e.y,e.w,e.h)}function Gl(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class VO extends qn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=BO(this),a=HO(o.radius)?Yr:$O;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Gl(o,n,r)),e.clip(),a(e,Gl(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Gl(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return Yl(this,e,n,s)}inXRange(e,n){return Yl(this,e,null,n)}inYRange(e,n){return Yl(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var UO=Object.freeze({__proto__:null,ArcElement:kO,BarElement:VO,LineElement:il,PointElement:NO});const Yc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],jp=Yc.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ny(t){return Yc[t%Yc.length]}function Fy(t){return jp[t%jp.length]}function zO(t,e){return t.borderColor=Ny(e),t.backgroundColor=Fy(e),++e}function jO(t,e){return t.backgroundColor=t.data.map(()=>Ny(e++)),e}function YO(t,e){return t.backgroundColor=t.data.map(()=>Fy(e++)),e}function GO(t){let e=0;return(n,s)=>{const i=t.getDatasetMeta(s).controller;i instanceof bh?e=jO(n,e):i instanceof Ey?e=YO(n,e):i&&(e=zO(n,e))}}function Yp(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function KO(t){return t&&(t.borderColor||t.backgroundColor)}function qO(){return je.borderColor!=="rgba(0,0,0,0.1)"||je.backgroundColor!=="rgba(0,0,0,0.1)"}var XO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=t.config,{elements:r}=i,o=Yp(s)||KO(i)||r&&Yp(r)||qO();if(!n.forceOverride&&o)return;const a=GO(t);s.forEach(a)}};function QO(t,e,n,s,i){const r=i.samples||s;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,h,f,d,p,g;for(o[l++]=t[u],h=0;h<r-2;h++){let _=0,m=0,b;const E=Math.floor((h+1)*a)+1+e,v=Math.min(Math.floor((h+2)*a)+1,n)+e,w=v-E;for(b=E;b<v;b++)_+=t[b].x,m+=t[b].y;_/=w,m/=w;const M=Math.floor(h*a)+1+e,k=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:O,y:D}=t[u];for(d=p=-1,b=M;b<k;b++)p=.5*Math.abs((O-_)*(t[b].y-D)-(O-t[b].x)*(m-D)),p>d&&(d=p,f=t[b],g=b);o[l++]=f,u=g}return o[l++]=t[c],o}function JO(t,e,n,s){let i=0,r=0,o,a,l,c,u,h,f,d,p,g;const _=[],m=e+n-1,b=t[e].x,v=t[m].x-b;for(o=e;o<e+n;++o){a=t[o],l=(a.x-b)/v*s,c=a.y;const w=l|0;if(w===u)c<p?(p=c,h=o):c>g&&(g=c,f=o),i=(r*i+a.x)/++r;else{const M=o-1;if(!de(h)&&!de(f)){const k=Math.min(h,f),O=Math.max(h,f);k!==d&&k!==M&&_.push({...t[k],x:i}),O!==d&&O!==M&&_.push({...t[O],x:i})}o>0&&M!==d&&_.push(t[M]),_.push(a),u=w,r=0,p=g=c,h=f=d=o}}return _}function Wy(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Gp(t){t.data.datasets.forEach(e=>{Wy(e)})}function ZO(t,e){const n=e.length;let s=0,i;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=ft(Fn(e,r.axis,o).lo,0,n-1)),c?i=ft(Fn(e,r.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var eD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Gp(t);return}const s=t.width;t.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=t.getDatasetMeta(r),c=o||i.data;if(qi([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:f}=ZO(l,c);const d=n.threshold||4*s;if(f<=d){Wy(i);return}de(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=QO(c,h,f,s,n);break;case"min-max":p=JO(c,h,f,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=p})},destroy(t){Gp(t)}};function tD(t,e,n){const s=t.segments,i=t.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=rl(l,c,i);const u=Gc(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=by(e,u);for(const f of h){const d=Gc(n,r[f.start],r[f.end],f.loop),p=_y(a,i,d);for(const g of p)o.push({source:g,target:f,start:{[n]:Kp(u,d,"start",Math.max)},end:{[n]:Kp(u,d,"end",Math.min)}})}}return o}function Gc(t,e,n,s){if(s)return;let i=e[t],r=n[t];return t==="angle"&&(i=_t(i),r=_t(r)),{property:t,start:i,end:r}}function nD(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=rl(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function rl(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Kp(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function By(t,e){let n=[],s=!1;return ze(t)?(s=!0,n=t):n=nD(t,e),n.length?new il({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function qp(t){return t&&t.fill!==!1}function sD(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!qe(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function iD(t,e,n){const s=lD(t);if(me(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return qe(i)&&Math.floor(i)===i?rD(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function rD(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function oD(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:me(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function aD(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:me(t)?s=t.value:s=e.getBaseValue(),s}function lD(t){const e=t.options,n=e.fill;let s=ie(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function cD(t){const{scale:e,index:n,line:s}=t,i=[],r=s.segments,o=s.points,a=uD(e,n);a.push(By({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)hD(i,o[u],a)}return new il({points:i,options:{}})}function uD(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function hD(t,e,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=fD(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function fD(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if(Nn(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:s}}class Hy{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:Ve},e.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,r=e.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function dD(t){const{chart:e,fill:n,line:s}=t;if(qe(n))return pD(e,n);if(n==="stack")return cD(t);if(n==="shape")return!0;const i=gD(t);return i instanceof Hy?i:By(i,s)}function pD(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function gD(t){return(t.scale||{}).getPointPositionForValue?_D(t):mD(t)}function mD(t){const{scale:e={},fill:n}=t,s=oD(n,e);if(qe(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function _D(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=aD(n,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new Hy({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function Kl(t,e,n){const s=dD(e),{chart:i,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:d=h}=u||{},p=i.getDatasetMeta(r),g=yy(i,p);s&&o.points.length&&(el(t,n),bD(t,{line:o,target:s,above:f,below:d,area:n,scale:a,axis:l,clip:g}),tl(t))}function bD(t,e){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=r;r!==i&&(c==="x"?(Xp(t,s,o.top),ql(t,{line:n,target:s,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),Xp(t,s,o.bottom)):c==="y"&&(Qp(t,s,o.left),ql(t,{line:n,target:s,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),Qp(t,s,o.right),u=i)),ql(t,{line:n,target:s,color:u,scale:a,property:c,clip:l}),t.restore()}function Xp(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[rl(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Qp(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[rl(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function ql(t,e){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=e,l=tD(n,s,i);for(const{source:c,target:u,start:h,end:f}of l){const{style:{backgroundColor:d=r}={}}=c,p=s!==!0;t.save(),t.fillStyle=d,yD(t,o,a,p&&Gc(i,h,f)),t.beginPath();const g=!!n.pathSegment(t,c);let _;if(p){g?t.closePath():Jp(t,s,f,i);const m=!!s.pathSegment(t,u,{move:g,reverse:!0});_=g&&m,_||Jp(t,s,h,i)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function yD(t,e,n,s){const i=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,u-l,h-c),t.clip()}}function Jp(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var vD={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof il&&(l={visible:t.isDatasetVisible(o),index:o,fill:iD(a,o,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=sD(i,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Kl(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;qp(r)&&Kl(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!qp(s)||n.drawTime!=="beforeDatasetDraw"||Kl(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Zp=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},xD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class eg extends qn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Le(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=ot(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Zp(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((p,g)=>{const _=s+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+_+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,d+=u,f++),l[g]={left:0,top:d,row:f,width:_,height:i},c[c.length-1]+=_+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,d=0,p=0,g=0;return this.legendItems.forEach((_,m)=>{const{itemWidth:b,itemHeight:E}=CD(s,n,r,_,i);m>0&&d+E+2*a>u&&(h+=f+a,c.push({width:f,height:d}),p+=f+a,g++,f=d=0),l[m]={left:p,top:d,col:g,width:b,height:E},f=Math.max(f,b),d+=E+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=pi(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=mt(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=mt(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=mt(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=mt(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;el(e,this),this._draw(),tl(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=je.color,l=pi(e.rtl,this.left,this.width),c=ot(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:_}=Zp(o,h),m=function(M,k,O){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const D=ie(O.lineWidth,1);if(i.fillStyle=ie(O.fillStyle,a),i.lineCap=ie(O.lineCap,"butt"),i.lineDashOffset=ie(O.lineDashOffset,0),i.lineJoin=ie(O.lineJoin,"miter"),i.lineWidth=D,i.strokeStyle=ie(O.strokeStyle,a),i.setLineDash(ie(O.lineDash,[])),o.usePointStyle){const $={radius:g*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:D},G=l.xPlus(M,p/2),K=k+f;oy(i,$,G,K,o.pointStyleWidth&&p)}else{const $=k+Math.max((h-g)/2,0),G=l.leftForLtr(M,p),K=Bs(O.borderRadius);i.beginPath(),Object.values(K).some(_e=>_e!==0)?Yr(i,{x:G,y:$,w:p,h:g,radius:K}):i.rect(G,$,p,g),i.fill(),D!==0&&i.stroke()}i.restore()},b=function(M,k,O){Gs(i,O.text,M,k+_/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},E=this.isHorizontal(),v=this._computeTitleHeight();E?d={x:mt(r,this.left+u,this.right-s[0]),y:this.top+u+v,line:0}:d={x:this.left+u,y:mt(r,this.top+v+u,this.bottom-n[0].height),line:0},py(this.ctx,e.textDirection);const w=_+u;this.legendItems.forEach((M,k)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const O=i.measureText(M.text).width,D=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),$=p+f+O;let G=d.x,K=d.y;l.setWidth(this.width),E?k>0&&G+$+u>this.right&&(K=d.y+=w,d.line++,G=d.x=mt(r,this.left+u,this.right-s[d.line])):k>0&&K+w>this.bottom&&(G=d.x=G+n[d.line].width+u,d.line++,K=d.y=mt(r,this.top+v+u,this.bottom-n[d.line].height));const _e=l.x(G);if(m(_e,K,M),G=RM(D,G+p+f,E?G+$:this.right,e.rtl),b(l.x(G),K,M),E)d.x+=$+u;else if(typeof M.text!="string"){const Ye=c.lineHeight;d.y+=$y(M,Ye)+u}else d.y+=w}),gy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=ot(n.font),i=Et(n.padding);if(!n.display)return;const r=pi(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=mt(e.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);u=c+mt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const d=mt(a,h,h+f);o.textAlign=r.textAlign(uh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Gs(o,n.text,d,u,s)}_computeTitleHeight(){const e=this.options.title,n=ot(e.font),s=Et(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Nn(e,this.left,this.right)&&Nn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Nn(e,i.left,i.left+i.width)&&Nn(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!wD(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=xD(i,s);i&&!r&&Le(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&Le(n.onHover,[e,s,this],this)}else s&&Le(n.onClick,[e,s,this],this)}}function CD(t,e,n,s,i){const r=ED(s,t,e,n),o=SD(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function ED(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function SD(t,e,n){let s=t;return typeof e.text!="string"&&(s=$y(e,n)),s}function $y(t,e){const n=t.text?t.text.length:0;return e*n}function wD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var kD={id:"legend",_element:eg,start(t,e,n){const s=t.legend=new eg({ctx:t.ctx,options:n,chart:t});xt.configure(t,s,n),xt.addBox(t,s)},stop(t){xt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;xt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Et(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class vh extends qn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ze(s.text)?s.text.length:1;this._padding=Et(s.padding);const r=i*ot(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=mt(a,s,r),h=n+e,c=r-s):(o.position==="left"?(u=s+e,h=mt(a,i,n),l=xe*-.5):(u=r-e,h=mt(a,n,i),l=xe*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=ot(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Gs(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:uh(n.align),textBaseline:"middle",translation:[o,a]})}}function TD(t,e){const n=new vh({ctx:t.ctx,options:e,chart:t});xt.configure(t,n,e),xt.addBox(t,n),t.titleBlock=n}var ID={id:"title",_element:vh,start(t,e,n){TD(t,n)},stop(t){const e=t.titleBlock;xt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;xt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mo=new WeakMap;var PD={id:"subtitle",start(t,e,n){const s=new vh({ctx:t.ctx,options:n,chart:t});xt.configure(t,s,n),xt.addBox(t,s),Mo.set(t,s)},stop(t){xt.removeBox(t,Mo.get(t)),Mo.delete(t)},beforeUpdate(t,e,n){const s=Mo.get(t);xt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qi={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Bc(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function hn(t,e){return e&&(ze(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function In(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function MD(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function tg(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=ot(e.bodyFont),c=ot(e.titleFont),u=ot(e.footerFont),h=r.length,f=i.length,d=s.length,p=Et(e.padding);let g=p.height,_=0,m=s.reduce((v,w)=>v+w.before.length+w.lines.length+w.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const v=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*v+(m-d)*l.lineHeight+(m-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const E=function(v){_=Math.max(_,n.measureText(v).width+b)};return n.save(),n.font=c.string,Pe(t.title,E),n.font=l.string,Pe(t.beforeBody.concat(t.afterBody),E),b=e.displayColors?o+2+e.boxPadding:0,Pe(s,v=>{Pe(v.before,E),Pe(v.lines,E),Pe(v.after,E)}),b=0,n.font=u.string,Pe(t.footer,E),n.restore(),_+=p.width,{width:_,height:g}}function AD(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function RD(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function OD(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),RD(c,t,e,n)&&(c="center"),c}function ng(t,e,n){const s=n.yAlign||e.yAlign||AD(t,n);return{xAlign:n.xAlign||e.xAlign||OD(t,e,n,s),yAlign:s}}function DD(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function LD(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function sg(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=Bs(o);let p=DD(e,a);const g=LD(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+i:a==="right"&&(p+=Math.max(h,d)+i),{x:ft(p,0,s.width-e.width),y:ft(g,0,s.height-e.height)}}function Ao(t,e,n){const s=Et(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function ig(t){return hn([],In(t))}function ND(t,e,n){return xs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function rg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Vy={beforeTitle:kn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:kn,beforeBody:kn,beforeLabel:kn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return de(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:kn,afterBody:kn,beforeFooter:kn,footer:kn,afterFooter:kn};function Mt(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?Vy[e].call(n,s):i}class og extends qn{static positioners=Qi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new vy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=ND(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Mt(s,"beforeTitle",this,e),r=Mt(s,"title",this,e),o=Mt(s,"afterTitle",this,e);let a=[];return a=hn(a,In(i)),a=hn(a,In(r)),a=hn(a,In(o)),a}getBeforeBody(e,n){return ig(Mt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Pe(e,r=>{const o={before:[],lines:[],after:[]},a=rg(s,r);hn(o.before,In(Mt(a,"beforeLabel",this,r))),hn(o.lines,Mt(a,"label",this,r)),hn(o.after,In(Mt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return ig(Mt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Mt(s,"beforeFooter",this,e),r=Mt(s,"footer",this,e),o=Mt(s,"afterFooter",this,e);let a=[];return a=hn(a,In(i)),a=hn(a,In(r)),a=hn(a,In(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(MD(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,s))),Pe(a,u=>{const h=rg(e.callbacks,u);i.push(Mt(h,"labelColor",this,u)),r.push(Mt(h,"labelPointStyle",this,u)),o.push(Mt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Qi[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=tg(this,s),c=Object.assign({},a,l),u=ng(this.chart,s,c),h=sg(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Bs(a),{x:f,y:d}=e,{width:p,height:g}=n;let _,m,b,E,v,w;return r==="center"?(v=d+g/2,i==="left"?(_=f,m=_-o,E=v+o,w=v-o):(_=f+p,m=_+o,E=v-o,w=v+o),b=_):(i==="left"?m=f+Math.max(l,u)+o:i==="right"?m=f+p-Math.max(c,h)-o:m=this.caretX,r==="top"?(E=d,v=E-o,_=m-o,b=m+o):(E=d+g,v=E+o,_=m+o,b=m-o),w=E),{x1:_,x2:m,x3:b,y1:E,y2:v,y3:w}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=pi(s.rtl,this.x,this.width);for(e.x=Ao(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=ot(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=ot(r.bodyFont),h=Ao(this,"left",r),f=i.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+d;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(f,c)+c/2,m=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,$c(e,g,_,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,$c(e,g,_,m)}else{e.lineWidth=me(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(f,c),_=i.leftForLtr(i.xPlus(f,1),c-2),m=Bs(o.borderRadius);Object.values(m).some(b=>b!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Yr(e,{x:g,y:p,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Yr(e,{x:_,y:p+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=ot(s.bodyFont);let f=h.lineHeight,d=0;const p=pi(s.rtl,this.x,this.width),g=function(O){n.fillText(O,p.x(e.x+d),e.y+f/2),e.y+=f+r},_=p.textAlign(o);let m,b,E,v,w,M,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Ao(this,_,s),n.fillStyle=s.bodyColor,Pe(this.beforeBody,g),d=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,v=0,M=i.length;v<M;++v){for(m=i[v],b=this.labelTextColors[v],n.fillStyle=b,Pe(m.before,g),E=m.lines,a&&E.length&&(this._drawColorBox(n,e,v,p,s),f=Math.max(h.lineHeight,l)),w=0,k=E.length;w<k;++w)g(E[w]),f=h.lineHeight;Pe(m.after,g)}d=0,f=h.lineHeight,Pe(this.afterBody,g),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=pi(s.rtl,this.x,this.width);for(e.x=Ao(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=ot(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=Bs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Qi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=tg(this,e),l=Object.assign({},o,this._size),c=ng(n,e,l),u=sg(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Et(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),py(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),gy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!da(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!da(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Qi[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}var FD={id:"tooltip",_element:og,positioners:Qi,afterInit(t,e,n){n&&(t.tooltip=new og({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Vy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},WD=Object.freeze({__proto__:null,Colors:XO,Decimation:eD,Filler:vD,Legend:kD,SubTitle:PD,Title:ID,Tooltip:FD});const BD=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function HD(t,e,n,s){const i=t.indexOf(e);if(i===-1)return BD(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const $D=(t,e)=>t===null?null:ft(Math.round(t),0,e);function ag(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class VD extends Qs{static id="category";static defaults={ticks:{callback:ag}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(de(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:HD(s,e,ie(n,e),this._addedLabels),$D(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return ag.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function UD(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,d=r||1,p=u-1,{min:g,max:_}=e,m=!de(o),b=!de(a),E=!de(c),v=(_-g)/(h+1);let w=tp((_-g)/p/d)*d,M,k,O,D;if(w<1e-14&&!m&&!b)return[{value:g},{value:_}];D=Math.ceil(_/w)-Math.floor(g/w),D>p&&(w=tp(D*w/p/d)*d),de(l)||(M=Math.pow(10,l),w=Math.ceil(w*M)/M),i==="ticks"?(k=Math.floor(g/w)*w,O=Math.ceil(_/w)*w):(k=g,O=_),m&&b&&r&&wM((a-o)/r,w/1e3)?(D=Math.round(Math.min((a-o)/w,u)),w=(a-o)/D,k=o,O=a):E?(k=m?o:k,O=b?a:O,D=c-1,w=(O-k)/D):(D=(O-k)/w,pr(D,Math.round(D),w/1e3)?D=Math.round(D):D=Math.ceil(D));const $=Math.max(np(w),np(k));M=Math.pow(10,de(l)?$:l),k=Math.round(k*M)/M,O=Math.round(O*M)/M;let G=0;for(m&&(f&&k!==o?(n.push({value:o}),k<o&&G++,pr(Math.round((k+G*w)*M)/M,o,lg(o,v,t))&&G++):k<o&&G++);G<D;++G){const K=Math.round((k+G*w)*M)/M;if(b&&K>a)break;n.push({value:K})}return b&&f&&O!==a?n.length&&pr(n[n.length-1].value,a,lg(a,v,t))?n[n.length-1].value=a:n.push({value:a}):(!b||O===a)&&n.push({value:O}),n}function lg(t,e,{horizontal:n,minRotation:s}){const i=tn(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class va extends Qs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=yn(i),c=yn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=UD(i,r);return e.bounds==="ticks"&&Qb(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return lo(e,this.chart.options.locale,this.options.ticks.format)}}class zD extends va{static id="linear";static defaults={ticks:{callback:Za.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=qe(e)?e:0,this.max=qe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=tn(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Kr=t=>Math.floor(ss(t)),Is=(t,e)=>Math.pow(10,Kr(t)+e);function cg(t){return t/Math.pow(10,Kr(t))===1}function ug(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function jD(t,e){const n=e-t;let s=Kr(n);for(;ug(t,e,s)>10;)s++;for(;ug(t,e,s)<10;)s--;return Math.min(s,Kr(t))}function YD(t,{min:e,max:n}){e=Ht(t.min,e);const s=[],i=Kr(e);let r=jD(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=Ht(t.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<n;)s.push({value:f,major:cg(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const d=Ht(t.max,f);return s.push({value:d,major:cg(d),significand:h}),s}class GD extends Qs{static id="logarithmic";static defaults={ticks:{callback:Za.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=va.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return qe(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=qe(e)?Math.max(0,e):null,this.max=qe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!qe(this._userMin)&&(this.min=e===Is(this.min,0)?Is(this.min,-1):Is(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Is(s,-1)),o(Is(i,1)))),s<=0&&r(Is(i,-1)),i<=0&&o(Is(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=YD(n,this);return e.bounds==="ticks"&&Qb(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":lo(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ss(e),this._valueRange=ss(this.max)-ss(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ss(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function Kc(t){const e=t.ticks;if(e.display&&t.display){const n=Et(e.backdropPadding);return ie(e.font&&e.font.size,je.font.size)+n.height}return 0}function KD(t,e,n){return n=ze(n)?n:[n],{w:VM(t,e.string,n),h:n.length*e.lineHeight}}function hg(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function qD(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?xe/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),h=ot(c.font),f=KD(t.ctx,h,t._pointLabels[l]);s[l]=f;const d=_t(t.getIndexAngle(l)+a),p=Math.round(lh(d)),g=hg(p,u.x,f.w,0,180),_=hg(p,u.y,f.h,90,270);XD(n,e,d,g,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=ZD(t,s,i)}function XD(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function QD(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,s+i+o,r),c=Math.round(lh(_t(l.angle+Je))),u=nL(l.y,a.h,c),h=eL(c),f=tL(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function JD(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:r}=t;return!(Wn({x:n,y:s},e)||Wn({x:n,y:r},e)||Wn({x:i,y:s},e)||Wn({x:i,y:r},e))}function ZD(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Kc(r)/2,additionalAngle:o?xe/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const h=QD(t,u,l);s.push(h),a==="auto"&&(h.visible=JD(h,c),h.visible&&(c=h))}return s}function eL(t){return t===0||t===180?"center":t<180?"left":"right"}function tL(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function nL(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function sL(t,e,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=e;if(!de(a)){const l=Bs(e.borderRadius),c=Et(e.backdropPadding);t.fillStyle=a;const u=s-c.left,h=i-c.top,f=r-s+c.width,d=o-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Yr(t,{x:u,y:h,w:f,h:d,radius:l}),t.fill()):t.fillRect(u,h,f,d)}}function iL(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=t._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(t.getPointLabelContext(i));sL(n,o,r);const a=ot(o.font),{x:l,y:c,textAlign:u}=r;Gs(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Uy(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Ve);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function rL(t,e,n,s,i){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),Uy(t,n,o,s),r.closePath(),r.stroke(),r.restore())}function oL(t,e,n){return xs(t,{label:n,index:e,type:"pointLabel"})}class aL extends va{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Za.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Et(Kc(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=qe(e)&&!isNaN(e)?e:0,this.max=qe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Kc(this.options))}generateTickLabels(e){va.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=Le(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?qD(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=Ve/(this._pointLabels.length||1),s=this.options.startAngle||0;return _t(e*n+tn(s))}getDistanceFromCenterForValue(e){if(de(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(de(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return oL(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-Je+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),Uy(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&iL(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),d=i.setContext(f),p=r.setContext(f);rL(this,d,l,o,p)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=ot(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Et(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Gs(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const ol={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rt=Object.keys(ol);function fg(t,e){return t-e}function dg(t,e){if(de(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),qe(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ki(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function pg(t,e,n,s){const i=Rt.length;for(let r=Rt.indexOf(t);r<i-1;++r){const o=ol[Rt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Rt[r]}return Rt[i-1]}function lL(t,e,n,s,i){for(let r=Rt.length-1;r>=Rt.indexOf(n);r--){const o=Rt[r];if(ol[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Rt[n?Rt.indexOf(n):0]}function cL(t){for(let e=Rt.indexOf(t)+1,n=Rt.length;e<n;++e)if(ol[Rt[e]].common)return Rt[e]}function gg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=ch(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function uL(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function mg(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:uL(t,s,i,n)}class qc extends Qs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new hR._date(e.adapters.date);i.init(n),dr(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:dg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=qe(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=qe(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=PM(i,r,o);return this._unit=n.unit||(s.autoSkip?pg(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):lL(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:cL(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),mg(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ft(n,0,o),s=ft(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||pg(r.minUnit,n,s,this._getLabelCapacity(n)),a=ie(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ki(l)||l===!0,u={};let h=n,f,d;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<s;f=+e.add(f,a,o),d++)gg(u,f,p);return(f===s||i.bounds==="ticks"||d===1)&&gg(u,f,p),Object.keys(u).sort(fg).map(g=>+g)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Le(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=s[n],d=c&&h&&f&&f.major;return this._adapter.format(e,i||(d?h:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=tn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,mg(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(dg(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ey(e.sort(fg))}}function Ro(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Fn(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Fn(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class hL extends qc{static id="timeseries";static defaults=qc.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ro(n,this.min),this._tableRange=Ro(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Ro(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Ro(this._table,s*this._tableRange+this._minPos,!0)}}var fL=Object.freeze({__proto__:null,CategoryScale:VD,LinearScale:zD,LogarithmicScale:GD,RadialLinearScale:aL,TimeScale:qc,TimeSeriesScale:hL});const dL=[uR,UO,WD,fL],pL={class:"chart-container"},gL={class:"chart-header"},mL={class:"chart-controls"},_L={class:"chart-wrapper"},bL=Pt({__name:"WorkoutChart",props:{workouts:{},title:{},type:{}},setup(t){zc.register(...dL);const e=t,n=kt(),s=kt(30);let i=null;Oa(()=>{Aa(()=>{r()})}),Bn(()=>e.workouts,()=>{o()},{deep:!0});function r(){if(!n.value)return;const u=n.value.getContext("2d");if(!u)return;const f={type:"line",data:a(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{display:!0,title:{display:!0,text:"Date"},grid:{color:"#F3F4F6"}},y:{display:!0,title:{display:!0,text:l()},beginAtZero:!0,grid:{color:"#F3F4F6"}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}};i=new zc(u,f)}function o(){if(!i)return;const u=a();i.data=u,i.update()}function a(){const u=new Date,h=new Date(u.getTime()-s.value*24*60*60*1e3),f=e.workouts.filter(g=>new Date(g.date)>=h),d=[],p=[];for(let g=new Date(h);g<=u;g.setDate(g.getDate()+1)){const _=g.toISOString().split("T")[0];d.push(new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric"}));const m=f.find(E=>E.date===_);let b=0;if(m)switch(e.type){case"volume":b=m.exercises.reduce((E,v)=>E+v.sets.reduce((w,M)=>w+M.reps*(M.weight||1),0),0);break;case"frequency":b=m.exercises.length;break;case"progress":b=m.exercises.reduce((E,v)=>E+v.sets.length,0);break}p.push(b)}return{labels:d,datasets:[{label:c(),data:p,borderColor:"#2563EB",backgroundColor:"rgba(37, 99, 235, 0.1)",borderWidth:2,fill:!0,tension:.4,pointBackgroundColor:"#2563EB",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]}}function l(){switch(e.type){case"volume":return"Total Volume (reps × weight)";case"frequency":return"Number of Exercises";case"progress":return"Total Sets";default:return""}}function c(){switch(e.type){case"volume":return"Workout Volume";case"frequency":return"Exercise Count";case"progress":return"Sets Completed";default:return""}}return(u,h)=>(re(),le("div",pL,[H("div",gL,[H("h3",null,ye(u.title),1),H("div",mL,[vr(H("select",{"onUpdate:modelValue":h[0]||(h[0]=f=>s.value=f),onChange:o,class:"period-select"},h[1]||(h[1]=[H("option",{value:"7"},"Last 7 days",-1),H("option",{value:"30"},"Last 30 days",-1),H("option",{value:"90"},"Last 90 days",-1)]),544),[[Sr,s.value]])])]),H("div",_L,[H("canvas",{ref_key:"chartCanvas",ref:n},null,512)])]))}}),Xl=Yn(bL,[["__scopeId","data-v-73831bdf"]]),yL={class:"history-page"},vL={class:"history-header"},xL={class:"header-actions"},CL={key:0,class:"history-content"},EL={class:"charts-section"},SL={class:"charts-row"},wL={key:1,class:"empty-history"},kL=Pt({__name:"HistoryPage",setup(t){const e=async()=>{const n=await jb.exportData(),s=new Blob([n],{type:"application/json"}),i=document.createElement("a");i.href=URL.createObjectURL(s),i.download=`workout-history-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(i.href)};return(n,s)=>{const i=Qr("router-link");return re(),le("div",yL,[H("header",vL,[s[1]||(s[1]=H("div",{class:"header-content"},[H("h1",null,"Workout History"),H("p",null,"Track your progress and achievements")],-1)),H("div",xL,[H("button",{onClick:e,class:"export-btn"},[se(be(gx),{size:18}),s[0]||(s[0]=Ut(" Export Data ",-1))])])]),be(gn).length>0?(re(),le("div",CL,[H("div",EL,[se(Xl,{workouts:be(gn),title:"Workout Volume Over Time",type:"volume"},null,8,["workouts"]),H("div",SL,[se(Xl,{workouts:be(gn),title:"Exercise Frequency",type:"frequency"},null,8,["workouts"]),se(Xl,{workouts:be(gn),title:"Total Sets Progress",type:"progress"},null,8,["workouts"])])]),se(zb,{workouts:be(gn)},null,8,["workouts"])])):(re(),le("div",wL,[se(be(_x),{size:64,class:"empty-icon"}),s[3]||(s[3]=H("h2",null,"No Workout History Yet",-1)),s[4]||(s[4]=H("p",null,"Start tracking your workouts to see your progress over time.",-1)),se(i,{to:"/",class:"start-tracking-btn"},{default:ts(()=>s[2]||(s[2]=[Ut(" Start Your First Workout ",-1)])),_:1,__:[2]})]))])}}}),TL=Yn(kL,[["__scopeId","data-v-707b6c96"]]),IL=[{path:"/my-workout-tracker",name:"Dashboard",component:ZI},{path:"/workout/:date?",name:"Workout",component:jP,props:!0},{path:"/history",name:"History",component:TL}],PL=wI({history:eI(),routes:IL});var ML="firebase",AL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(ML,AL,"app");const RL={apiKey:"AIzaSyCyWR3hKORNvQz7zLh-MmrFIZl3ytFOHIc",authDomain:"auth-test-7ba42.firebaseapp.com",databaseURL:"https://auth-test-7ba42.firebaseio.com",projectId:"auth-test-7ba42",storageBucket:"auth-test-7ba42.firebasestorage.app",messagingSenderId:"678059289463",appId:"1:678059289463:web:6c341671ac83c81f4d0f72"},OL={dashboard:"Dashboard",workout:"Workout",history:"History"},DL={nav:OL},LL=aE({locale:"en",fallbackLocale:"en",messages:{en:DL}});o_(RL);const xh=ix(ET);xh.use(PL);xh.use(LL);xh.mount("#app");
